(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1072:function(e,t,n){"use strict";var o=n(6),r=n(0),l=n(82),d=n(26),c=n(6).grep,h=n(1).extend,_=n(35),f=n(10),m=n(1628),v=n(1646),C=n(1080),x=n(416).ChildDefaultTemplate,I={actionSheet:m,dropDownMenu:v},y="dx-toolbar-item-auto-hide",S="dx-toolbar-item-invisible",w=C.inherit({_getDefaultOptions:function(){return h(this.callBase(),{menuItemTemplate:"menuItem",submenuType:"dropDownMenu",menuContainer:void 0})},_defaultOptionsRules:function(){var e=l.current();return this.callBase().concat([{device:function(){return l.isIos7(e)},options:{submenuType:"actionSheet"}}])},_dimensionChanged:function(e){"height"!==e&&(this._menuStrategy.toggleMenuVisibility(!1,!0),this.callBase(),this._menuStrategy.renderMenuItems())},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({actionSheetItem:new x("item")})},_initMarkup:function(){this.callBase(),this._renderMenu()},_postProcessRenderItems:function(){var e=this;this._hideOverflowItems(),this._menuStrategy._updateMenuVisibility(),this.callBase(),(0,o.deferRender)((function(){e._menuStrategy.renderMenuItems()}))},_renderItem:function(e,t,n,o){var r=this.callBase(e,t,n,o);return"auto"===t.locateInMenu&&r.addClass(y),"dxButton"===t.widget&&"inMenu"===t.showText&&r.toggleClass("dx-toolbar-text-auto-hide"),r},_getItemsWidth:function(){return this._getSummaryItemsWidth([this._$beforeSection,this._$centerSection,this._$afterSection])},_hideOverflowItems:function(e){var t=this.$element().find(".dx-toolbar-item-auto-hide");if(t.length){e=e||this.$element().width(),r(t).removeClass(S);for(var n=this._getItemsWidth();t.length&&e<n;){var o=t.eq(-1);n-=o.outerWidth(),o.addClass(S),t.splice(-1,1)}}},_getMenuItems:function(){var e=this,t=c(this.option("items")||[],(function(t){return e._isMenuItem(t)})),n=this._itemContainer().children(".dx-toolbar-item-auto-hide."+S).not(".dx-state-invisible");this._restoreItems=this._restoreItems||[];var o=[].slice.call(n).map((function(t){var n=e._getItemData(t),o=r(t).children(),l=o.children();return h({menuItemTemplate:function(){return e._restoreItems.push({container:o,item:l}),r("<div>").addClass(y).append(l)}},n)}));return _.merge(o,t)},_getToolbarItems:function(){var e=this;return c(this.option("items")||[],(function(t){return!e._isMenuItem(t)}))},_renderMenu:function(){var e=this;this._renderMenuStrategy(),(0,o.deferRender)((function(){e._menuStrategy.render()}))},_renderMenuStrategy:function(){var e=this.option("submenuType");this._requireDropDownStrategy()&&(e="dropDownMenu");var t=I[e];this._menuStrategy&&this._menuStrategy.NAME===e||(this._menuStrategy=new t(this))},_requireDropDownStrategy:function(){var e=this.option("items")||[],t=!1;return f.each(e,(function(e,n){("auto"===n.locateInMenu||"always"===n.locateInMenu&&n.widget)&&(t=!0)})),t},_arrangeItems:function(){if(!this.$element().is(":hidden")){this._$centerSection.css({margin:"0 auto",float:"none"}),f.each(this._restoreItems||[],(function(e,t){r(t.container).append(t.item)})),this._restoreItems=[];var e=this.$element().width();this._hideOverflowItems(e),this.callBase(e)}},_itemOptionChanged:function(e,t,n){this._isMenuItem(e)?this._menuStrategy.renderMenuItems():this._isToolbarItem(e)?this.callBase(e,t,n):(this.callBase(e,t,n),this._menuStrategy.renderMenuItems()),"location"===t&&this.repaint()},_isMenuItem:function(e){return"menu"===e.location||"always"===e.locateInMenu},_isToolbarItem:function(e){return void 0===e.location||"never"===e.locateInMenu},_optionChanged:function(e){var t=e.name,n=e.value;switch(t){case"submenuType":this._invalidate();break;case"visible":this.callBase.apply(this,arguments),this._menuStrategy.handleToolbarVisibilityChange(n);break;case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(n));break;case"onItemClick":this._changeMenuOption(t,n),this.callBase.apply(this,arguments);break;case"menuContainer":this._changeMenuOption("container",n);break;default:this.callBase.apply(this,arguments)}},_changeMenuOption:function(e,t){this._menuStrategy.widgetOption(e,t)}});d("dxToolbar",w),e.exports=w,e.exports.default=e.exports},1073:function(e,t,n){"use strict";var o=n(0),r=n(6).noop,l=n(10).each,d=n(73),c=n(70).compileGetter,h=n(37),_=n(80),f=h.abstract,m=h.inherit({ctor:function(e){this._toolbar=e},render:function(){this._renderMenuButton(),this._renderWidget()},_widgetOptions:function(){var e=this._toolbar._createActionByOption("onItemClick");return{itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:function(t){this._toggleMenu(!1,!0),e(t)}.bind(this)}},_getMenuItemTemplate:function(){return this._toolbar._getTemplateByOption("menuItemTemplate")},_renderWidget:function(){var e=o("<div>").appendTo(this._menuContainer());this._menu=this._toolbar._createComponent(e,this._menuWidgetClass(),this._widgetOptions()),this.renderMenuItems()},_menuContainer:f,_menuWidgetClass:f,_hasVisibleMenuItems:function(e){var t=e||this._toolbar.option("items"),n=!1,o=c("visible"),r=c("locateInMenu"),h=!1;return l(t,(function(e,t){var l=o(t,{functionsAsIs:!0}),d=r(t,{functionsAsIs:!0});"menu"===t.location&&(h=!0),!1===l||"auto"!==d&&"always"!==d&&"menu"!==t.location||(n=!0)})),h&&d.log("W0001","dxToolbar - 'location' item field","menu","16.1","Use 'locateInMenu' item field instead."),n},_getMenuItems:function(){return this._toolbar._getMenuItems()},_updateMenuVisibility:r,_renderMenuButton:function(){var e=this._menuButtonOptions();this._renderMenuButtonContainer(),this._$button=o("<div>").appendTo(this._$menuButtonContainer).addClass("dx-toolbar-menu-button"),this._toolbar._createComponent(this._$button,_,e)},_menuButtonOptions:function(){return{onClick:this._menuButtonClickHandler.bind(this)}},_menuButtonClickHandler:function(){this._toggleMenu(!this._menuShown,!0)},_renderMenuButtonContainer:function(){var e=this._toolbar._$afterSection;this._$menuButtonContainer=o("<div>").appendTo(e).addClass(this._toolbar._buttonClass()).addClass("dx-toolbar-menu-container")},renderMenuItems:function(){this._menu&&this._menu.option("items",this._getMenuItems())},toggleMenuVisibility:function(e,animate){this._menu&&this._toggleMenu(e,animate)},_toggleMenu:function(e){this._menuShown=e},getMenuWidget:function(){return this._menu},widgetOption:function(e,t){this._menu&&this._menu.option(e,t)},handleToolbarVisibilityChange:r});e.exports=m},1080:function(e,t,n){"use strict";var o=w(n(0)),r=w(n(82)),l=w(n(6)),d=n(2),c=w(n(26)),h=n(35),_=n(1),f=n(10),m=n(75),v=w(n(1645)),C=w(n(339)),x=n(184),I=w(n(73)),y=w(n(104)),S=n(1081);function w(e){return e&&e.__esModule?e:{default:e}}var A="dx-toolbar-before",B="dx-toolbar-after",E="dx-toolbar-label",k="dx-toolbar-compact",T=".dx-toolbar-label",N="dx-toolbar-multiline",M=v.default.inherit({compactMode:!1,ctor:function(element,e){this._userOptions=e||{},this.callBase(element,e),"height"in this._userOptions&&I.default.log("W0001",this.NAME,"height","20.1","Functionality associated with this option is not intended for the Toolbar widget.")},_getSynchronizableOptionsForCreateComponent:function(){return this.callBase().filter((function(e){return"disabled"!==e}))},_initTemplates:function(){this.callBase();var template=new x.BindableTemplate(function(e,data,t){(0,d.isPlainObject)(data)?(data.text&&e.text(data.text).wrapInner("<div>"),data.html&&e.html(data.html),"dxButton"===data.widget&&(this.option("useFlatButtons")&&(data.options=data.options||{},data.options.stylingMode=data.options.stylingMode||"text"),this.option("useDefaultButtons")&&(data.options=data.options||{},data.options.type=data.options.type||"default"))):e.text(String(data)),this._getTemplate("dx-polymorph-widget").render({container:e,model:t,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:template,menuItem:template})},_getDefaultOptions:function(){return(0,_.extend)(this.callBase(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1,multiline:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.default.isMaterial()},options:{useFlatButtons:!0}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find([".dx-toolbar-before",".dx-toolbar-center",".dx-toolbar-after"].join(","))},_itemClass:function(){return"dx-toolbar-item"},_itemDataKey:function(){return"dxToolbarItemDataKey"},_buttonClass:function(){return"dx-toolbar-button"},_dimensionChanged:function(){this._arrangeItems(),this._applyCompactMode()},_initMarkup:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this.setAria("role","toolbar")},_waitParentAnimationFinished:function(){var e=this,t=this.$element();return new C.default((function(n){!function r(){clearTimeout(e._waitParentAnimationTimeout),e._waitParentAnimationTimeout=setTimeout((function(){return e=!0,t.parents().each((function(t,n){if(y.default.isAnimating((0,o.default)(n)))return e=!1,!1})),e&&n(),e||r();var e}),15)}()}))},_render:function(){this.callBase(),this._renderItemsAsync(),r.default.isMaterial()&&C.default.all([this._waitParentAnimationFinished(),this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))},_postProcessRenderItems:function(){this._arrangeItems()},_renderToolbar:function(){this.$element().addClass(S.TOOLBAR_CLASS).toggleClass("dx-toolbar-bottom","bottomToolbar"===this.option("renderAs")).toggleClass(N,this.option("multiline")),this._$toolbarItemsContainer=(0,o.default)("<div>").addClass("dx-toolbar-items-container").appendTo(this.$element())},_renderSections:function(){var e=this._$toolbarItemsContainer,t=this;(0,f.each)(["before","center","after"],(function(){var n="dx-toolbar-"+this,r=e.find("."+n);r.length||(t["_$"+this+"Section"]=r=(0,o.default)("<div>").addClass(n).appendTo(e))}))},_checkWebFontForLabelsLoaded:function(){var e=this.$element().find(T),t=[];return e.each((function(e,label){var text=(0,o.default)(label).text(),n=(0,o.default)(label).css("fontWeight");t.push(r.default.waitWebFont(text,n))})),C.default.all(t)},_arrangeItems:function(e){e=e||this.$element().width(),this._$centerSection.css({margin:"0 auto",float:"none"});var t=(0,m.getBoundingRect)(this._$beforeSection.get(0)),n=(0,m.getBoundingRect)(this._$afterSection.get(0));this._alignCenterSection(t,n,e);var r=this._$toolbarItemsContainer.find(T).eq(0),l=r.parent();if(r.length){var d=t.width?t.width:r.position().left,c=l.hasClass(A)?0:d,h=l.hasClass(B)?0:n.width,_=0;l.children().not(T).each((function(){_+=(0,o.default)(this).outerWidth()}));var f=e-_,v=Math.max(f-c-h,0);if(l.hasClass(A))this._alignSection(this._$beforeSection,v);else{var C=r.outerWidth()-r.width();r.css("maxWidth",v-C)}}},_alignCenterSection:function(e,t,n){this._alignSection(this._$centerSection,n-e.width-t.width);var o=this.option("rtlEnabled"),r=o?t:e,l=o?e:t,d=(0,m.getBoundingRect)(this._$centerSection.get(0));(r.right>d.left||d.right>l.left)&&this._$centerSection.css({marginLeft:r.width,marginRight:l.width,float:r.width>l.width?"none":"right"})},_alignSection:function(e,t){var n=e.find(T).toArray();t-=this._getCurrentLabelsPaddings(n);var o=this._getCurrentLabelsWidth(n),r=Math.abs(o-t);t<o?(n=n.reverse(),this._alignSectionLabels(n,r,!1)):this._alignSectionLabels(n,r,!0)},_alignSectionLabels:function(e,t,n){for(var r=function(label){return(0,m.getBoundingRect)(label).width},i=0;i<e.length;i++){var l=(0,o.default)(e[i]),d=Math.ceil(r(e[i])),c=void 0;n&&l.css("maxWidth","inherit");var h=Math.ceil(n?r(e[i]):d);if(!(h<t)){c=n?d+t:d-t,l.css("maxWidth",c);break}c=n?h:0,t-=h,l.css("maxWidth",c)}},_applyCompactMode:function(){var e=this.$element();e.removeClass(k),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>e.width()&&e.addClass(k)},_getCurrentLabelsWidth:function(e){var t=0;return e.forEach((function(label,e){t+=(0,o.default)(label).outerWidth()})),t},_getCurrentLabelsPaddings:function(e){var t=0;return e.forEach((function(label,e){t+=(0,o.default)(label).outerWidth()-(0,o.default)(label).width()})),t},_renderItem:function(e,t,n,o){var r=t.location||"center",l=n||this["_$"+r+"Section"],d=!(!t.text&&!t.html),c=this.callBase(e,t,l,o);return c.toggleClass(this._buttonClass(),!d).toggleClass(E,d).addClass(t.cssClass),c},_renderGroupedItems:function(){var e=this;(0,f.each)(this.option("items"),(function(t,n){var r=n.items,l=(0,o.default)("<div>").addClass("dx-toolbar-group"),d=n.location||"center";r&&r.length&&((0,f.each)(r,(function(t,n){e._renderItem(t,n,l,null)})),e._$toolbarItemsContainer.find(".dx-toolbar-"+d).append(l))}))},_renderItems:function(e){this.option("grouped")&&e.length&&e[0].items?this._renderGroupedItems():this.callBase(e)},_getToolbarItems:function(){return this.option("items")||[]},_renderContentImpl:function(){var e=this._getToolbarItems();this.$element().toggleClass("dx-toolbar-mini",0===e.length),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()},_renderEmptyMessage:l.default.noop,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty()},_visibilityChanged:function(e){e&&this._arrangeItems()},_isVisible:function(){return this.$element().width()>0&&this.$element().height()>0},_getIndexByItem:function(e){return(0,h.inArray)(e,this._getToolbarItems())},_itemOptionChanged:function(e,t,n){this.callBase.apply(this,[e,t,n]),this._arrangeItems()},_optionChanged:function(e){var t=e.name;switch(t){case"width":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"multiline":this.$element().toggleClass(N,e.value);break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:this.callBase.apply(this,arguments)}},_dispose:function(){this.callBase(),clearTimeout(this._waitParentAnimationTimeout)}});(0,c.default)("dxToolbarBase",M),e.exports=M},1081:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOOLBAR_CLASS="dx-toolbar"},1118:function(e,t,n){"use strict";var o=n(0),r=n(103),l=n(26),d=n(1).extend,c=n(423),h=n(2).isWindow,_=c.inherit({_getDefaultOptions:function(){return d(this.callBase(),{toolbarItems:[],showCloseButton:!1,showTitle:!1,title:null,titleTemplate:null,onTitleRendered:null,bottomTemplate:null,propagateOutsideClick:!0})},_render:function(){this.$element().addClass("dx-tooltip"),this._wrapper().addClass("dx-tooltip-wrapper"),this.callBase()},_renderContent:function(){this.callBase(),this._contentId="dx-"+new r,this._$content.attr({id:this._contentId,role:"tooltip"}),this._toggleAriaDescription(!0)},_toggleAriaDescription:function(e){var t=o(this.option("target")),label=e?this._contentId:void 0;h(t.get(0))||this.setAria("describedby",label,t)}});l("dxTooltip",_),e.exports=_},1119:function(e,t,n){"use strict";var o=n(0),r=n(1118),l=n(1).extend,d=n(19).Deferred,c=n(180),h=null,_=null,f=function(){h&&(_(),h=null)};t.show=function(e){return f(),function(e){var content=(e=l({position:"top"},e)).content;delete e.content;var t=o("<div>").html(content).appendTo(c.value());_=function(){t.remove()},h=new r(t,e)}(e),h.show()},t.hide=function(){return h?h.hide().done(f).promise():(new d).resolve()}},1626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themeReadyCallback=void 0;var o,r=n(74),l=(o=r)&&o.__esModule?o:{default:o};t.themeReadyCallback=new l.default},1628:function(e,t,n){"use strict";var o=n(1073),r=n(1).extend,l=n(1076),d=o.inherit({NAME:"actionSheet",_getMenuItemTemplate:function(){return this._toolbar._getTemplate("actionSheetItem")},render:function(){this._hasVisibleMenuItems()&&this.callBase()},_menuWidgetClass:function(){return l},_menuContainer:function(){return this._toolbar.$element()},_widgetOptions:function(){return r({},this.callBase(),{target:this._$button,showTitle:!1})},_menuButtonOptions:function(){return r({},this.callBase(),{icon:"overflow"})},_toggleMenu:function(){this.callBase.apply(this,arguments),this._menu.toggle(this._menuShown),this._menuShown=!1}});e.exports=d},1646:function(e,t,n){"use strict";var o=n(1).extend,r=n(1073),l=n(1647),d=n(1088),c=r.inherit({NAME:"dropDownMenu",render:function(){this._hasVisibleMenuItems()&&(this._renderMenuButtonContainer(),this._renderWidget())},renderMenuItems:function(){this._menu||this.render(),this.callBase(),this._menu&&!this._menu.option("items").length&&this._menu.close()},_menuWidgetClass:function(){return d},_widgetOptions:function(){var e=this;return o(this.callBase(),{deferRendering:!0,container:e._toolbar.option("menuContainer"),menuWidget:l,onOptionChanged:function(t){"items"===t.name&&e._updateMenuVisibility(t.value)},popupPosition:{at:"bottom right",my:"top right"}})},_updateMenuVisibility:function(e){var t=e||this._getMenuItems(),n=t.length&&this._hasVisibleMenuItems(t);this._toggleMenuVisibility(n)},_toggleMenuVisibility:function(e){this._menuContainer()&&this._menuContainer().toggleClass("dx-state-invisible",!e)},_menuContainer:function(){return this._$menuButtonContainer}});e.exports=c},1647:function(e,t,n){"use strict";var o=n(0),r=n(26),l=n(10).each,d=n(635),c="dx-toolbar-menu-action",h="dx-toolbar-menu-section",_="dx-toolbar-menu-last-section",f=d.inherit({_activeStateUnit:".dx-toolbar-menu-action",_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var e=this,t=this._itemContainer();l(["before","center","after","menu"],(function(){var n="_$"+this+"Section",r=e[n];r||(e[n]=r=o("<div>").addClass(h)),r.appendTo(t)}))},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var e=this.$element().find(".dx-toolbar-menu-section");e.removeClass(_),e.not(":empty").eq(-1).addClass(_)},_renderItem:function(e,t,n,o){var r=t.location||"menu",l=this["_$"+r+"Section"],d=this.callBase(e,t,l,o);return this._getItemTemplateName({itemData:t})&&d.addClass("dx-toolbar-menu-custom"),("menu"===r||"dxButton"===t.widget||t.isAction)&&d.addClass(c),"dxButton"===t.widget&&d.addClass("dx-toolbar-hidden-button"),"dxButtonGroup"===t.widget&&d.addClass("dx-toolbar-hidden-button-group"),d.addClass(t.cssClass),d},_getItemTemplateName:function(e){var template=this.callBase(e),data=e.itemData;return data&&data.menuItemTemplate||template},_itemClickHandler:function(e,t,n){o(e.target).closest(".dx-toolbar-menu-action").length&&this.callBase(e,t,n)},_clean:function(){this._getSections().empty(),this.callBase()}});r("dxToolbarMenu",f),e.exports=f},1741:function(e,t,n){"use strict";var o=h(n(0)),r=h(n(26)),l=h(n(639)),d=n(1),c=h(n(1742));function h(e){return e&&e.__esModule?e:{default:e}}var _="dx-treeview",f="".concat(_,"-node-container"),m=c.default.inherit(l.default).inherit({_addWidgetPrefix:function(e){return"".concat(_,"-").concat(e)},_optionChanged:function(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer();break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return(0,d.extend)(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_updateSearch:function(){if(this._searchEditor){var e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer:function(){var e,t=this.$element().find(".".concat(f)).first();t.length&&(t.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(t,e),this._fireContentReadyAction())},_itemContainer:function(e){return this._scrollableContainer&&e?(0,o.default)(this._scrollableContainer.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});(0,r.default)("dxTreeView",m),e.exports=m},1742:function(e,t,n){"use strict";var o=N(n(0)),r=n(27),l=n(14),d=N(n(30)),c=N(n(58)),h=N(n(6)),_=N(n(20)),f=n(2),m=n(1),v=n(10),C=n(34),x=N(n(215)),I=N(n(1097)),y=n(21),S=n(68),w=N(n(647)),A=N(n(104)),B=N(n(185)),E=N(n(150)),k=n(19),T=N(n(56));function N(e){return e&&e.__esModule?e:{default:e}}var M="dx-treeview",D="".concat(M,"-node"),$="".concat(D,"-container"),V="".concat(D,"-loadindicator"),F="".concat(D,"-container-opened"),O="".concat(D,"-is-leaf"),R="".concat(M,"-item"),L="".concat(R,"-with-checkbox"),W="".concat(R,"-without-checkbox"),P="".concat(R,"-data"),K="".concat(M,"-toggle-item-visibility"),H="".concat(M,"-loadindicator"),U="".concat(M,"-loadindicator-wrapper"),j="".concat(M,"-toggle-item-visibility-opened"),G="".concat(M,"-select-all-item"),z="dx-state-invisible",X="dx-state-disabled",J="dxTreeView_expand",Q="data-item-id",Y=I.default.inherit({_supportedKeys:function(e){var t=this,n=function(e){var n=(0,o.default)(t.option("focusedElement"));n.length&&(e.target=n,e.currentTarget=n,t._itemClickHandler(e,n.children("."+R)),t._getEventNameByOption(t.option("expandEvent"))===(0,y.addNamespace)(c.default.name,J)&&t._expandEventHandler(e))},select=function(e){e.preventDefault();var n=(0,o.default)(t.option("focusedElement")),r=t._getCheckBoxInstance(n);if(!r.option("disabled")){var l=r.option("value");t._updateItemSelection(!l,n.find("."+R).get(0),!0)}},r=function(e,t){if(this.option("expandAllEnabled")){t.preventDefault();var n=(0,o.default)(this.option("focusedElement"));if(n.length){var r=this._getItemData(n.find(".".concat(R)));this._toggleExpandedNestedItems([r],e)}}};return(0,m.extend)(this.callBase(),{enter:this._showCheckboxes()?select:n,space:this._showCheckboxes()?select:n,asterisk:r.bind(this,!0),minus:r.bind(this,!1)})},_toggleExpandedNestedItems:function(e,t){if(e)for(var i=0,n=e.length;i<n;i++){var o=e[i],r=this._dataAdapter.getNodeByItem(o);this._toggleExpandedState(r,t),this._toggleExpandedNestedItems(o.items,t)}},_getNodeElement:function(e,t){var n=this._encodeString(e.internalFields.key);if(t)return t.$nodeByKey||(t.$nodeByKey={},this.$element().find(".".concat(D)).each((function(){var e=(0,o.default)(this),n=e.attr(Q);t.$nodeByKey[n]=e}))),t.$nodeByKey[n]||(0,o.default)();var element=this.$element().get(0).querySelector("[".concat(Q,'="').concat(n,'"]'));return(0,o.default)(element)},_activeStateUnit:"."+R,_widgetClass:function(){return M},_getDefaultOptions:function(){var e=(0,m.extend)(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:d.default.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return(0,m.extend)(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_initSelectedItems:h.default.noop,_syncSelectionOptions:h.default.asyncNoop,_fireSelectionChanged:function(){var e=this._selectionChangePromise;(0,k.when)(e).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(e){this._selectAllValueChangedAction({value:e})},_checkBoxModeChange:function(e,t){if("none"!==t&&"none"!==e){var n=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":n||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":n&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}else this.repaint()},_removeSelection:function(){var e=this;(0,v.each)(this._dataAdapter.getFullData(),(function(t,n){e._hasChildren(n)&&e._dataAdapter.toggleSelection(n.internalFields.key,!1,!0)}))},_optionChanged:function(e){var t=e.name,n=e.value,o=e.previousValue;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",n);break;case"showCheckBoxesMode":this._checkBoxModeChange(n,o);break;case"scrollDirection":this._scrollableContainer.option("direction",n);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"dataSource":this.callBase(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;default:this.callBase(e)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(e){e&&e.length&&this.option("items",e)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var filter=this._filter;filter.custom||(filter.custom=this._dataSource.filter()),filter.internal||(filter.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return(0,f.isFunction)(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(e){var t=this.option("createChildren").call(this,e);return Array.isArray(t)?(new k.Deferred).resolve(t).promise():t&&(0,f.isFunction)(t.then)?(0,k.fromPromise)(t):(new k.Deferred).resolve([]).promise()},_combineFilter:function(){return this._filter.custom&&this._filter.custom.length?[this._filter.custom,this._filter.internal]:this._filter.internal},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=(0,o.default)("<div>").addClass(H),this._createComponent(this._treeViewLoadIndicator,E.default,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(e){var t;if(this._isVirtualMode()&&(t=this._combineFilter(),this._dataSource.filter(t)),e&&!this._dataSource.isLoaded()){this.option("items",[]);var n=(0,o.default)("<div>").addClass(U);this._createTreeViewLoadIndicator().appendTo(n),this.itemsContainer().append(n),this._isVirtualMode()&&this._dataSource.filter()!==t&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){var e=this;"plain"===this.option("dataStructure")&&this._dataSource&&this._dataSource.store().on("inserted",(function(t){e.option().items=e.option("items").concat(t),e._dataAdapter.addItem(t),e._dataAdapter.isFiltered(t)&&e._updateLevel(e._parentIdGetter(t))})).on("removed",(function(t){var n=e._dataAdapter.getNodeByKey(t);(0,f.isDefined)(n)&&(e.option("items")[e._dataAdapter.getIndexByKey(n.internalFields.key)]=0,e._markChildrenItemsToRemove(n),e._removeItems(),e._dataAdapter.removeItem(t),e._updateLevel(e._parentIdGetter(n)))}))},_markChildrenItemsToRemove:function(e){var t=this,n=e.internalFields.childrenKeys;(0,v.each)(n,(function(e,n){t.option("items")[t._dataAdapter.getIndexByKey(n)]=0,t._markChildrenItemsToRemove(t._dataAdapter.getNodeByKey(n))}))},_removeItems:function(){var e=this,t=(0,m.extend)(!0,[],this.option("items")),n=0;(0,v.each)(t,(function(t,o){o||(e.option("items").splice(t-n,1),n++)}))},_updateLevel:function(e){var t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){return e.length?e.children(".".concat($)):this._scrollableContainer?this._scrollableContainer.$content().children():(0,o.default)()},_getContainerByParentKey:function(e){var t=this._dataAdapter.getNodeByKey(e),n=t?this._getNodeElement(t):[];this._getOldContainer(n).remove();var o=this._renderNodeContainer(n);return this._isRootLevel(e)&&(this._scrollableContainer||this._renderScrollableContainer(),this._scrollableContainer.$content().append(o)),o},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){var e=this.callBase();return e.push("hasItems"),e},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var e=this._renderNodeContainer();this._scrollableContainer.$content().append(e),this.option("items")&&this.option("items").length&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return"plain"===this.option("dataStructure")},_fireContentReadyAction:function(){var e=this.getDataSource(),t=e&&!e.isLoaded();this._scrollableContainer&&_.default.hasWindow()&&this._scrollableContainer.update(),t||this.callBase(),this._scrollableContainer&&_.default.hasWindow()&&this._scrollableContainer.update()},_renderScrollableContainer:function(){this._scrollableContainer=this._createComponent((0,o.default)("<div>").appendTo(this.$element()),B.default,{direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(e){var t=(0,o.default)("<ul>").addClass($);if(this.setAria("role","group",t),e&&e.length){var n=this._getItemData(e.children("."+R));this._expandedGetter(n)&&t.addClass(F),t.appendTo(e)}return t},_createDOMElement:function(e,t){var n=(0,o.default)("<li>").addClass(D).attr(Q,this._encodeString(t.internalFields.key)).prependTo(e);return this.setAria({role:"treeitem",label:this._displayGetter(t.internalFields.item)||"",expanded:t.internalFields.expanded||!1,level:this._getLevel(e)},n),n},_getLevel:function(e){var t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1},_showCheckboxes:function(){return"none"!==this.option("showCheckBoxesMode")},_selectAllEnabled:function(){return"selectAll"===this.option("showCheckBoxesMode")&&!this._isSingleSelection()},_renderItems:function(e,t){for(var i=t.length-1;i>=0;i--)this._renderItem(i,t[i],e);this._renderedItemsCount+=t.length},_renderItem:function(e,t,n){var o=this._createDOMElement(n,t),r=t.internalFields,l=this._showCheckboxes();o.addClass(l?L:W),o.toggleClass(z,!1===r.item.visible),l&&this._renderCheckBox(o,t),this.setAria("selected",r.selected,o),this._toggleSelectedClass(o,r.selected),this.callBase(this._renderedItemsCount+e,r.item,o),!1!==r.item.visible&&this._renderChildren(o,t)},_setAriaSelected:function(){},_renderChildren:function(e,t){var n=this;this._hasChildren(t)?(this._renderToggleItemVisibilityIcon(e,t),this.option("deferRendering")&&!t.internalFields.expanded||this._loadSublevel(t).done((function(o){n._renderSublevel(e,n._getActualNode(t),o)}))):this._addLeafClass(e)},_getActualNode:function(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)},_hasChildren:function(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?!1!==this._hasItemsGetter(e.internalFields.item):this.callBase(e)},_loadSublevel:function(e){var t=this,n=new k.Deferred,o=this._getChildNodes(e);return o.length?n.resolve(o):this._loadNestedItems(e).done((function(e){n.resolve(t._dataAdapter.getNodesByItems(e))})),n.promise()},_renderSublevel:function(e,t,n){var o=this._renderNodeContainer(e,t),r=n.filter((function(e){return-1!==t.internalFields.childrenKeys.indexOf(e.internalFields.key)}));if(this._renderItems(o,r),r.length&&!t.internalFields.selected){var l=r[0];this._updateParentsState(l,this._getNodeElement(l))}this._normalizeIconState(e,r.length),t.internalFields.expanded&&o.addClass(F)},_executeItemRenderAction:function(e,t,n){var o=this._getNode(n);this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(o)})},_addLeafClass:function(e){e.addClass(O)},_expandEventHandler:function(e){(0,o.default)(e.currentTarget.parentNode).hasClass(O)||this._toggleExpandedState(e.currentTarget,void 0,e)},_initExpandEvent:function(){var e=this._getEventNameByOption(this.option("expandEvent")),t=this._itemContainer(),n=this._itemSelector();(0,l.off)(t,".dxTreeView_expand",n),(0,l.on)(t,e,n,this._expandEventHandler.bind(this))},_getEventNameByOption:function(e){var t="click"===e?c.default:w.default;return(0,y.addNamespace)(t.name,J)},_getNode:function(e){if(!(0,f.isDefined)(e))return null;if(e.internalFields)return e;if((0,f.isPrimitive)(e))return this._dataAdapter.getNodeByKey(e);var t=(0,o.default)(e).get(0);return t?(0,r.isElementNode)(t)?this._getNodeByElement(t):this._dataAdapter.getNodeByItem(t):null},_getNodeByElement:function(e){var t=(0,o.default)(e).closest("."+D),n=this._decodeString(t.attr(Q));return this._dataAdapter.getNodeByKey(n)},_toggleExpandedState:function(e,t,n){var o=this._getNode(e);if(!o)return(new k.Deferred).reject().promise();if(o.internalFields.disabled)return(new k.Deferred).reject().promise();var r=o.internalFields.expanded;if(r===t)return(new k.Deferred).resolve().promise();if(this._hasChildren(o)){var l=this._getNodeElement(o);if(l.find(".".concat(V,":not(.").concat(z,")")).length)return(new k.Deferred).reject().promise();this._createLoadIndicator(l)}return(0,f.isDefined)(t)||(t=!r),this._dataAdapter.toggleExpansion(o.internalFields.key,t),this._updateExpandedItemsUI(o,t,n)},_createLoadIndicator:function(e){var t=e.children("."+K),n=e.children(".".concat($));t.hasClass(j)||n.not(":empty").length||(this._createComponent((0,o.default)("<div>").addClass(V),E.default,{}).$element().appendTo(e),t.hide())},_renderToggleItemVisibilityIcon:function(e,t){var n=(0,o.default)("<div>").addClass(K).appendTo(e);t.internalFields.expanded&&(n.addClass(j),e.parent().addClass(F)),t.internalFields.disabled&&n.addClass(X),this._renderToggleItemVisibilityIconClick(n,t)},_renderToggleItemVisibilityIconClick:function(e,t){var n=this,o=(0,y.addNamespace)(c.default.name,this.NAME);(0,l.off)(e,o),(0,l.on)(e,o,(function(e){n._toggleExpandedState(t.internalFields.key,void 0,e)}))},_updateExpandedItemsUI:function(e,t,n){var o=this._getNodeElement(e),r=!o.length||t&&o.is(":hidden");if(this.option("expandNodesRecursive")&&r){var l=this._getNode(e.internalFields.parentKey);l&&this._updateExpandedItemsUI(l,t,n)}var d=o.children("."+K),c=o.children(".".concat($));d.toggleClass(j,t);var h=c.length>0,_=new k.Deferred;return!t||h&&!c.is(":empty")?(this._animateNodeContainer(e,t,n,_),_.promise()):0===e.internalFields.childrenKeys.length&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,t,n,_),_.promise()):(this._renderSublevel(o,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,t,n,_),_.promise())},_loadNestedItemsWithUpdate:function(e,t,n,o){var r=this,l=this._getNodeElement(e);this._loadNestedItems(e).done((function(d){var c=r._getActualNode(e);r._renderSublevel(l,c,r._dataAdapter.getNodesByItems(d)),d&&d.length&&(r._fireContentReadyAction(),r._animateNodeContainer(c,t,n,o))}))},_loadNestedItems:function(e){var t=this;if(this._useCustomChildrenLoader()){var n=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(n).done((function(e){t._areNodesExists(e)||t._appendItems(e)}))}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done((function(e){t._areNodesExists(e)||t._appendItems(e)}))):(new k.Deferred).resolve([]).promise()},_areNodesExists:function(e,t){var n=this.keyOf(e[0]),o=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(n,o)},_appendItems:function(e){this.option().items=this.option("items").concat(e),this._initDataAdapter()},_animateNodeContainer:function(e,t,n,o){var r=this._getNodeElement(e),l=r.children(".".concat($));e&&o&&0===l.length&&o.resolve(),l.addClass(F);var d=l.height();A.default.stop(l,!0),A.default.animate(l,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:t?0:d},to:{maxHeight:t?d:0},complete:function(){l.css("maxHeight","none"),l.toggleClass(F,t),this.setAria("expanded",t,r),this._scrollableContainer.update(),this._fireExpandedStateUpdatedEvent(t,e,n),o&&o.resolve()}.bind(this)})},_fireExpandedStateUpdatedEvent:function(e,t,n){if(this._hasChildren(t)){var o=e?"onItemExpanded":"onItemCollapsed";if((0,f.isDefined)(n))this._itemDXEventHandler(n,o,{node:this._dataAdapter.getPublicNode(t)});else{var r=this._getNodeElement(t);this._itemEventHandler(r,o,{event:n,node:this._dataAdapter.getPublicNode(t)})}}},_normalizeIconState:function(e,t){var n=e.find(".".concat(V));(n.length&&E.default.getInstance(n).option("visible",!1),t)?e.find("."+K).show():(e.find("."+K).removeClass(K),e.addClass(O))},_emptyMessageContainer:function(){return this._scrollableContainer?this._scrollableContainer.content():this.callBase()},_renderContent:function(){var e=this.option("items");e&&e.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(e){e=e||this.$element().find(".".concat($)).first(),this._$selectAllItem=(0,o.default)("<div>").addClass(G);var t=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,x.default,{value:t,text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,t),e.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(e,t){var n=(0,o.default)("<div>").appendTo(e);this._createComponent(n,x.default,{value:t.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(t)})},_toggleSelectedClass:function(e,t){e.toggleClass("dx-state-selected",!!t)},_toggleNodeDisabledState:function(e,t){var n=this._getNodeElement(e),o=n.find("."+R).eq(0);(this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),o.toggleClass(X,!!t),this._showCheckboxes())&&this._getCheckBoxInstance(n).option("disabled",!!t)},_itemOptionChanged:function(e,t,n){var o=this._dataAdapter.getNodeByItem(e);t===this.option("disabledExpr")&&this._toggleNodeDisabledState(o,n)},_changeCheckboxValue:function(e){var t=(0,o.default)(e.element).parent("."+D).children("."+R),n=this._getItemData(t),r=this._getNodeByElement(t),l=e.value;r&&r.internalFields.selected===l||this._updateItemSelection(l,n,e.event)},_isSingleSelection:function(){return"single"===this.option("selectionMode")},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&"single"!==this.option("selectionMode")},_isLastSelectedBranch:function(e,t,n){var o=t.indexOf(e.key);return o>=0&&t.splice(o,1),n&&(0,v.each)(e.children,function(e,n){this._isLastSelectedBranch(n,t,!0)}.bind(this)),e.parent&&this._isLastSelectedBranch(e.parent,t),0===t.length},_isLastRequired:function(e){var t=this.option("selectionRequired"),n=this._isSingleSelection(),o=this.getSelectedNodeKeys();if(t)return n?1===o.length:this._isLastSelectedBranch(e.internalFields.publicNode,o.slice(),!0)},_updateItemSelection:function(e,t,n){var o=this,r=this._getNode(t);if(!r||!1===r.visible)return!1;if(r.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(r)){if(this._showCheckboxes()){var l=this._getNodeElement(r);this._getCheckBoxInstance(l).option("value",!0)}return!1}if(e&&this._isSingleSelection()){var d=this.getSelectedNodeKeys();(0,v.each)(d,(function(e,t){o._dataAdapter.toggleSelection(t,!1),o._updateItemsUI(),o._fireItemSelectionChanged(o._getNode(t))}))}this._dataAdapter.toggleSelection(r.internalFields.key,e);var c=this._dataAdapter.isAllSelected(),h=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==c;return this._updateItemsUI(),this._fireItemSelectionChanged(r,n),this._fireSelectionChanged(),h&&this._fireSelectAllValueChanged(c),!0},_fireItemSelectionChanged:function(e,t){var n=t||this._findItemElementByItem(e.internalFields.item);(t?this._itemDXEventHandler:this._itemEventHandler).call(this,n,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(e),itemData:e.internalFields.item})},_getCheckBoxInstance:function(e){return e.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var e=this,t={};if((0,v.each)(this._dataAdapter.getData(),(function(n,o){var r=e._getNodeElement(o,t),l=o.internalFields.selected;r.length&&(e._toggleSelectedClass(r,l),e.setAria("selected",l,r),e._showCheckboxes()&&e._getCheckBoxInstance(r).option("value",l))})),this._selectAllEnabled()){var n=this._$selectAllItem.dxCheckBox("instance");n._setOptionWithoutOptionChange("onValueChanged",void 0),n.option("value",this._dataAdapter.isAllSelected()),n._setOptionWithoutOptionChange("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(e,t){if(t){var n=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),r=(0,o.default)(t.parents("."+D)[0]);if(this._showCheckboxes()){var l=n.internalFields.selected;this._getCheckBoxInstance(r).option("value",l),this._toggleSelectedClass(r,l)}n.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(n,r)}},_itemEventHandlerImpl:function(e,t,n){var r=(0,o.default)(e).closest("."+D).children("."+R);return t((0,m.extend)(this._extendActionArgs(r),n))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,t){var n=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(n)})},_itemClass:function(){return R},_itemDataKey:function(){return P},_attachClickEvent:function(){var e="."+this._itemClass(),t="."+D+", ."+G,n=(0,y.addNamespace)(c.default.name,this.NAME),r=(0,y.addNamespace)(S.down,this.NAME),d=this._itemContainer(),h=this;(0,l.off)(d,n,e),(0,l.off)(d,r,t),(0,l.on)(d,n,e,(function(e){h._itemClickHandler(e,(0,o.default)(this))})),(0,l.on)(d,r,t,(function(e){h._itemPointerDownHandler(e)}))},_itemClickHandler:function(e,t){var n=this._getItemData(t),o=this._getNodeByElement(t);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(o)}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!o.internalFields.selected,n,e)},_updateSelectionToFirstItem:function(e,t){for(var n=t;n>=0;){var r=(0,o.default)(e[n]);this._updateItemSelection(!0,r.find("."+R).get(0)),n--}},_updateSelectionToLastItem:function(e,t){for(var n=e.length,r=t;r<n;){var l=(0,o.default)(e[r]);this._updateItemSelection(!0,l.find("."+R).get(0)),r++}},_focusInHandler:function(e){var t=this;if(this._updateFocusState(e,!0),this.option("focusedElement"))return clearTimeout(this._setFocusedItemTimeout),void(this._setFocusedItemTimeout=setTimeout((function(){t._setFocusedItem((0,o.default)(t.option("focusedElement")))})));var n=this._getActiveItem();this.option("focusedElement",(0,C.getPublicElement)(n.closest("."+D)))},_setFocusedItem:function(e){e&&e.length&&(e.children().hasClass(X)||this.callBase(e))},_itemPointerDownHandler:function(e){if(this.option("focusStateEnabled")){var t=(0,o.default)(e.target).closest("."+D+", ."+G);if(t.length){var n=t.hasClass(X)?null:t;this.option("focusedElement",(0,C.getPublicElement)(n))}}},_findNonDisabledNodes:function(e){return e.not((function(){return(0,o.default)(this).children("."+R).hasClass(X)}))},_moveFocus:function(e,t){var n="up",o="down",r="first",l="last",d=this.option("rtlEnabled")?"right":"left",c=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat($)).each((function(){A.default.stop(this,!0)}));var h=this._findNonDisabledNodes(this._nodeElements());if(h&&h.length)switch(e){case n:var _=this._prevItem(h);this.option("focusedElement",(0,C.getPublicElement)(_));var f=this._getNodeItemElement(_);this._scrollableContainer.scrollToElement(f),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,f);break;case o:var m=this._nextItem(h);this.option("focusedElement",(0,C.getPublicElement)(m));var v=this._getNodeItemElement(m);this._scrollableContainer.scrollToElement(v),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,v);break;case r:var x=h.first();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(h,h.index(this._prevItem(h))),this.option("focusedElement",(0,C.getPublicElement)(x)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(x));break;case l:var I=h.last();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(h,h.index(this._nextItem(h))),this.option("focusedElement",(0,C.getPublicElement)(I)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(I));break;case c:this._expandFocusedContainer();break;case d:this._collapseFocusedContainer();break;default:return void this.callBase.apply(this,arguments)}},_getNodeItemElement:function(e){return e.find("."+R).get(0)},_nodeElements:function(){return this.$element().find("."+D).not(":hidden")},_expandFocusedContainer:function(){var e=(0,o.default)(this.option("focusedElement"));if(e.length&&!e.hasClass(O)){if(e.find(".".concat($)).eq(0).hasClass(F)){var t=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));return this.option("focusedElement",(0,C.getPublicElement)(t)),void this._scrollableContainer.scrollToElement(this._getNodeItemElement(t))}var n=this._getNodeByElement(e.children("."+R));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(e){do{e=e.parent().closest("."+D)}while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e=(0,o.default)(this.option("focusedElement"));if(e.length){var t=e.find(".".concat($)).eq(0);if(!e.hasClass(O)&&t.hasClass(F)){var n=this._getNodeByElement(e.children("."+R));this._toggleExpandedState(n,!1)}else{var r=this._getClosestNonDisabledNode(e);r.length&&this.option("focusedElement",(0,C.getPublicElement)(r)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(r))}}},_encodeString:function(e){return(0,f.isString)(e)?encodeURI(e):e},_decodeString:function(e){return(0,f.isString)(e)?decodeURI(e):e},updateDimensions:function(){var e=this,t=new k.Deferred;return this._scrollableContainer?this._scrollableContainer.update().done((function(){t.resolveWith(e)})):t.resolveWith(this),t.promise()},selectItem:function(e){return this._updateItemSelection(!0,e)},unselectItem:function(e){return this._updateItemSelection(!1,e)},expandItem:function(e){return this._toggleExpandedState(e,!0)},collapseItem:function(e){return this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){var e=this;return this.getSelectedNodeKeys().map((function(t){var n=e._dataAdapter.getNodeByKey(t);return e._dataAdapter.getPublicNode(n)}))},getSelectedNodesKeys:function(){return T.default.log("W0002","dxTreeView","getSelectedNodesKeys","20.1","Use the 'getSelectedNodeKeys' method instead"),this.getSelectedNodeKeys()},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},expandAll:function(){var e=this._dataAdapter;(0,v.each)(e.getData(),(function(t,n){return e.toggleExpansion(n.internalFields.key,!0)})),this.repaint()},collapseAll:function(){(0,v.each)(this._dataAdapter.getExpandedNodesKeys(),function(e,t){this._toggleExpandedState(t,!1)}.bind(this))},scrollToItem:function(e){var t=this,n=this._getNode(e);if(!n)return(new k.Deferred).reject().promise();for(var o=[],r=n.internalFields.publicNode.parent;null!=r;)r.expanded||o.push(r.key),r=r.parent;var l=new k.Deferred;return this._expandNodes(o.reverse()).always((function(){var e=t._getNodeElement(n);e&&e.length?(t._scrollableContainer.scrollToElementTopLeft(e),l.resolve()):l.reject()})),l.promise()},_expandNodes:function(e){var t=this;if(!e||0===e.length)return(new k.Deferred).resolve().promise();var n=new k.Deferred,r=e.map((function(e){return t.expandItem(e)}));return k.when.apply(o.default,r).done((function(){return n.resolve()})).fail((function(){return n.reject()})),n.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout)}});e.exports=Y},1781:function(e,t,n){"use strict";e.exports=n(1118),e.exports.show=n(1119).show,e.exports.hide=n(1119).hide,e.exports.default=e.exports},1857:function(e,t,n){"use strict";var o=n(0),r=n(128),l=n(26),d=n(1).extend,c=n(20),h=n(104),_=r.inherit({_getDefaultOptions:function(){return d(this.callBase(),{min:0,max:100,value:0})},_initMarkup:function(){this.$element().addClass("dx-trackbar"),this._renderWrapper(),this._renderContainer(),this._renderRange(),this._renderValue(),this._setRangeStyles(),this.callBase()},_render:function(){this.callBase(),this._setRangeStyles(this._rangeStylesConfig())},_renderWrapper:function(){this._$wrapper=o("<div>").addClass("dx-trackbar-wrapper").appendTo(this.$element())},_renderContainer:function(){this._$bar=o("<div>").addClass("dx-trackbar-container").appendTo(this._$wrapper)},_renderRange:function(){this._$range=o("<div>").addClass("dx-trackbar-range").appendTo(this._$bar)},_renderValue:function(){var e=this.option("value"),t=this.option("min"),n=this.option("max");if(!(t>n)){if(e<t)return this.option("value",t),void(this._currentRatio=0);if(e>n)return this.option("value",n),void(this._currentRatio=1);var o=t===n?0:(e-t)/(n-t);!this._needPreventAnimation&&this._setRangeStyles({width:100*o+"%"}),this.setAria({valuemin:this.option("min"),valuemax:n,valuenow:e}),this._currentRatio=o}},_rangeStylesConfig:function(){return{width:100*this._currentRatio+"%"}},_setRangeStyles:function(e){h.stop(this._$range),e?!this._needPreventAnimation&&c.hasWindow()&&h.animate(this._$range,{type:"custom",duration:100,to:e}):this._$range.css({width:0})},_optionChanged:function(e){switch(e.name){case"value":this._renderValue(),this.callBase(e);break;case"max":case"min":this._renderValue();break;default:this.callBase(e)}},_dispose:function(){h.stop(this._$range),this.callBase()}});l("dxTrackBar",_),e.exports=_},2009:function(e,t,n){"use strict";var o=n(0),r=n(20).getWindow(),l=n(27),d=n(14),c=n(137).add,h=n(6),_=n(2),f=n(1).extend,m=n(35).inArray,v=n(68),C=n(26),x=n(149),I=n(82),y="dx-toast",S="dx-toast-",w=["info","warning","error","success"],A=[],B=null,E={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}};c((function(){d.subscribeGlobal(l.getDocument(),v.down,(function(e){for(var i=A.length-1;i>=0;i--)if(!A[i]._proxiedDocumentDownHandler(e))return}))}));var k=x.inherit({_getDefaultOptions:function(){return f(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,to:0}},shading:!1,height:"auto",hideTopOverlayHandler:null,closeOnSwipe:!0,closeOnClick:!1,resizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{closeOnOutsideClick:!0,width:"auto",position:{at:"bottom left",my:"bottom left",offset:"20 -20"},animation:{show:{type:"slide",duration:200,from:{position:{my:"top",at:"bottom",of:r}}},hide:{type:"slide",duration:200,to:{position:{my:"top",at:"bottom",of:r}}}}}},{device:function(e){var t="phone"===e.deviceType,n="android"===e.platform;return t&&n},options:{width:function(){var e;return(null==r||null===(e=r.visualViewport)||void 0===e?void 0:e.width)||o(r).width()},position:{at:"bottom center",my:"bottom center",offset:"0 0"}}},{device:function(e){return"phone"===e.deviceType},options:{width:function(){var e;return(null==r||null===(e=r.visualViewport)||void 0===e?void 0:e.width)||o(r).width()}}},{device:function(){return I.isMaterial()},options:{minWidth:344,maxWidth:568,displayTime:4e3}}])},_init:function(){this.callBase(),this._posStringToObject()},_renderContentImpl:function(){this.option("message")&&(this._message=o("<div>").addClass("dx-toast-message").text(this.option("message")).appendTo(this.$content())),this.setAria("role","alert",this._message),m(this.option("type").toLowerCase(),w)>-1&&this.$content().prepend(o("<div>").addClass("dx-toast-icon")),this.callBase()},_render:function(){this.callBase(),this.$element().addClass(y),this._wrapper().addClass("dx-toast-wrapper"),this._$content.addClass(S+String(this.option("type")).toLowerCase()),this.$content().addClass("dx-toast-content"),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_renderScrollTerminator:h.noop,_toggleCloseEvents:function(e){var t="dx"+e.toLowerCase();d.off(this._$content,t),this.option("closeOn"+e)&&d.on(this._$content,t,this.hide.bind(this))},_posStringToObject:function(){if(_.isString(this.option("position"))){var e=this.option("position").split(" ")[0],t=this.option("position").split(" ")[1];switch(this.option("position",f({},E[e])),t){case"center":case"left":case"right":this.option("position").at+=" "+t,this.option("position").my+=" "+t}}},_show:function(){return B&&B!==this&&(clearTimeout(B._hideTimeout),B.hide()),B=this,this.callBase.apply(this,arguments).done(function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hide.bind(this),this.option("displayTime"))}.bind(this))},_hide:function(){return B=null,this.callBase.apply(this,arguments)},_overlayStack:function(){return A},_zIndexInitValue:function(){return this.callBase()+8e3},_dispose:function(){clearTimeout(this._hideTimeout),B=null,this.callBase()},_optionChanged:function(e){switch(e.name){case"type":this._$content.removeClass(S+e.previousValue),this._$content.addClass(S+String(e.value).toLowerCase());break;case"message":this._message&&this._message.text(e.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":case"position":break;default:this.callBase(e)}}});C("dxToast",k),e.exports=k,e.exports.default=e.exports},295:function(e,t,n){"use strict";e.exports=n(1741),e.exports.default=e.exports},82:function(e,t,n){"use strict";var o=I(n(29)),r=I(n(27)),l=I(n(339)),d=I(n(0)),c=n(19),h=n(627),_=n(10),f=I(n(137)),m=n(180),v=n(20),C=n(1626),x=I(n(56));function I(e){return e&&e.__esModule?e:{default:e}}var y,S,w,A,B,E,k=(0,v.getWindow)(),T=f.default.add,N=m.value,M=m.changeCallback,D=new c.Deferred,$="link[rel=dx-theme]",V="dx-hairlines",F="any",O=15e3,R="dx.";function L(){if(!(0,v.hasWindow)())return null;var e,element=(0,d.default)("<div>",y).addClass("dx-theme-marker").appendTo(y.documentElement);try{return(e=k.getComputedStyle(element.get(0)).fontFamily)?(e=e.replace(/["']/g,"")).substr(0,R.length)!==R?null:e.substr(R.length):null}finally{element.remove()}}function W(e){var t,n,o=!0;function r(){B=null,clearInterval(n),o=!0,C.themeReadyCallback.fire(),C.themeReadyCallback.empty(),D.resolve()}if(B=e,P()||!O)r();else{if(!o)return void(B&&(B=e));t=Date.now(),o=!1,n=setInterval((function(){var e=P(),n=!e&&Date.now()-t>O;n&&x.default.log("W0004",B),(e||n)&&r()}),10)}}function P(){if(!B)return!0;var e=B===F;if("resolved"===D.state()&&e)return!0;var t=L();return!(!t||!e)||t===B}function K(e){var t=e?e.split("."):[],n=null;if(w){if(e in w)return e;(0,_.each)(w,(function(e,o){var r=e.split(".");if(!(t[0]&&r[0]!==t[0]||t[1]&&t[1]!==r[1]||t[2]&&t[2]!==r[2]))return n&&!o.isActive||(n=e),!o.isActive&&void 0}))}return n}function H(e){var t;(function(e){try{e!==y&&(w=null)}catch(e){w=null}y=e}((e=e||{}).context||r.default.getDocument()),y)&&((t=(0,d.default)($,y)).length&&(w={},S=(0,d.default)((0,h.parseHTML)("<link rel=stylesheet>"),y),t.each((function(){var link=(0,d.default)(this,y),e=link.attr("data-theme"),t=link.attr("href"),n="true"===link.attr("data-active");w[e]={url:t,isActive:n}})),t.last().after(S),t.remove()),A=void 0,U(e))}function U(e){if(!arguments.length)return A=A||L();G(N()),"string"==typeof(e=e||{})&&(e={theme:e});var t,n=e._autoInit,o=e.loadCallback;if((A=K(e.theme||A))&&(t=w[A]),o&&C.themeReadyCallback.add(o),t)S.attr("href",w[A].url),(C.themeReadyCallback.has()||"resolved"!==D.state()||e._forceTimeout)&&W(A);else{if(!n)throw x.default.Error("E0021",A);(0,v.hasWindow)()&&W(F),C.themeReadyCallback.fire(),C.themeReadyCallback.empty()}Q(),D.done((function(){return j((0,m.originalViewPort)(),A)}))}function j(element,e){E=function(e){var t=[],n=(e=e||U())&&e.split(".");return n&&(t.push("dx-theme-"+n[0],"dx-theme-"+n[0]+"-typography"),n.length>1&&t.push("dx-color-scheme-"+n[1]+(X(e)?"-"+n[2]:""))),t}(e).join(" "),(0,d.default)(element).addClass(E);!function(){var e=(0,v.hasWindow)()&&k.devicePixelRatio;if(e&&!(e<2)){var t=(0,d.default)("<div>");t.css("border",".5px solid transparent"),(0,d.default)("body").append(t),1===t.outerHeight()&&((0,d.default)(element).addClass(V),E+=" dx-hairlines"),t.remove()}}()}function G(element){(0,d.default)(element).removeClass(E)}function z(e,t){return t||(t=A||L()),new RegExp(e).test(t)}function X(e){return z("material",e)}function J(e){return z("ios7",e)}function Q(){J()&&x.default.log("W0010","The 'ios7' theme","19.1","Use the 'generic' theme instead.")}function Y(text,e){var t=r.default.getDocument(),n=t.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=text,t.body.appendChild(n);var o=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";var l=n.offsetWidth;return n.parentNode.removeChild(n),o!==l}function Z(){if(H({_autoInit:!0,_forceTimeout:!0}),(0,d.default)($,y).length)throw x.default.Error("E0022")}(0,v.hasWindow)()?Z():T(Z),M.add((function(e,t){D.done((function(){G(t),j(e)}))})),o.default.changed.add((function(){H({_autoInit:!0})})),t.init=H,t.waitForThemeLoad=W,t.current=U,t.attachCssClasses=j,t.detachCssClasses=G,t.isMaterial=X,t.isIos7=J,t.isGeneric=function(e){return z("generic",e)},t.isDark=function(e){return z("dark",e)},t.checkThemeDeprecation=Q,t.isWebFontLoaded=Y,t.waitWebFont=function(text,e){return new l.default((function(t){var n=function(){clearInterval(o),clearTimeout(r),t()},o=setInterval((function(){Y(text,e)&&n()}),15),r=setTimeout(n,2e3)}))},t.ready=function(e){C.themeReadyCallback.add(e)},t.isPendingThemeLoaded=P,t.resetTheme=function(){S&&S.attr("href","about:blank"),A=null,B=null,D=new c.Deferred},t.setDefaultTimeout=function(e){O=e},t.initialized=function(e){D.done(e)},e.exports.default=e.exports}}]);