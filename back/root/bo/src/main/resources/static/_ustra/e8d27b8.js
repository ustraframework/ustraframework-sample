(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1166:function(e,t,r){"use strict";r(3),r(7),r(8),r(11),r(9),r(10);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(1127);t.default=function(e,t){return n(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:if(!e.isClient)return[3,7];if(!e.store)return[2];r.label=1;case 1:return r.trys.push([1,3,,7]),[4,e.store.dispatch("nuxtClientInit",e)];case 2:return r.sent(),[3,7];case 3:return t=r.sent(),l.RedirectError.isEquals(t)?[4,e.$ustra.nuxt.onReady((function(){e.redirect({path:t.args.path,query:t.args.query})}))]:[3,5];case 4:return r.sent(),[3,6];case 5:e.$auth&&e.$auth.isAuthenticationError(t),r.label=6;case 6:return[3,7];case 7:return[2]}}))}))}},1643:function(e,t,r){"use strict";var n=r(15);r(14),r(28);var o,l=this&&this.__extends||(o=function(e,b){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__decorate||function(e,t,r,desc){var o,l=arguments.length,c=l<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(l<3?o(c):l>3?o(t,r,c):o(t,r))||c);return l>3&&c&&Object.defineProperty(t,r,c),c},f=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var d=r(23),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.onDisabledChanged=function(e,t){this.$emit("disabled-changed",e)},c([d.Prop({default:!1}),f("design:type",Boolean)],t.prototype,"disabled",void 0),c([d.Watch("disabled",{immediate:!0}),f("design:type",Function),f("design:paramtypes",[Boolean,Boolean]),f("design:returntype",void 0)],t.prototype,"onDisabledChanged",null),t=c([d.Component],t)}(d.Vue);t.default=h},1850:function(e,t,r){"use strict";r(3),r(7),r(8),r(11),r(9),r(10);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(r(126));t.default={name:"default",middleware:function(e){return c(void 0,void 0,void 0,(function(){var t,option;return f(this,(function(r){return e.$ustra.definedStore.core.serverError?(t=e.$ustra.definedStore.core.serverError,e.error({statusCode:t.status?t.status:500,message:t.message}),[2]):((option=d.getRouteOption(e.route))&&option.config?e.app.config=e.$ustra.utils.core.deepMerge({},option.config):e.app.config={},[2])}))}))}}},1854:function(e,t,r){"use strict";r(3),r(7),r(8),r(11),r(9),r(10);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)l.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return l},h=this&&this.__spreadArray||function(e,t){for(var i=0,r=t.length,n=e.length;i<r;i++,n++)e[n]=t[i];return e},v=this&&this.__values||function(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApiPlugin=void 0;var _=y(r(809)),w=y(r(1855)),m=r(94),x=r(635),P=r(129),O=y(r(420)),k=l(r(1887)),C=r(329),j=r(592),T=r(406),$=r(1888),M=y(r(1125)),S="__AXIOS_INSTANCE__",A=new O.default({samesite:"Lax",secure:!1,path:"/",httponly:!1,valueConverter:null,keyConverter:null,pure:!0,maxAge:-1}),R=function(){function e(e){var t=this;void 0===e&&(e=null),this.$ustra=null,this.createdInstance=!1,this.addRequestInterceptor=function(e){return m.axiosUtils.addRequestInterceptor(e,t.createdInstance?t.getAxios():null)},this.addResponseInterceptor=function(e){return m.axiosUtils.addResponseInterceptor(e,t.createdInstance?t.getAxios():null)},this.completedCheckTimer=null,this.$ustra=e,this.applyResCodeCheckingInterceptor(this.$ustra.env.appProp.nuxt),this.applyGlobalRequestInterceptor()}return e.prototype.getApiRequestOption=function(){var e,t;try{if(!(null===(t=null===(e=this.$ustra)||void 0===e?void 0:e.env)||void 0===t?void 0:t.appProp))return null;var r=this.$ustra.env.appProp.nuxt;return r&&r.api?r.api:null}catch(e){return null}},e.prototype.normalizeCallOption=function(option){var e=m.coreUtils.deepMerge({data:null,url:null,method:P.HttpMethod.GET,tranId:m.coreUtils.uuid(),timeout:2e4,headers:{},showLoading:m.webUtils.isBrowser(),passOnResponseError:!1,jsonp:!1},this.getApiRequestOption()||{url:void 0},option);return{axiosInstance:this.getAxios(),url:e.url,data:e.data,method:e.method,timeout:e.timeout,baseURL:e.baseUrl,headers:e.headers,responseType:e.responseType,showLoading:e.showLoading,passOnResponseError:e.passOnResponseError,jsonp:e.jsonp,params:e.params}},e.prototype.getAxios=function(){var e=j.globalStorage.getItem(S);return e||(e=this.createAxiosInstance(),this.createdInstance=!0,j.globalStorage.setItem(S,e),m.logger().debug("created axios instance")),e},e.prototype.createAxiosInstance=function(){var e=C.DebugInterceptorMode.ONLY_ERROR;return m.axiosUtils.createInstance({debugInterceptorMode:e,httpsAgent:new _.default.Agent({rejectUnauthorized:!1})})},e.prototype.call=function(option){return c(this,void 0,Promise,(function(){var e;return f(this,(function(t){switch(t.label){case 0:e=this.normalizeCallOption("string"==typeof option?{url:option}:option),t.label=1;case 1:return t.trys.push([1,,3,4]),e.showLoading&&M.default.emit({show:!0}),[4,m.axiosUtils.call(e)];case 2:return[2,t.sent()];case 3:return e.showLoading&&M.default.emit({show:!1}),[7];case 4:return[2]}}))}))},e.prototype.createUrlEncodedParameter=function(param){return w.default.stringify(param)},e.prototype.sse=function(option){return k.connect(option)},e.prototype.addRequestCompletedCallback=function(e){var t=this;if(this.completedCheckTimer)try{clearInterval(this.completedCheckTimer)}catch(e){}A.setItem("RES_ATTATCHED","0"),this.completedCheckTimer=setInterval((function(){var r=A.getItem("RES_ATTATCHED");"1"!==r&&1!==r||(clearInterval(t.completedCheckTimer),e())}),500)},e.prototype.applyResCodeCheckingInterceptor=function(e){var t,r=this;(null===(t=e.api)||void 0===t?void 0:t.occurErrorwhenReceivedApiErrCode)&&this.addResponseInterceptor({key:"api-res-error-process-interceptor",scope:C.InterceptorScope.BOTH,processAllError:!0,onFulfilled:function(t){var n,o,l,c=r.$ustra.env.appProp.logger.level>=T.LogLevel.Debug;if((null===(l=e.api)||void 0===l?void 0:l.ignoreErrorUrlPatterns)&&x.isMatchPatterns.apply(void 0,h([t.config.url],d(e.api.ignoreErrorUrlPatterns))))return t;if(t&&t.data&&t.data.resultCode&&!t.config.passOnResponseError&&"0000"!==t.data.resultCode){var f=t.data.resultMessage;if(c&&t.data.errors)try{for(var y=v(t.data.errors),_=y.next();!_.done;_=y.next()){f+="/"+_.value}}catch(e){n={error:e}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(n)throw n.error}}throw new $.HttpNetworkError(new Error(f),t.data.resultCode)}return t},onRejected:function(e){throw e.message=m.axiosUtils.getAxiosErrorMessage(e),console.log(e.message),new $.HttpNetworkError(e,null)}})},e.prototype.applyGlobalRequestInterceptor=function(){var e=this;this.addRequestInterceptor({key:"api-global-request-interceptor",scope:C.InterceptorScope.BOTH,onFulfilled:function(t){var r;(null===(r=e.$ustra.env)||void 0===r?void 0:r.appProp)&&(t.headers.c=e.$ustra.env.encryptedProfile)}})},e}();t.ApiPlugin=R},1899:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerDirectives=void 0;var o=n(r(13)),l=r(1900),c=n(r(1901)),f=r(1902);t.registerDirectives=function(){o.default.directive("byteLength",l.byteLengthDirective),o.default.directive("clickOutside",c.default),o.default.directive("scroll",f.scrollDirective)}},1903:function(e,t,r){"use strict";r(45);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerFilters=void 0;var o=n(r(13)),l=n(r(1904)),c=n(r(1905)),f=n(r(1906)),d=n(r(1907)),h=n(r(1908)),v=n(r(1909)),y=n(r(1910)),_=n(r(1911));t.registerFilters=function(){o.default.filter("currencyFormat",l.default),o.default.filter("capitalize",c.default),o.default.filter("dateFormat",f.default),o.default.filter("cardNo",d.default),o.default.filter("corpRegNo",h.default),o.default.filter("fileSizeFormat",v.default),o.default.filter("masking",y.default),o.default.filter("jsonFormat",_.default)}},1904:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(94);t.default=function(e,t){return void 0===t&&(t=0),"number"!=typeof e?e:n.numberUtils.formatCurrency(e,t)}},1905:function(e,t,r){"use strict";r(3),r(53),r(46),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""}},1906:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=l(r(220));t.default=function(e,t){return void 0===t&&(t="yyyy-MM-dd"),"number"==typeof e||c.isDate(e)?c.format(e,t):e}},1907:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(340);t.default=function(e){return n.cardNo(e)}},1908:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(340);t.default=function(e){return n.corpRegNo(e)}},1909:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(340);t.default=function(e){return n.formatFileSize(e)}},1910:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(353);t.default=function(e,t){void 0===t&&(t=n.MaskingType.NAME);var r=n.getMaskingFunctionByType(t);return r?r(e):e}},1911:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1013);t.default=function(e,t){return void 0===t&&(t=4),n.format(e,t)}},1912:function(e,t,r){"use strict";r(3),r(7),r(8),r(11),r(9),r(10),r(1128);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Env=void 0;var h=l(r(593)),v=l(r(88)),y=l(r(329)),_=d(r(420)),w=l(r(614)),m=r(132),x=r(1913),P=function(){function e(e){var t=this;this.context=null,this.encryptedProfileString=null,this.isMobileRequest=!1,this.isAndroidRequest=!1,this.isIOsRequest=!1,this.appProp=null,this.enableConsole=function(e){var r;t.context.isClient&&!(null===(r=t.appProp.logger)||void 0===r?void 0:r.disableBrowserConsole)&&e.originConsole&&(e.console=e.originConsole)},this.context=e}return e.prototype.init=function(){return c(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),this.disableConsole(m.getGlobalObject()),[4,this.getConfigEnv()];case 1:return e=t.sent(),h.utils.updateCurrentProfile(e),this.context.isClient&&x.removeClientProfileInfo(this.context),this.isMobileRequest=v.isMobileRequest(this.context.req),this.isAndroidRequest=v.isAndroidRequest(this.context.req),this.isIOsRequest=v.isIOsRequest(this.context.req),this.appProp=Object.freeze(this.getProperties(this.currentProfile)),this.context.$ustra.contextPath=this.appProp.server.contextPath||"/",[3,3];case 2:return this.enableConsole(m.getGlobalObject()),[7];case 3:return[2]}}))}))},e.prototype.getConfigEnv=function(){return c(this,void 0,void 0,(function(){var e,t;return f(this,(function(r){switch(r.label){case 0:if(!this.context.isStatic)return[3,6];r.label=1;case 1:return r.trys.push([1,4,,5]),e=new _.default({keyConverter:null,valueConverter:null}),(t=e.getItem("c",this.context.req,this.context.res))?[3,3]:[4,y.call({url:"/api/current-profile"})];case 2:t=r.sent().data,r.label=3;case 3:return[2,w.decryptAes256(w.decryptAes256(t,"Z3NjLWNyeXB0by1rZXkxMQ=="),"Z3NjLWNyeXB0by1rZXkxMQ==")];case 4:return r.sent(),[2,x.getConfigEnv()];case 5:return[3,7];case 6:return[2,x.getConfigEnv()];case 7:return[2]}}))}))},e.prototype.getProperties=function(e){return this.context.isStatic?x.getProfileProperties(e):x.getProperties()},Object.defineProperty(e.prototype,"currentProfile",{get:function(){return h.utils.currentProfile()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"encryptedProfile",{get:function(){if(!this.currentProfile)return null;if(!this.encryptedProfileString){var e=h.utils.getServerProfileName(this.currentProfile);this.encryptedProfileString=w.encryptAes256(w.encryptAes256(e,"Z3NjLWNyeXB0by1rZXkxMQ=="),"Z3NjLWNyeXB0by1rZXkxMQ==")}return this.encryptedProfileString},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isProduction",{get:function(){return h.utils.isProduction()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDev",{get:function(){return h.utils.isDev()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStaging",{get:function(){return h.utils.isStaging()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLocal",{get:function(){return h.utils.isLocal()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDevServer",{get:function(){return h.utils.isDevServer()},enumerable:!1,configurable:!0}),e.prototype.disableConsole=function(e){this.context.isClient&&(e.originConsole||(e.originConsole=e.console),e.console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},dir:function(){}})},e}();t.Env=P},1914:function(e,t,r){"use strict";r(3),r(7),r(8),r(11),r(9),r(10),r(33),r(638);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=void 0;var h=d(r(1917)),v=d(r(1918)),y=d(r(1123)),_=r(94),w=r(329),m=l(r(88)),x=l(r(614)),P=l(r(1143)),O=r(152),k=r(1949),C=d(r(1951)),j=d(r(1146)),T=l(r(126)),$=r(1147),M=function(){function e(e,t,r){var n=this;this.ws=null,this.middleware=null,this.moduleMap=null,this.logout=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!0),c(n,void 0,void 0,(function(){return f(this,(function(r){switch(r.label){case 0:return j.default.emit({logout:!0}),t?[4,this.store.setAuthInfo(null)]:[3,3];case 1:return r.sent(),[4,this.store.reloadToken({context:this.$ustra.context,accessToken:null,refreshToken:null})];case 2:r.sent(),r.label=3;case 3:return e&&this.goLoginPage(!1),this.ws&&this.ws.close(),[2]}}))}))},this.getToken=function(){return n.store.token},this.getTokenClaim=function(){return n.store.tokenClaim},this.goLoginPage=function(e){void 0===e&&(e=!1);var t=n.$ustra.env.appProp.app.auth.loginUrl;if(t&&t!==n.$ustra.context.route.path){var r={type:"redirect",url:t,query:{rtnUrl:n.$ustra.context.route.fullPath}};n.$ustra.context.redirect(r.url,r.query),e&&n.$ustra.nuxt.onReady((function(){return n.$ustra.context.redirect(r.url,r.query)}))}},this.doFailureAuth=function(e,t,r,o){return void 0===e&&(e=null),void 0===t&&(t=!1),void 0===r&&(r="check"),void 0===o&&(o=null),c(n,void 0,void 0,(function(){var n;return f(this,(function(l){switch(l.label){case 0:return this.$ustra.context.$logger().info("doFailureAuth",r,o),n=this.$ustra.env.appProp.app.auth,"check"!==r?[3,1]:(j.default.emit({failure:!0,route:e||this.$ustra.context.route,context:this.$ustra.context,failureType:r,apiUrl:o}),"redirect"===n.failProcessType?[2,this.goLoginPage(t)]:("error"===n.failProcessType&&this.$ustra.context.error({statusCode:n.errorStatusCode||401,path:n.errorUrl}),[3,7]));case 1:return"event"!==n.expiredProcessType?[3,3]:[4,j.default.emitPromise({failure:!0,route:e||this.$ustra.context.route,context:this.$ustra.context,failureType:r,apiUrl:o})];case 2:return l.sent(),[3,4];case 3:j.default.emit({failure:!0,route:e||this.$ustra.context.route,context:this.$ustra.context,failureType:r,apiUrl:o}),l.label=4;case 4:return"logout"!==n.expiredProcessType?[3,6]:[4,this.logout()];case 5:return l.sent(),[3,7];case 6:"error"===n.expiredProcessType&&this.$ustra.context.error({statusCode:n.errorStatusCode||401,path:n.errorUrl}),l.label=7;case 7:return[2]}}))}))},this.isAutenticated=function(){return n.$ustra.store.auth().authenticated},this.isAuthenticationError=function(e){return e&&e.response&&(401===e.response.status||409===e.response.status)},this.isExcludeUrlPattern=function(e){if(!e)return!0;var t=n.$ustra.env.appProp.app.auth;return!!t.excludeUrlPatterns&&y.default.isMatch(e,t.excludeUrlPatterns)},this.consumeAuthenticationProvider=function(e,t,r){if(e){var o=n.$ustra.env.appProp.app.auth;if(o.useWebSocket){if(n.ws&&(n.ws.readyState===WebSocket.OPEN||n.ws.readyState===WebSocket.CONNECTING)){if(n.ws.readyState===WebSocket.OPEN)try{n.ws.send(x.encryptAes256(JSON.stringify({command:"UPDATE_REFRESH_TOKEN",userKey:e,refreshToken:t,procId:r}),"Z3NjLWNyeXB0by1rZXkxMQ=="))}catch(e){_.logger().error(e)}return}try{var param=n.$ustra.api.createUrlEncodedParameter({k:x.encryptAes256(JSON.stringify({userKey:e,refreshToken:t,procId:r}),"Z3NjLWNyeXB0by1rZXkxMQ==")}),l=o.webSocketUrl+"?"+param;try{n.ws&&n.ws.close()}catch(e){}n.ws=new v.default(l,null,{timeout:1e4,sessionId:function(){return r}}),n.ws.onmessage=function(e){return c(n,void 0,void 0,(function(){var data,t;return f(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),"DUPLICATED_AUTHENTICATION"!==(data=JSON.parse(x.decryptAes256(e.data,"Z3NjLWNyeXB0by1rZXkxMQ=="))).command?[3,2]:[4,this.doFailureAuth(this.$ustra.context.route,!1,"duplicated")];case 1:return r.sent(),[3,4];case 2:return"EXPIRED_AUTHENTICATION"!==data.command?[3,4]:[4,this.doFailureAuth(this.$ustra.context.route,!1,"expired")];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return t=r.sent(),_.logger().error(t),[3,6];case 6:return[2]}}))}))}}catch(e){}}}},this.serverTokens={getAccessToken:function(){return T.namedContextHolder.get("accessToken")},setAccessToken:function(e){return T.namedContextHolder.set("accessToken",e)},getRefreshToken:function(){return T.namedContextHolder.get("refreshToken")},setRefreshToken:function(e){return T.namedContextHolder.set("refreshToken",e)}},this.$ustra=e,this.middleware=t,this.moduleMap=r,this.init()}return Object.defineProperty(e.prototype,"store",{get:function(){return this.$ustra.store.auth()},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;O.addModules(this.$ustra.context,{auth:k.AuthModule}),this.middleware&&(this.middleware[C.default.name]=C.default.middleware),this.$ustra.context.isClient||O.callback.registerBeforeServerInit((function(t){if("auth"===t){var r=T.contextHolder.get(),n=e.$ustra.env.appProp;if(n.app.auth.jwt.useCookie){var o=r.$cookie.get(n.app.auth.jwt.accessTokenKey),l=r.$cookie.get(n.app.auth.jwt.refreshTokenKey);e.serverTokens.setAccessToken(o),e.serverTokens.setRefreshToken(l)}else e.serverTokens.setAccessToken(""),e.serverTokens.setRefreshToken("")}})),this.$ustra.api.addRequestInterceptor({key:"auth-req-interceptor",scope:w.InterceptorScope.BOTH,onFulfilled:function(t){var r=T.contextHolder.get(),n=e.$ustra.env.appProp;if(t.headers[n.app.auth.jwt.accessTokenKey]||t.headers[n.app.auth.jwt.refreshTokenKey])return t;var o=null,l=null;m.isBrowser()?(o=r.$ustra.store.auth().accessToken,l=r.$ustra.store.auth().refreshToken):(o=e.serverTokens.getAccessToken(),l=e.serverTokens.getRefreshToken()),o&&(t.headers[n.app.auth.jwt.accessTokenKey]=o),l&&(t.headers[n.app.auth.jwt.refreshTokenKey]=l)}}),this.$ustra.api.addResponseInterceptor({key:"auth-res-interceptor",scope:w.InterceptorScope.BOTH,onFulfilled:function(t){return c(e,void 0,void 0,(function(){var e,r,n,o,l,c,d,v,y;return f(this,(function(f){switch(f.label){case 0:return e=T.contextHolder.get(),r=e.$ustra.env.appProp,this.isExcludeUrlPattern(null===(d=null==t?void 0:t.config)||void 0===d?void 0:d.url)?(_.logger().warn("is exclude auth pattern",null===(v=null==t?void 0:t.config)||void 0===v?void 0:v.url),[2,t]):t.headers?(n=e.$ustra.store.auth().authenticated,o=t.headers[h.default(r.app.auth.jwt.accessTokenKey)]||null,l=t.headers[h.default(r.app.auth.jwt.refreshTokenKey)]||null,m.isBrowser()?[4,e.$ustra.store.auth().reloadToken({context:e,accessToken:o,refreshToken:l})]:[3,2]):[3,6];case 1:return f.sent(),[3,4];case 2:return e.$ustra.auth.serverTokens.setAccessToken(o),e.$ustra.auth.serverTokens.setRefreshToken(l),[4,e.$ustra.store.auth().reloadToken({context:e,accessToken:o,refreshToken:l})];case 3:f.sent(),f.label=4;case 4:return n?(c=P.getClaim(o))&&c.sub?[3,6]:[4,e.$ustra.auth.doFailureAuth(e.route,!1,"released",null===(y=null==t?void 0:t.config)||void 0===y?void 0:y.url)]:[3,6];case 5:f.sent(),f.label=6;case 6:return[2,t]}}))}))},onRejected:function(t){return c(e,void 0,void 0,(function(){var e,r,n,o,l,c,d,h;return f(this,(function(f){switch(f.label){case 0:if((e=T.contextHolder.get()).$logger().warn("auth plugin ajax error",null==t?void 0:t.response),e.$ustra.auth.isExcludeUrlPattern(null===(n=null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.config)||void 0===n?void 0:n.url))throw _.logger().warn("is exclude auth pattern",null===(l=null===(o=null==t?void 0:t.response)||void 0===o?void 0:o.config)||void 0===l?void 0:l.url),t;return e.$ustra.auth.isAuthenticationError(t)&&e.$ustra.env.appProp.app.auth.enabled?[4,e.$ustra.auth.doFailureAuth(e.route,!1,409===(null===(c=null==t?void 0:t.response)||void 0===c?void 0:c.status)?"duplicated":"expired",null===(h=null===(d=null==t?void 0:t.response)||void 0===d?void 0:d.config)||void 0===h?void 0:h.url)]:[3,2];case 1:return f.sent(),[2,null];case 2:throw t}}))}))}})},e.prototype.getCheckModuleFunction=function(){var e;return(null===(e=this.moduleMap[$.ModuleNameKeys.AUTH_CHECK_MODULE])||void 0===e?void 0:e.default)||this.moduleMap[$.ModuleNameKeys.AUTH_CHECK_MODULE]},e}();t.Auth=M},1951:function(e,t,r){"use strict";r(3),r(7),r(8),r(11),r(9),r(10);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(94);t.default={name:"auth",middleware:function(e){return n(void 0,void 0,void 0,(function(){var t,r,n,c,f;return o(this,(function(o){switch(o.label){case 0:return t=e.$ustra.env.appProp,r=e.app.config,n=r&&(null===(f=r.auth)||void 0===f?void 0:f.required),"jwt"!==t.app.auth.type||t.app.auth.jwt.useCookie||l.webUtils.isBrowser()?[3,2]:[4,e.$ustra.auth.store.setNeedAuthCheckClient(n)];case 1:return o.sent(),[2];case 2:return[4,e.$ustra.store.auth().applyToken(e)];case 3:return o.sent(),n&&!e.$ustra.store.auth().authenticated&&e.$ustra.auth.doFailureAuth(e.route,!1),e.$ustra.auth&&n?(c=e.$ustra.auth.getCheckModuleFunction())&&"function"==typeof c?[4,c(e,r)]:[3,5]:[3,5];case 4:o.sent()||e.$ustra.auth.doFailureAuth(e.route,!1),o.label=5;case 5:return[2]}}))}))}}},1952:function(e,t,r){"use strict";r(3),r(7),r(8),r(11),r(9),r(10),r(229);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Interfaces=void 0;var l=function(){function e(e){var t=this;this.getOutboundInterface=function(e,r){void 0===r&&(r=null);var n=t.context.$ustra.definedStore.interfaces.interfaces;return n?n.find((function(i){return i.id===e&&"OUTBOUND"===i.direction&&(!r||i.type===r)})):null},this.getInboundInterface=function(e,r){void 0===r&&(r=null);var n=t.context.$ustra.definedStore.interfaces.interfaces;return n?n.find((function(i){return i.id===e&&"INBOUND"===i.direction&&(!r||i.type===r)})):null},this.getInterfaces=function(){return t.context.$ustra.definedStore.interfaces.interfaces||[]},this.getInterfaceInfo=function(e,r){void 0===r&&(r="1.0");var n=t.context.$ustra.definedStore.interfaces.interfaces;return n?n.find((function(i){return i.id===e&&i.version===r})):null},this.context=e}return e.prototype.addRequestLogging=function(e){var t,r;return n(this,void 0,void 0,(function(){var n;return o(this,(function(o){switch(o.label){case 0:if(!(n=null===(r=null===(t=this.context.$ustra.env.appProp.nuxt.interfaces)||void 0===t?void 0:t.apiLogging)||void 0===r?void 0:r.reqLoggingUrl))return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),e.requestContent&&(e.requestContent="string"==typeof e.requestContent?e.requestContent:JSON.stringify(e.requestContent)),[4,this.context.$ustra.api.call({url:n,data:e})];case 2:return[2,o.sent().data.body];case 3:return o.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.addResponseLogging=function(e){var t,r,n=null===(r=null===(t=this.context.$ustra.env.appProp.nuxt.interfaces)||void 0===t?void 0:t.apiLogging)||void 0===r?void 0:r.resLoggingUrl;n&&e.loggingId&&this.context.$ustra.api.call({url:n,data:e})},e}();t.Interfaces=l},1955:function(e,t,r){"use strict";r(3),r(7),r(8),r(11),r(9),r(10),r(33),r(316);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},l=this&&this.__values||function(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var c=r(126),f=function(){function e(e){this.context=null,this.context=e,this.init()}return e.prototype.init=function(){var e=this;this.context.app.router.afterEach((function(t,r){e.applyConfigCache(t,r)}))},e.prototype.applyConfigCache=function(e,t){var r,n;if(null==t?void 0:t.name){var o=c.getMatchedComponents(t);if(o&&!(o.length<1)){var l=o[o.length-1],f=null===(n=null===(r=c.getRouteOption(t))||void 0===r?void 0:r.config)||void 0===n?void 0:n.cache,d=void 0===(null==f?void 0:f.includeCache)||(null==f?void 0:f.includeCache),h=void 0!==(null==f?void 0:f.clearCache)&&(null==f?void 0:f.clearCache);"function"==typeof d&&(d=d.call(l,e,t)),"function"==typeof h&&(h=h.call(l,e,t)),!0===h?(this.clear(),this.context.$logger().info("clear cache")):!1===d&&(this.remove((function(e){return e===t.path||e.startsWith(t.path+"?")}),!1),this.context.$logger().info("remove cache",t))}}},e.prototype.remove=function(e,t){return void 0===t&&(t=!0),n(this,void 0,void 0,(function(){var r,n,c,f,d,h,v,y,_,w,m,x,P;return o(this,(function(o){switch(o.label){case 0:r=this.findKeepAliveComponents(),n=[];try{for(c=l(r),f=c.next();!f.done;f=c.next())d=f.value,(!t||t&&!0===d._inactive)&&e(d.$vnode.data.key)&&n.push(d)}catch(e){w={error:e}}finally{try{f&&!f.done&&(m=c.return)&&m.call(c)}finally{if(w)throw w.error}}o.label=1;case 1:o.trys.push([1,8,9,10]),h=l(n),v=h.next(),o.label=2;case 2:if(v.done)return[3,7];y=v.value,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,y.$destroy()];case 4:return o.sent(),[3,6];case 5:return o.sent(),[3,6];case 6:return v=h.next(),[3,2];case 7:return[3,10];case 8:return _=o.sent(),x={error:_},[3,10];case 9:try{v&&!v.done&&(P=h.return)&&P.call(h)}finally{if(x)throw x.error}return[7];case 10:return[2]}}))}))},e.prototype.clear=function(e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){var t,r,n,c,f,d,h,v,y,_,w,m,x;return o(this,(function(o){switch(o.label){case 0:t=this.findKeepAliveComponents(),r=[];try{for(n=l(t),c=n.next();!c.done;c=n.next())f=c.value,(!e||e&&!0===f._inactive)&&r.push(f)}catch(e){_={error:e}}finally{try{c&&!c.done&&(w=n.return)&&w.call(n)}finally{if(_)throw _.error}}o.label=1;case 1:o.trys.push([1,8,9,10]),d=l(r),h=d.next(),o.label=2;case 2:if(h.done)return[3,7];v=h.value,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,v.$destroy()];case 4:return o.sent(),[3,6];case 5:return o.sent(),[3,6];case 6:return h=d.next(),[3,2];case 7:return[3,10];case 8:return y=o.sent(),m={error:y},[3,10];case 9:try{h&&!h.done&&(x=d.return)&&x.call(d)}finally{if(m)throw m.error}return[7];case 10:return[2]}}))}))},e.prototype.findKeepAliveComponents=function(){var e,t,r,n,o=this.findKeepAliveParentComponents(),c=[];try{for(var f=l(o),d=f.next();!d.done;d=f.next()){var component=d.value;try{for(var h=(r=void 0,l(component.$children)),v=h.next();!v.done;v=h.next()){var y=v.value;c.push(y)}}catch(e){r={error:e}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return c},e.prototype.isInactivatedComponent=function(component){for(;component;){if(!0===component._inactive)return!0;component=component.$parent}return!1},e.prototype.findKeepAliveParentComponents=function(){var e=[];return function t(r){var n,o;if(r)try{for(var c=l(r),f=c.next();!f.done;f=c.next()){var d=f.value;!0===d.keepAlive&&e.push(d),t(d.$children)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}(window.$nuxt.$children),e},e}();t.Cache=f},1959:function(e,t,r){"use strict";var n=r(15);r(14),r(28);var o,l=this&&this.__extends||(o=function(e,b){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__decorate||function(e,t,r,desc){var o,l=arguments.length,c=l<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(l<3?o(c):l>3?o(t,r,c):o(t,r))||c);return l>3&&c&&Object.defineProperty(t,r,c),c},f=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var d=r(23),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.hide=function(){},t.prototype._showModal=function(){this.disallowDuplication&&this.$ustra.modal.store.currentModalComponent&&this._uid!==this.$ustra.modal.store.currentModalComponent._uid&&this.$ustra.modal.store.currentModalComponent.hide(),this.$ustra.modal.store.setCurrentModalComponent(this)},t.prototype._hideModal=function(){this.$ustra.modal.store.setCurrentModalComponent(null)},c([d.Prop({default:!1}),f("design:type",Object)],t.prototype,"disallowDuplication",void 0),t=c([d.Component],t)}(d.Vue);t.default=h},1960:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectError=void 0;t.detectError=function(e){var t;if(e.context.isStatic){var data=e.utils.nuxt.getStaticServerData();(null===(t=null==data?void 0:data.serverData)||void 0===t?void 0:t.hasError)&&(e.logger().error("server error detected..",data.serverData),e.definedStore.core.setServerError({status:500,message:data.serverData.resultMessage}))}}},617:function(e,t,r){"use strict";var n=r(15);r(14);var o,l=this&&this.__extends||(o=function(e,b){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__decorate||function(e,t,r,desc){var o,l=arguments.length,c=l<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(l<3?o(c):l>3?o(t,r,c):o(t,r))||c);return l>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(t,"__esModule",{value:!0});var f=r(23),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._defaultOption=null,t}return l(t,e),Object.defineProperty(t.prototype,"defaultOption",{get:function(){return this.$ustra.utils.core.deepMergeWithNull({},this._defaultOption,this.$data,this.$props)},enumerable:!1,configurable:!0}),t.prototype.created=function(){this._defaultOption=this.$options.config.defaultOption||{}},t=c([f.Component],t)}(f.Vue);t.default=d}}]);