(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{2128:function(e,t,n){"use strict";e.exports={events:{mouseover:"mouseover",mouseout:"mouseout",mousemove:"mousemove",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",mousedown:"mousedown",mouseup:"mouseup",click:"click",selectSeries:"selectseries",deselectSeries:"deselectseries",selectPoint:"selectpoint",deselectPoint:"deselectpoint",showPointTooltip:"showpointtooltip",hidePointTooltip:"hidepointtooltip"},states:{hover:"hover",normal:"normal",selection:"selection",normalMark:0,hoverMark:1,selectedMark:2,applyHover:"applyHover",applySelected:"applySelected",resetItem:"resetItem"},radialLabelIndent:30,pieLabelSpacing:10,pieSeriesSpacing:4}},2443:function(e,t,n){"use strict";var o=n(6).noop,r=n(170),l=n(2).isDefined,c={string:function(e){return l(e)?""+e:e},numeric:function(e){if(!l(e))return e;var t=Number(e);return isNaN(t)&&(t=void 0),t},datetime:function(e){if(!l(e))return e;var t,n=Number(e);return t=isNaN(n)?r.deserializeDate(e):new Date(n),isNaN(Number(t))&&(t=void 0),t}};function h(e){return"numeric"===e||"datetime"===e||"string"===e?e:""}e.exports={correctValueType:h,getParser:function(e){return c[h(e)]||o}}},2448:function(e,t,n){"use strict";var o=n(2),r=c(n(2128)),l=c(n(2343));function c(e){return e&&e.__esModule?e:{default:e}}var h=Math.floor,d=Math.sqrt,f=Math.min,m=Math.max,v=r.default.radialLabelIndent;function _(e,t,n){return n<e?e:t<n?t:n}function x(e){if(e._label.isVisible()&&"inside"!==e._label.getLayoutOptions().position)return e._label.getBoundingRect()}function y(e,t,n,o,r){return e.some((function(e){return e.getVisiblePoints().reduce((function(e,l){var c=x(l);if(c){var h=_(c.x,c.x+c.width,t),y=_(c.y,c.y+c.height,n);o=f(m(function(e,t,n,o){return d((e-n)*(e-n)+(t-o)*(t-o))}(h,y,t,n)-v,r),o),e=!0}return e}),!1)})),o}function T(e){return e.reduce((function(e,t){var n=t.getVisiblePoints().reduce((function(e,t){var n=x(t);return n&&n.width>e&&(e=n.width),e}),0),o=n;return n&&(e.outerLabelsCount++,e.outerLabelsCount>1&&(n+=r.default.pieLabelSpacing),o+=r.default.pieLabelSpacing),e.sizes.push(n),e.rSizes.push(o),e.common+=n,e}),{sizes:[],rSizes:[],common:0,outerLabelsCount:0})}function A(e,t,n,canvas,o,r){var l,i,c=0,d=e.sizes,f=e.rSizes;for(i=0;i<n.length;i++)0!==d[i]?(l=h(l?l+f[i-1]:t),n[i].correctLabelRadius(l),c+=o||d[i],f[i]=o||f[i],n[i].setVisibleArea({left:h(r-t-c),right:h(canvas.width-(r+t+c)),top:canvas.top,bottom:canvas.bottom,width:canvas.width,height:canvas.height})):l&&(l+=f[i-1])}function k(e){var t;return t="pie"===e.type?0:(t=(t=(0,o.isNumeric)(e.innerRadius)?Number(e.innerRadius):.5)<.2?.2:t)>.8?.8:t}function O(){}function S(e,t,canvas,n){return(e-t-v-canvas.left)/n.outerLabelsCount}function w(e,canvas,t,n,o,r){var l,c=T(t),h=function(e,canvas,t){return e-canvas.left-(t.outerLabelsCount>0?t.common+v:0)}(o,canvas,c);return h<n?l=S(o,e=n,canvas,c):e=f(y(t,o,r,e,n),h),A(c,e+v,t,canvas,l,o),e}function P(canvas){return new l.default.WrapperLayoutElement(null,{x:canvas.left,y:canvas.top,width:canvas.width-canvas.left-canvas.right,height:canvas.height-canvas.top-canvas.bottom})}O.prototype={constructor:O,setOptions:function(e){this._options=e},applyPieChartSeriesLayout:function(canvas,e,t){var n,r,l=canvas.height-canvas.top-canvas.bottom,c=canvas.width-canvas.left-canvas.right,d=c/2+canvas.left,m=l/2+canvas.top,v=this._options.piePercentage;return(0,o.isNumeric)(v)?n=r=v*f(canvas.height,canvas.width)/2:(n=f(c,l)/2,r=this._options.minPiePercentage*n),t||(n=w(n,canvas,e,r,d,m)),{centerX:h(d),centerY:h(m),radiusInner:h(n*k(e[0])),radiusOuter:h(n)}},applyEqualPieChartLayout:function(e,t){var n=t.radius;return{centerX:h(t.x),centerY:h(t.y),radiusInner:h(n*k(e[0])),radiusOuter:h(n)}},correctPieLabelRadius:function(e,t,canvas){var n,o=T(e),r=t.radiusOuter+v,l=t.centerX-canvas.left-r;o.common+v>l&&(n=S(t.centerX,t.radiusOuter,canvas,o)),A(o,r,e,canvas,n,t.centerX)},needMoreSpaceForPanesCanvas:function(e,t,n){var r=this._options,l=r.width,c=r.height,h=r.piePercentage,d=(0,o.isNumeric)(h),v=0,_=0;return e.forEach((function(e){var o=e.canvas,r=d?f(o.width,o.height)*h:void 0,x=n?n(e):{width:!1,height:!1},y=x.width?0:(d?r:l)-(o.width-o.left-o.right),T=x.height?0:(d?r:c)-(o.height-o.top-o.bottom);t?(v+=y>0?y:0,_=m(T>0?T:0,_)):(v=m(y>0?y:0,v),_+=T>0?T:0)})),(v>0||_>0)&&{width:v,height:_}},layoutInsideLegend:function(legend,canvas){var e=legend.getLayoutOptions();if(e){var t=e.position,n=e.cutSide,o={horizontal:t.horizontal,vertical:t.vertical};canvas[e.cutLayoutSide]+="horizontal"===e.cutSide?e.width:e.height,o[n]={left:"right",right:"left",top:"bottom",bottom:"top",center:"center"}[o[n]],legend.position({of:P(canvas),my:o,at:t})}}},t.LayoutManager=O},2548:function(e,t,n){"use strict";var o,r=n(2099),l=n(1),c=n(2343),h=n(2),d=n(2442),f=(o=d)&&o.__esModule?o:{default:o},m=n(222),v=n(6),_=n(2342),x=n(19);var y=Number,T=Math,A=T.round,k=T.max,O=T.min,S=T.ceil,w=h.isDefined,P=h.isFunction,V=r.enumParser,E=r.normalizeEnum,C=l.extend,z="center",I="right",L="left",M="top",B="bottom",H="horizontal",D="vertical",R="inside",G="outside",N="none",F="height",j="width",Z=V([L,z,I]),X=V([M,B]),Y=V([D,H]),W=V([L,I,M,B]),K=V([G,R]),U=V([L,z,I]);function J(e,t,n){if(e){var o=e.fill;return(0,l.extend)({},{state:n,fill:o===N?t:o,opacity:e.opacity,hatching:C({},e.hatching,{step:5,width:2})})}}function Q(e,t,n){var o=(0,_.processHatchingAttrs)(e,t);return o.fill&&0===o.fill.indexOf("DevExpress")&&(o.fill=(0,_.getFuncIri)(o.fill)),o.opacity=o.opacity>=0?o.opacity:1,(0,l.extend)({},o,{size:n})}function $(e,t,n,o){var r=t&&n[t[e]];r&&r.renderMarker(r.states[o])}function ee(e,t,n){return e?(function(e){var t=e.margin;t=t>=0?{top:t=y(e.margin),bottom:t,left:t,right:t}:{top:t.top>=0?y(t.top):10,bottom:t.bottom>=0?y(t.bottom):10,left:t.left>=0?y(t.left):10,right:t.right>=0?y(t.right):10},e.margin=t}(e),e.horizontalAlignment=Z(e.horizontalAlignment,I),e.verticalAlignment=X(e.verticalAlignment,e.horizontalAlignment===z?B:M),e.orientation=Y(e.orientation,e.horizontalAlignment===z?H:D),e.itemTextPosition=W(e.itemTextPosition,e.orientation===H?B:I),e.position=n?K(e.position,G):G,e.itemsAlignment=U(e.itemsAlignment,null),e.hoverMode=E(e.hoverMode),e.customizeText=P(e.customizeText)?e.customizeText:function(){return this[t]},e.customizeHint=P(e.customizeHint)?e.customizeHint:v.noop,e._incidentOccurred=e._incidentOccurred||v.noop,e):null}function te(e,t){return e.rect(0,0,t,t)}function ne(e,t){return e.circle(t/2,t/2,t/2)}function ie(rect,e,t){return e>=rect.left&&e<=rect.right&&t>=rect.top&&t<=rect.bottom}function oe(e,t,n,o){var r={x:0,y:0},l=0,c=0,h=0;if(h="y"===t.direction?o.top+o.bottom:o.left+o.right,e.forEach((function(line,i){var e=line[0],n=line.length;line.forEach((function(e,o){var c=e.offset||t.spacing;r[t.direction]+=e[t.measure]+(o!==n-1?c:0),l=k(l,r[t.direction])})),r[t.direction]=0,r[t.altDirection]+=e[t.altMeasure]+e.altOffset||t.altSpacing,c=k(c,r[t.altDirection])})),l+h>t.length)return t.countItem=function(e,t){return e.altCountItem++,S(t/e.altCountItem)}(t,n),!0}function re(line,e){return line.reduce((function(t,n){var o=n.offset||e.spacing;return t+n[e.measure]+o}),0)}function ae(e){switch(e.itemTextPosition){case B:return{horizontal:z,vertical:M};case M:return{horizontal:z,vertical:B};case L:return{horizontal:I,vertical:z};case I:return{horizontal:L,vertical:z}}}function se(line,e){var t=line.reduce((function(t,n){var o=n?n[e]:t;return k(t,o)}),0);line.forEach((function(n){n&&(n[e]=t)}))}function ue(e){var i,t,n=e.length,o=e[0].length,r=[];for(i=0;i<o;i++)for(r[i]=[],t=0;t<n;t++)r[i][t]=e[t][i];return r}var le=function(e){return function(e){return"circle"===E(e)}(e)?ne:te};function ce(e){return e.horizontalAlignment===z?z:e.itemTextPosition===I?L:e.itemTextPosition===L?I:z}var he=t.Legend=function(e){var t=this;t._renderer=e.renderer,t._legendGroup=e.group,t._backgroundClass=e.backgroundClass,t._itemGroupClass=e.itemGroupClass,t._textField=e.textField,t._getCustomizeObject=e.getFormatObject,t._titleGroupClass=e.titleGroupClass,t._allowInsidePosition=e.allowInsidePosition,t._widget=e.widget,t._asyncFirstDrawing=!0,t._updated=!1},de=he.prototype=(0,m.clone)(c.LayoutElement.prototype);(0,l.extend)(de,{constructor:he,getOptions:function(){return this._options},update:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this,o=(e=n._options=ee(e,n._textField,n._allowInsidePosition)||{}).markerSize;if(this._updated=!0,this._data=data.map((function(e){return e.size=y(e.size>0?e.size:o),e.marker=Q(e,e.states.normal),Object.defineProperty(e.marker,"size",{get:function(){return e.size},set:function(t){e.size=t}}),Object.defineProperty(e.marker,"opacity",{get:function(){return e.states.normal.opacity},set:function(t){e.states.normal.opacity=e.states.hover.opacity=e.states.selection.opacity=t}}),e})),e.customizeItems&&(n._data=e.customizeItems(data.slice())||data),n._boundingRect={width:0,height:0,x:0,y:0},n.isVisible()&&!n._title&&(n._title=new f.default.Title({renderer:n._renderer,cssClass:n._titleGroupClass,root:n._legendGroup})),n._title){var r=e.title;t.horizontalAlignment=ce(e),n._title.update(t,r)}return this.erase(),n},isVisible:function(){return this._options&&this._options.visible},draw:function(e,t){var n=this,o=n._getItemData();if(n._isAsyncRendering=!1,n.erase(),!(n.isVisible()&&o&&o.length))return n;if(n._insideLegendGroup=n._renderer.g().enableLinks().append(n._legendGroup),n._title.changeLink(n._insideLegendGroup),n._createBackground(),n._title.hasText()){var r=n._background?2*n._options.paddingLeftRight:0;n._title.draw(e-r,t)}return n._markersGroup=n._renderer.g().attr({class:n._itemGroupClass}).append(n._insideLegendGroup),n._createItems(o),n._updateElementsPosition(e,t),n},_measureElements:function(){var e=this._options,t=0;this._items.forEach((function(n){var o=n.label.getBBox(),r=n.marker.getBBox();n.markerBBox=r,n.markerSize=Math.max(r.width,r.height);var l=function(e,t,n){var o,r;switch(e.itemTextPosition){case L:case I:o=t.width+7+n.width,r=k(t.height,n.height);break;case M:case B:o=k(t.width,n.width),r=t.height+4+n.height}return{width:o,height:r}}(e,r,o);n.labelBBox=o,n.bBox=l,t=k(t,l.height)})),e.equalRowHeight&&this._items.forEach((function(e){return e.bBox.height=t}))},_updateElementsPosition:function(e,t){var n=this,o=n._options;this._size={width:e,height:t},n._measureElements(),n._locateElements(o),n._finalUpdate(o);var r=n.getLayoutOptions();(r.width>e||r.height>t)&&n.freeSpace()},_createItems:function(e){var t=this,n=t._options,o=t._renderer,c=le(n.markerShape);t._markersId={};var h=n.markerTemplate?n.markerTemplate:function(e,t){var n=e.marker;c(o,n.size).attr({fill:n.fill,opacity:n.opacity}).append({element:t})},template=t._widget._getTemplate(h),d=t._markersGroup;d.css((0,r.patchFontOptions)(n.font));var f=[];t._items=(e||[]).map((function(e,i){var r=e.states,c=r.normal,h=c.fill;e.size=e.marker.size;var m={normal:(0,l.extend)(c,{fill:h||n.markerColor||n.defaultColor,state:"normal"}),hover:J(r.hover,h,"hovered"),selection:J(r.selection,h,"selected")};e.states=m;var v=o.g().append(d),_=o.g().attr({class:"dxl-marker"}).append(v);f[i]=new x.Deferred;var y={label:t._createLabel(e,v),marker:_,renderer:o,group:v,tracker:{id:e.id,argument:e.argument,argumentIndex:e.argumentIndex},states:m,itemTextPosition:n.itemTextPosition,markerOffset:0,bBoxes:[],renderMarker:function(n){e.marker=Q(y,n,e.size),_.clear();var o=!1;template.render({model:e,container:_.element,onRendered:function(){o=!0,f[i].resolve()}}),o||0!==_.element.childNodes.length||(t._isAsyncRendering=!0)}};return y.renderMarker(m.normal),t._createHint(e,v),void 0!==e.id&&(t._markersId[e.id]=i),y})),x.when.apply(this,f).done((function(){if(t._isAsyncRendering){var e=["LAYOUT","FULL_RENDER"];t._asyncFirstDrawing?(e.push("FORCE_FIRST_DRAWING"),t._asyncFirstDrawing=!1):e.push("FORCE_DRAWING"),t._widget._requestChange(e)}}))},_getItemData:function(){var e=this._data||[];return(this._options||{}).inverted&&(e=e.slice().reverse()),e.filter((function(i){return i.visible}))},_finalUpdate:function(e){this._adjustBackgroundSettings(e),this._setBoundingRect(e.margin)},erase:function(){var e=this,t=e._insideLegendGroup;return t&&t.dispose(),e._insideLegendGroup=e._markersGroup=e._x1=e._x2=e._y2=e._y2=null,e},_locateElements:function(e){this._moveInInitialValues(),this._locateRowsColumns(e)},_moveInInitialValues:function(){var e=this;e._title.hasText()&&e._title.move([0,0]),e._legendGroup&&e._legendGroup.move(0,0),e._background&&e._background.attr({x:0,y:0,width:0,height:0})},applySelected:function(e){return $(e,this._markersId,this._items,"selection"),this},applyHover:function(e){return $(e,this._markersId,this._items,"hover"),this},resetItem:function(e){return $(e,this._markersId,this._items,"normal"),this},_createLabel:function(data,e){var t=this._getCustomizeObject(data),n=this._options,o=function(e){switch(e){case M:case B:return z;case L:return I;case I:return L}}(n.itemTextPosition),text=n.customizeText.call(t,t),l=w(data.textOpacity)?{color:n.font.color,opacity:data.textOpacity}:{};return this._renderer.text(text,0,0).css((0,r.patchFontOptions)(l)).attr({align:o,class:n.cssClass}).append(e)},_createHint:function(data,e){var t=this._getCustomizeObject(data),text=this._options.customizeHint.call(t,t);w(text)&&""!==text&&e.setTitle(text)},_createBackground:function(){var e=this,t=e._options.position===R,n=e._options.backgroundColor,o=n||(t?e._options.containerBackgroundColor:N);(e._options.border.visible||(t||n)&&n!==N)&&(e._background=e._renderer.rect(0,0,0,0).attr({fill:o,class:e._backgroundClass}).append(e._insideLegendGroup))},_locateRowsColumns:function(e){var t,n=this,o=0,r=n._getItemsLayoutOptions(),l=n._items.length;do{t=[],n._createLines(t,r),n._alignLines(t,r),o++}while(oe(t,r,l,e.margin)&&o<l);n._applyItemPosition(t,r)},_createLines:function(e,t){this._items.forEach((function(n,i){var o,r,l=function(e,t,n){var o={};return n%t.countItem==0&&(t.markerOffset?e.push([],[]):e.push([])),t.markerOffset?(o.firstLine=e[e.length-1],o.secondLine=e[e.length-2]):o.firstLine=o.secondLine=e[e.length-1],o}(e,t,i),c={width:n.labelBBox.width,height:n.labelBBox.height,element:n.label,bBox:n.labelBBox,pos:ae(t),itemIndex:i},h={width:n.markerBBox.width,height:n.markerBBox.height,element:n.marker,pos:{horizontal:z,vertical:z},bBox:{width:n.markerBBox.width,height:n.markerBBox.height,x:n.markerBBox.x,y:n.markerBBox.y},itemIndex:i},d=t.markerOffset?"altOffset":"offset";t.inverseLabelPosition?(o=c,r=h):(o=h,r=c),o[d]=t.labelOffset,l.secondLine.push(o),l.firstLine.push(r)}))},_alignLines:function(e,t){var i,n=t.altMeasure;if(e.forEach((function(line){return se(line,n)})),n=t.measure,t.itemsAlignment){if(t.markerOffset)for(i=0;i<e.length;)ue([e[i++],e[i++]]).forEach(o)}else ue(e).forEach(o);function o(line){se(line,n)}},_applyItemPosition:function(e,t){var n=this,o={x:0,y:0},r=function(e,t){return e.reduce((function(e,line){return k(e,re(line,t))}),0)}(e,t);e.forEach((function(line){var e=line[0],l=e.altOffset||t.altSpacing;o[t.direction]=function(line,e,t){var n,o=re(line,e);switch(e.itemsAlignment){case I:n=t-o;break;case z:n=(t-o)/2;break;default:n=0}return n}(line,t,r),line.forEach((function(e){var r=e.offset||t.spacing,l=new c.WrapperLayoutElement(e.element,e.bBox),h={x:o.x,y:o.y,width:e.width,height:e.height},d=new c.WrapperLayoutElement(null,h),f=n._items[e.itemIndex];l.position({of:d,my:e.pos,at:e.pos}),f.bBoxes.push(d),o[t.direction]+=e[t.measure]+r})),o[t.altDirection]+=e[t.altMeasure]+l})),this._items.forEach((function(e){var t,o,r,l=(t=e.bBoxes[0].getLayoutOptions(),o=e.bBoxes[1].getLayoutOptions(),(r={}).left=O(t.x,o.x),r.top=O(t.y,o.y),r.right=k(t.x+t.width,o.x+o.width),r.bottom=k(t.y+t.height,o.y+o.height),r),c=n._options.columnItemSpacing/2,h=n._options.rowItemSpacing/2;e.tracker.left=l.left-c,e.tracker.right=l.right+c,e.tracker.top=l.top-h,e.tracker.bottom=l.bottom+h}))},_getItemsLayoutOptions:function(){var e=this,t=e._options,n=t.orientation,o={itemsAlignment:t.itemsAlignment,orientation:t.orientation},r=e._size.width-(e._background?2*t.paddingLeftRight:0),l=e._size.height-(e._background?2*t.paddingTopBottom:0);return n===H?(o.length=r,o.spacing=t.columnItemSpacing,o.direction="x",o.measure=j,o.altMeasure=F,o.altDirection="y",o.altSpacing=t.rowItemSpacing,o.countItem=t.columnCount,o.altCountItem=t.rowCount,o.marginTextLabel=4,o.labelOffset=7,t.itemTextPosition!==B&&t.itemTextPosition!==M||(o.labelOffset=4,o.markerOffset=!0)):(o.length=l,o.spacing=t.rowItemSpacing,o.direction="y",o.measure=F,o.altMeasure=j,o.altDirection="x",o.altSpacing=t.columnItemSpacing,o.countItem=t.rowCount,o.altCountItem=t.columnCount,o.marginTextLabel=7,o.labelOffset=4,t.itemTextPosition!==I&&t.itemTextPosition!==L||(o.labelOffset=7,o.markerOffset=!0)),o.countItem||(o.altCountItem?o.countItem=S(e._items.length/o.altCountItem):o.countItem=e._items.length),t.itemTextPosition!==M&&t.itemTextPosition!==L||(o.inverseLabelPosition=!0),o.itemTextPosition=t.itemTextPosition,o.altCountItem=o.altCountItem||S(e._items.length/o.countItem),o},_adjustBackgroundSettings:function(e){if(this._background){var t=e.border,n=this._calculateTotalBox(),o={x:A(n.x-e.paddingLeftRight),y:A(n.y-e.paddingTopBottom),width:A(n.width)+2*e.paddingLeftRight,height:A(n.height),opacity:e.backgroundOpacity};t.visible&&t.width&&t.color&&t.color!==N&&(o["stroke-width"]=t.width,o.stroke=t.color,o["stroke-opacity"]=t.opacity,o.dashStyle=t.dashStyle,o.rx=t.cornerRadius||0,o.ry=t.cornerRadius||0),this._background.attr(o)}},_setBoundingRect:function(e){if(this._insideLegendGroup){var t=this._calculateTotalBox();t.height+=e.top+e.bottom,t.widthWithoutMargins=t.width,t.width+=e.left+e.right,t.x-=e.left,t.y-=e.top,this._boundingRect=t}},_calculateTotalBox:function(){var e=this._markersGroup.getBBox(),t=this._title.getCorrectedLayoutOptions(),n=this._insideLegendGroup.getBBox(),o=this._background?2*this._options.paddingTopBottom:0;return n.height=e.height+t.height+o,t.width>n.width&&(n.width=t.width),n},getActionCallback:function(e){var t=this;return t._options.visible?function(n){t[n](e.index)}:v.noop},getLayoutOptions:function(){var e=this._options,t=this._insideLegendGroup?this._boundingRect:{width:0,height:0,x:0,y:0};return e?(t.verticalAlignment=e.verticalAlignment,t.horizontalAlignment=e.horizontalAlignment,e.orientation===H||e.horizontalAlignment===z?(t.cutLayoutSide=e.verticalAlignment,t.cutSide="vertical"):(t.cutLayoutSide=e.horizontalAlignment,t.cutSide="horizontal"),t.position={horizontal:e.horizontalAlignment,vertical:e.verticalAlignment},t):null},shift:function(e,t){var n=this,o={};return n._insideLegendGroup&&n._insideLegendGroup.attr({translateX:e-n._boundingRect.x,translateY:t-n._boundingRect.y}),n._title&&n._shiftTitle(n._boundingRect.widthWithoutMargins),n._markersGroup&&n._shiftMarkers(),n._insideLegendGroup&&(o=n._legendGroup.getBBox()),n._x1=o.x,n._y1=o.y,n._x2=o.x+o.width,n._y2=o.y+o.height,n},_shiftTitle:function(e){var t=this,title=t._title,n=title.getCorrectedLayoutOptions();if(n&&title.hasText()){var o=e-(t._background?2*t._options.paddingLeftRight:0),r=title.getOptions(),l=n.y+r.margin.top,c=0;r.verticalAlignment===B&&t._markersGroup&&(l+=t._markersGroup.getBBox().height),r.horizontalAlignment===I?c=o-n.width:r.horizontalAlignment===z&&(c=(o-n.width)/2),title.shift(c,l)}},_shiftMarkers:function(){var e=this._title.getLayoutOptions(),t=this._markersGroup.getBBox(),n=this._title.getOptions()||{},o=0,r=0;e.width>t.width&&this._options.horizontalAlignment===z&&(o=e.width/2-t.width/2),n.verticalAlignment===M&&(r=e.height),0===o&&0===r||(this._markersGroup.attr({translateX:o,translateY:r}),this._items.forEach((function(e){e.tracker.left+=o,e.tracker.right+=o,e.tracker.top+=r,e.tracker.bottom+=r})))},getPosition:function(){return this._options.position},coordsIn:function(e,t){return e>=this._x1&&e<=this._x2&&t>=this._y1&&t<=this._y2},getItemByCoord:function(e,t){var n=this._items,o=this._insideLegendGroup;e-=o.attr("translateX"),t-=o.attr("translateY");for(var i=0;i<n.length;i++)if(ie(n[i].tracker,e,t))return n[i].tracker;return null},dispose:function(){var e=this;return e._title&&e._title.dispose(),e._legendGroup=e._insideLegendGroup=e._title=e._renderer=e._options=e._data=e._items=null,e},layoutOptions:function(){if(!this.isVisible())return null;var e=this.getLayoutOptions();return{horizontalAlignment:this._options.horizontalAlignment,verticalAlignment:this._options.verticalAlignment,side:e.cutSide,priority:1,position:this.getPosition()}},measure:function(e){this._updated||!this._insideLegendGroup?(this.draw(e[0],e[1]),this._updated=!1):(this._items.forEach((function(e){e.bBoxes=[]})),this._updateElementsPosition(e[0],e[1]));var rect=this.getLayoutOptions();return[rect.width,rect.height]},move:function(rect){this.shift(rect[0],rect[1])},freeSpace:function(){this._options._incidentOccurred("W2104"),this.erase()}}),t.plugin={name:"legend",init:function(){var e=this,n=this._renderer.g().attr({class:this._rootClassPrefix+"-legend"}).enableLinks().append(e._renderer.root);e._legend=new t.Legend({renderer:e._renderer,group:n,widget:this,itemGroupClass:this._rootClassPrefix+"-item",titleGroupClass:this._rootClassPrefix+"-title",textField:"text",getFormatObject:function(data){return{item:data.item,text:data.text}}}),e._layout.add(e._legend)},extenders:{_applyTilesAppearance:function(){var e=this;this._items.forEach((function(t){e._applyLegendItemStyle(t.id,t.getState())}))},_buildNodes:function(){this._createLegendItems()}},members:{_applyLegendItemStyle:function(e,t){var legend=this._legend;switch(t){case"hover":legend.applyHover(e);break;case"selection":legend.applySelected(e);break;default:legend.resetItem(e)}},_createLegendItems:function(){this._legend.update(this._getLegendData(),this._getOption("legend"),this._themeManager.theme("legend").title)&&this._requestChange(["LAYOUT"])}},dispose:function(){this._legend.dispose()},customize:function(e){e.prototype._proxyData.push((function(e,t){if(this._legend.coordsIn(e,t)){var n=this._legend.getItemByCoord(e,t);if(n)return{id:n.id,type:"legend"}}})),e.addChange({code:"LEGEND",handler:function(){this._createLegendItems()},isThemeDependent:!0,option:"legend",isOptionChange:!0})}}},2549:function(e,t,n){"use strict";var o=n(2),r="string",l="numeric",c="datetime",h="discrete",d="semidiscrete",f="continuous",m="logarithmic",v="valueType",_="argumentType",x=n(1).extend,y=n(2099).enumParser([r,l,c]),T=n(2443).getParser,A=o.isDefined,k=o.isFunction,O=Array.isArray,S=o.isString,w=o.isDate,P=o.isNumeric,V=o.isObject;function E(data,e,t){var n=e?function(a,b){return a-b}:function(a,b){return b-a};return data.sort((function(a,b){var e=t(a),o=t(b),r=A(e)?1:0,l=A(o)?1:0;return r&&l?n(e,o):n(r,l)})),data}function C(e,t){var n=[];return e.forEach((function(e){var o=t(e);void 0!==o&&n.push(o)})),n}function z(e){return e}function I(e,t){var n=t;return t===r||S(e)?n=r:t===c||w(e)?n=c:P(e)&&(n=l),n}function L(e,t,n,o){return e!==r||t!==f&&t!==m&&t!==d||o("E2002"),t===m?m:n||t===h||e===r?h:t===d?d:f}function M(e,t,n){var o=e?T(e):z,r=t!==h?function(e){return isFinite(e)||void 0===e?e:null}:z;return function(e,t){var l=r(o(e));return void 0===l&&function(e,t,n){e&&n(P(e)||w(e)||S(e)?"E2004":"E2003",[t])}(e,t,n),l}}function B(e,t){var n,o,r=M(e.argumentType,e.argumentAxisType,t),c=[r],h={},d=[];for(var m in e.groups.forEach((function(e,d){e.series.forEach((function(m){o=M(e.valueType,e.valueAxisType,t),n=M(l,f,t),h[m.getArgumentField()]=r,m.getValueFields().forEach((function(e){c[d+1]=o,h[e]=o})),m.getSizeField()&&(h[m.getSizeField()]=n)}))})),h)d.push([m,h[m]]);return d.length&&function(e,t){var n=e.argumentOptions&&e.argumentOptions.categories;e.groups.forEach((function(e,i){var n=e.valueOptions&&e.valueOptions.categories;n&&(e.valueOptions.categories=C(n,t[i+1]))})),n&&(e.argumentOptions.categories=C(n,t[0]))}(e,c),d}function H(e,t){var i,n,o,r=t.length,l=x({},e);for(i=0;i<r;++i)o=e[n=t[i][0]],l[n]=t[i][1](o,n);return l}function D(e,t,n,o){var r=(o=o||{}).mode,l={};if(r&&"none"!==r){l[t]=String(o.groupName||"others"),l[n]=0;var data=E(e.slice(),!1,(function(a){return a[n]}));!function(data,e,t,n){n>=0&&data.slice(n).forEach((function(n){A(n[t])&&(e[t]+=n[t],n[t]=void 0)}))}(data,l,n,"smallValueThreshold"===r?function(data,e,t){var i,n,o=data.length;for(i=0;i<o&&(n=data[i][e],!(A(n)&&t>n));++i);return i}(data,n,o.threshold):o.topCount),l[n]&&e.push(l)}}function R(a,b){var e=a-b;return isNaN(e)?A(a)?A(b)?0:-1:1:e}function G(data,e){return data.slice().sort((function(a,b){return R(a[e],b[e])}))}function N(data,e,t,n){var o,l,c,d={},f=e.argumentAxisType===h,m=f&&e.argumentOptions&&e.argumentOptions.categories,v=function(data){return data},_=t.sortingMethod;return!m&&k(_)&&(data=function(data,e){return data.slice().sort(e)}(data,_)),f&&(e.categories=function(data,e,t){var n=t?t.slice():[];return e.forEach((function(e){data.forEach((function(t){var o=t[e];A(o)&&function(e,t){return-1===e.map((function(e){return e.valueOf()})).indexOf(t.valueOf())}(n,o)&&n.push(o)}))})),n}(data,n,m)),m||!k(_)&&e.argumentType===r&&!t._skipArgumentSorting?(l=e.categories,c={},l.forEach((function(e,i){c[e]=i})),v=function(data,e){return E(data.slice(),!0,(function(a){return c[a[e]]}))}):!0===_&&e.argumentType!==r&&(v=G,o=f),n.forEach((function(e){d[e]=v(data,e)})),o&&(e.categories=e.categories.sort(R)),d}function F(data,e,t){var n,o=[],r=[],l=e.argumentOptions&&y(e.argumentOptions.argumentType);e.groups.forEach((function(t){if(t.series.length){var n=t.valueOptions&&y(t.valueOptions.valueType);t.valueType=n,e.argumentType=l,!n&&o.push(t),!l&&r.push(t)}})),(o.length||r.length)&&(n=o.map((function(e,t){return t})),data.some((function(l){var c;if(o.forEach((function(e,t){(function(e,t){return e.series.forEach((function(n){n.getValueFields().forEach((function(n){e.valueType=I(t[n],e.valueType)}))})),e.valueType})(e,l)&&n.indexOf(t)>=0&&n.splice(t,1)})),c||r.forEach((function(t){c=function(e,t,n){return e.forEach((function(e){n.argumentType=I(t[e.getArgumentField()],n.argumentType)})),n.argumentType}(t.series,l,e)})),!t&&c&&0===n.length)return!0})))}t.validateData=function(data,e,t,n){var o;return data=function(source,e){var i,t,n,o,data=[],r=A(source),l=r&&!O(source);if(r&&!l)for(i=0,t=source.length,n=0;i<t;++i)o=source[i],V(o)?data[n++]=o:o&&(l=!0);return l&&e("E2001"),data}(data,t),e.argumentType=e.argumentAxisType=null,e.groups.forEach((function(e){e.valueType=e.valueAxisType=null,e.series.forEach((function(e){e.updateDataType({})})),e.valueAxis&&e.valueAxis.resetTypes(v)})),(o=e.argumentAxes)&&o.forEach((function(e){e.resetTypes(_)})),F(data,e,n.checkTypeForAllData),function(e,t){var n=e.argumentOptions||{},o=n&&n.categories||[],r=L(e.argumentType,n.type,!!o.length,t);e.groups.forEach((function(n){var o=n.valueOptions||{},l=o.categories||[],c=L(n.valueType,o.type,!!l.length,t);n.series.forEach((function(t){var l={};l.argumentAxisType=r,l.valueAxisType=c,e.argumentAxisType=e.argumentAxisType||l.argumentAxisType,n.valueAxisType=n.valueAxisType||l.valueAxisType,l.argumentType=e.argumentType,l.valueType=n.valueType,l.showZero=o.showZero,t.updateDataType(l)})),n.valueAxisType=n.valueAxisType||c,n.valueAxis&&(n.valueAxis.setTypes(n.valueAxisType,n.valueType,v),n.valueAxis.validate())})),e.argumentAxisType=e.argumentAxisType||r,e.argumentAxes&&e.argumentAxes.forEach((function(t){t.setTypes(e.argumentAxisType,e.argumentType,_),t.validate()}))}(e,t),n.convertToAxisDataType&&(data=function(data,e){var i,t=[],n=data.length;for(t.length=n,i=0;i<n;++i)t[i]=H(data[i],e);return t}(data,B(e,t))),function(data,e){var t=e.groups[0]&&e.groups[0].series[0];t&&("pie"===t.type||"doughnut"===t.type||"donut"===t.type)&&e.groups.forEach((function(e){e.series.forEach((function(e){D(data,e.getArgumentField(),e.getValueFields()[0],e.getOptions().smallValuesGrouping)}))}))}(data,e),N(data,e,n,function(e){var t=[],n={};return e.groups.forEach((function(e){e.series.forEach((function(e){var o,r,l;o=e.getArgumentField(),r=t,(l=n)[o]||(r.push(o),l[o]=!0)}))})),t}(e))}},2561:function(e,t,n){"use strict";var o,r,l,c,h=n(6).noop,d=n(2),f=n(1).extend,m=n(2441).BaseThemeManager,v=d.isString,_=d.isDefined,x=n(2099).normalizeEnum,y=m.inherit((o=function(e){return e?((e=f(!0,{},e)).title=(t=e.title,v(t)?{text:t}:t),("logarithmic"===e.type&&e.logarithmBase<=0||e.logarithmBase&&!d.isNumeric(e.logarithmBase))&&(e.logarithmBase=void 0,e.logarithmBaseError=!0),e.label&&e.label.alignment&&(e.label.userAlignment=!0),e):{};var t},r=function(e,t,n){var r=this._theme,l=n^"valueAxis"===e?"verticalAxis":"horizontalAxis",c=o(t),h=o(this._userOptions.commonAxisSettings),d=f(!0,{},r.commonAxisSettings,r[l],r[e],h,c);return d.workWeek=c.workWeek||r[e].workWeek,d.forceUserTickInterval|=_(c.tickInterval)&&!_(c.axisDivisionFactor),d},c={base:l=function(e,t){t=t||this._userOptions[e];var n=this._theme[e],o=this._mergedSettings[e];return o||(o=d.isPlainObject(n)&&d.isPlainObject(t)?f(!0,{},n,t):_(t)?t:n,this._mergedSettings[e]=o,o)},argumentAxis:r,valueAxisRangeSelector:function(){return l.call(this,"valueAxis")},valueAxis:r,series:function(e,t,n){var o,r,l=this,h=l._theme,d=l._userOptions.commonSeriesSettings||{},m=h.commonSeriesSettings,v=l._themeSection.split(".").slice(-1)[0],y=x(t.type||d.type||m.type||"pie"===v&&h.type),T=l.palette,A=~y.indexOf("bar"),k=~y.indexOf("line"),O=~y.indexOf("area"),S="bubble"===y,w=l.getOptions("resolveLabelsOverlapping"),P=l.getOptions("containerBackgroundColor"),V=c.seriesTemplate.call(this);(A||S)&&(r=(t=f(!0,{},d,d[y],t)).visible,d={type:{}},f(!0,t,t.point),t.visible=r);var E,C,z=f(!0,{aggregation:{}},m,m[y],d,d[y],t);return z.aggregation.enabled="chart"===v&&(E=z.aggregation,C=l.getOptions("useAggregation"),!!(_(E.enabled)?E.enabled:C)),z.type=y,z.widgetType=v,z.containerBackgroundColor=P,o="pie"!==v?z.color||T.getNextColor(n):function(e,t,n){var o="".concat(e,"-").concat(t);return l._multiPieColors[o]||(l._multiPieColors[o]=T.getNextColor(n)),l._multiPieColors[o]},z.mainSeriesColor=o,z.resolveLabelsOverlapping=w,z.label&&(k||O&&"rangearea"!==y||"scatter"===y)&&(z.label.position="outside"),V&&(z.nameField=V.nameField),z},animation:function(e){var t=this._userOptions[e];return t=d.isPlainObject(t)?t:_(t)?{enabled:!!t}:{},l.call(this,e,t)},seriesTemplate:function(){var e=l.call(this,"seriesTemplate");return e&&(e.nameField=e.nameField||"series"),e},zoomAndPan:function(){function e(option){var e="pan"===(option=x(option))||"both"===option,t="zoom"===option||"both"===option;return{pan:e,zoom:t,none:!e&&!t}}var t=this._userOptions.zoomAndPan;if(!_(t)){var n=x(this.getOptions("zoomingMode")),o=x(this.getOptions("scrollingMode")),r=-1!==["all","mouse","touch"].indexOf(n),c=-1!==["all","mouse","touch"].indexOf(o);t={argumentAxis:r&&c?"both":r?"zoom":c?"pan":"none",allowMouseWheel:"all"===n||"mouse"===n,allowTouchGestures:"all"===n||"touch"===n||"all"===o||"touch"===o}}var h=l.call(this,"zoomAndPan",t);return{valueAxis:e(h.valueAxis),argumentAxis:e(h.argumentAxis),dragToZoom:!!h.dragToZoom,dragBoxStyle:{class:"dxc-shutter",fill:h.dragBoxStyle.color,opacity:h.dragBoxStyle.opacity},panKey:h.panKey,allowMouseWheel:!!h.allowMouseWheel,allowTouchGestures:!!h.allowTouchGestures}}},{_themeSection:"chart",ctor:function(e){var t=this;t.callBase.apply(t,arguments);var n=e.options||{};t._userOptions=n,t._mergeAxisTitleOptions=[],t._multiPieColors={},t._callback=h},dispose:function(){var e=this;return e.palette&&e.palette.dispose(),e.palette=e._userOptions=e._mergedSettings=e._multiPieColors=null,e.callBase.apply(e,arguments)},resetPalette:function(){this.palette.reset(),this._multiPieColors={}},getOptions:function(e){return(c[e]||c.base).apply(this,arguments)},refresh:function(){return this._mergedSettings={},this.callBase.apply(this,arguments)},_initializeTheme:function(){var e=this;e.callBase.apply(e,arguments),e.updatePalette()},resetOptions:function(e){this._mergedSettings[e]=null},update:function(e){this._userOptions=e},updatePalette:function(){var e=this;e.palette=e.createPalette(e.getOptions("palette"),{useHighlight:!0,extensionMode:e.getOptions("paletteExtensionMode")})}}));t.ThemeManager=y},2562:function(e,t,n){"use strict";var o=y(n(27)),r=y(n(14)),l=y(n(58)),c=n(1),h=n(10),d=n(2128),f=n(2099),m=y(n(68)),v=n(21),_=n(2),x=n(6);function y(e){return e&&e.__esModule?e:{default:e}}var T=Math.floor,A=d.states.hoverMark,k=d.states.normalMark,O="dxChartTracker",S="."+O,w=(0,v.addNamespace)([m.default.down,m.default.move],O),P="legendClick",V="seriesClick",E="pointClick",C="chart-data-point",z="chart-data-series",I="chart-data-argument",L="none",M="allargumentpoints",B="includepoints",H=[B,"excludepoints",L];function D(e,t){var n=e.target;return("tspan"===n.tagName?n.parentNode:n)[t]}function R(e,t){return e.cancel||!t.getOptions()}function G(e){var t=e.getOptions().hoverMode;return t===L?t:M}var N={ctor:function(e){var t=this,data={tracker:t};t._renderer=e.renderer,t._legend=e.legend,t._tooltip=e.tooltip,t._eventTrigger=e.eventTrigger,t._seriesGroup=e.seriesGroup,e.seriesGroup.off(S).on((0,v.addNamespace)(d.events.showPointTooltip,O),data,t._showPointTooltip).on((0,v.addNamespace)(d.events.hidePointTooltip,O),data,t._hidePointTooltip),t._renderer.root.off(S).on(w,data,t._pointerHandler).on((0,v.addNamespace)(m.default.up,O),(function(){return clearTimeout(t._holdTimer)})).on((0,v.addNamespace)(l.default.name,O),data,t._clickHandler)},update:function(e){this._chart=e.chart},updateSeries:function(e,t){var n=this,o=!(null!=e&&e.some((function(s){return s===n.hoveredSeries}))||n._hoveredPoint&&n._hoveredPoint.series);n._storedSeries!==e&&(n._storedSeries=e||[]),o&&(n._clean(),n._renderer.initHatching()),t&&(n.clearSelection(),o||(n._hideTooltip(n.pointAtShownTooltip),n.clearHover()))},setCanvases:function(e,t){this._mainCanvas=e,this._canvases=t},repairTooltip:function(){var e=this.pointAtShownTooltip;e&&e.series&&e.isVisible()?this._showTooltip(e):this._hideTooltip(e,!0)},_setHoveredPoint:function(e){e!==this._hoveredPoint&&(this._releaseHoveredPoint(),e.hover(),this._hoveredPoint=e)},_releaseHoveredPoint:function(){this._hoveredPoint&&this._hoveredPoint.getOptions()&&(this._hoveredPoint.clearHover(),this._hoveredPoint=null,this._tooltip.isEnabled()&&this._hideTooltip(this._hoveredPoint))},_setHoveredSeries:function(e,t){this._releaseHoveredSeries(),this._releaseHoveredPoint(),e.hover(t),this.hoveredSeries=e},_releaseHoveredSeries:function(){this.hoveredSeries&&(this.hoveredSeries.clearHover(),this.hoveredSeries=null)},clearSelection:function(){this._storedSeries.forEach((function(e){e&&(e.clearSelection(),e.getPoints().forEach((function(e){return e.clearSelection()})))}))},_clean:function(){var e=this;e.hoveredPoint=e.hoveredSeries=e._hoveredArgumentPoints=null,e._hideTooltip(e.pointAtShownTooltip)},clearHover:function(){this._resetHoveredArgument(),this._releaseHoveredSeries(),this._releaseHoveredPoint()},_hideTooltip:function(e,t){var n=this;!n._tooltip||e&&n.pointAtShownTooltip!==e||(!t&&n.pointAtShownTooltip&&(n.pointAtShownTooltip=null),n._tooltip.hide())},_showTooltip:function(e){var t,n=this,o={target:e};if(null!=e&&e.getOptions()){if(t=e.getTooltipFormatObject(n._tooltip,n._tooltip.isShared()&&n._chart.getStackedPoints(e)),!(0,_.isDefined)(t.valueText)&&!t.points||!e.isVisible())return;var r=e.getTooltipParams(n._tooltip.getLocation()),l=n._renderer.getRootOffset();r.x+=l.left,r.y+=l.top;var c=function(t){t&&(n.pointAtShownTooltip=e)};c(n._tooltip.show(t,r,o,void 0,c))}},_showPointTooltip:function(e,t){var n=e.data.tracker,o=n.pointAtShownTooltip;o&&o!==t&&n._hideTooltip(o),n._showTooltip(t)},_hidePointTooltip:function(e,t){e.data.tracker._hideTooltip(t)},_enableOutHandler:function(){if(!this._outHandler){var e=this,t=function(t){var n=e._renderer.getRootOffset(),o=T(t.pageX-n.left),r=T(t.pageY-n.top);(0,f.pointInCanvas)(e._mainCanvas,o,r)||(e._pointerOut(),e._disableOutHandler())};r.default.on(o.default.getDocument(),w,t),this._outHandler=t}},_disableOutHandler:function(){this._outHandler&&r.default.off(o.default.getDocument(),w,this._outHandler),this._outHandler=null},stopCurrentHandling:function(){this._pointerOut(!0)},_pointerOut:function(e){this.clearHover(),(e||this._tooltip.isEnabled())&&this._hideTooltip(this.pointAtShownTooltip)},_triggerLegendClick:function(e,t){var n=this._eventTrigger;n(P,e,(function(){!R(e.event,e.target)&&n(t,e)}))},_hoverLegendItem:function(e,t){var n,o,r=this,l=r._legend.getItemByCoord(e,t),c=(o=r._legend.getOptions().hoverMode,H.indexOf(o)>-1?o:B);l?((n=r._storedSeries[l.id]).isHovered()&&n.lastHoverMode===c||r._setHoveredSeries(n,c),r._tooltip.isEnabled()&&r._hideTooltip(r.pointAtShownTooltip)):r.clearHover()},_hoverArgument:function(e,t){var n=this,o=n._getArgumentHoverMode();(0,_.isDefined)(e)&&(n._releaseHoveredPoint(),n._hoveredArgument=e,n._argumentIndex=t,n._notifySeries({action:"pointHover",notifyLegend:n._notifyLegendOnHoverArgument,target:{argument:e,fullState:A,argumentIndex:t,getOptions:function(){return{hoverMode:o}}}}))},_resetHoveredArgument:function(){var e,t=this;(0,_.isDefined)(t._hoveredArgument)&&(e=t._getArgumentHoverMode(),t._notifySeries({action:"clearPointHover",notifyLegend:t._notifyLegendOnHoverArgument,target:{fullState:k,argumentIndex:t._argumentIndex,argument:t._hoveredArgument,getOptions:function(){return{hoverMode:e}}}}),t._hoveredArgument=null)},_notifySeries:function(data){this._storedSeries.forEach((function(e){e.notify(data)}))},_pointerHandler:function(e){var t,n=e.data.tracker,o=n._renderer.getRootOffset(),r=T(e.pageX-o.left),l=T(e.pageY-o.top),canvas=n._getCanvas(r,l),c=D(e,z),h=D(e,C)||(null===(t=c)||void 0===t?void 0:t.getPointByCoord(r,l));if(n._isHolding=!1,clearTimeout(n._holdTimer),e.type===m.default.down&&(n._holdTimer=setTimeout((function(){return n._isHolding=!0}),300)),h&&!h.getMarkerVisibility()&&(h=void 0),n._enableOutHandler(),n._legend.coordsIn(r,l))n._hoverLegendItem(r,l);else if(n.hoveredSeries&&n.hoveredSeries!==n._stuckSeries&&n._releaseHoveredSeries(),!n._hoverArgumentAxis(r,l,e)&&(n._isPointerOut(canvas,h)&&n._pointerOut(),canvas||h)){if(c&&!h){if(h=c.getNeighborPoint(r,l),n._stickyHovering||!h||h.coordsIn(r,l)||(h=null),c!==n.hoveredSeries)return void n._setTimeout((function(){n._setHoveredSeries(c),n._setStuckSeries(e,c,r,l),n._pointerComplete(h,r,l)}),c)}else{if(h){if(e.type!==m.default.move&&"touch"!==e.pointerType)return;return void(n.hoveredSeries?n._setTimeout((function(){return n._pointerOnPoint(h,r,l,e)}),h):n._pointerOnPoint(h,r,l,e))}var d;n._setStuckSeries(e,void 0,r,l)&&n._stickyHovering?(c=n._stuckSeries,h=c.getNeighborPoint(r,l),n._releaseHoveredSeries(),(null===(d=h)||void 0===d?void 0:d.getMarkerVisibility())&&n._setHoveredPoint(h)):n._stickyHovering||n._pointerOut()}n._pointerComplete(h,r,l)}},_pointerOnPoint:function(e,t,n){this._resetHoveredArgument(),this._setHoveredPoint(e),this._pointerComplete(e,t,n)},_pointerComplete:function(e){this.pointAtShownTooltip!==e&&this._tooltip.isEnabled()&&this._showTooltip(e)},_clickHandler:function(e){var t,n=e.data.tracker;if(!n._isHolding){var o=n._renderer.getRootOffset(),r=T(e.pageX-o.left),l=T(e.pageY-o.top),c=D(e,C),h=n._stuckSeries||D(e,z)||(null===(t=c)||void 0===t?void 0:t.series),d=n._argumentAxis;if(n._legend.coordsIn(r,l)){var f=n._legend.getItemByCoord(r,l);f&&n._legendClick(f,e)}else if(null!=d&&d.coordsIn(r,l)){var m=D(e,I);(0,_.isDefined)(m)&&n._eventTrigger("argumentAxisClick",{argument:m,event:e})}else{var v;if(h)null!==(v=c=c||h.getPointByCoord(r,l))&&void 0!==v&&v.getMarkerVisibility()?n._pointClick(c,e):D(e,z)&&n._eventTrigger(V,{target:h,event:e})}}},dispose:function(){var e=this;e._disableOutHandler(),e._renderer.root.off(S),e._seriesGroup.off(S)}},F=function(e){this.ctor(e)};(0,c.extend)(F.prototype,N,{_pointClick:function(e,t){var n=this._eventTrigger,o=e.series;n(E,{target:e,event:t},(function(){!R(t,o)&&n(V,{target:o,event:t})}))},update:function(e){var t=this;N.update.call(this,e),t._argumentAxis=e.argumentAxis||{},t._axisHoverEnabled=t._argumentAxis&&(0,f.normalizeEnum)(t._argumentAxis.getOptions().hoverMode)===M,t._rotated=e.rotated,t._crosshair=e.crosshair,t._stickyHovering=e.stickyHovering},_getCanvas:function(e,t){for(var n=this._canvases||[],i=0;i<n.length;i++){var o=n[i];if((0,f.pointInCanvas)(o,e,t))return o}return null},_isPointerOut:function(canvas){return!canvas&&this._stuckSeries},_hideCrosshair:function(){var e;null===(e=this._crosshair)||void 0===e||e.hide()},_moveCrosshair:function(e,t,n){this._crosshair&&null!=e&&e.isVisible()&&this._crosshair.show({point:e,x:t,y:n})},_clean:function(){var e=this;N._clean.call(e),e._resetTimer(),e._stuckSeries=null},_getSeriesForShared:function(e,t){var n,o=this,r=[],l=null,c=1/0;return o._tooltip.isShared()&&!o.hoveredSeries&&((0,h.each)(o._storedSeries,(function(n,o){var l=o.getNeighborPoint(e,t);l&&r.push(l)})),(0,h.each)(r,(function(n,p){var o=p.getCrosshairData(e,t),r=(0,f.getDistance)(e,t,o.x,o.y);r<c&&(l=p,c=r)}))),null===(n=l)||void 0===n?void 0:n.series},_setTimeout:function(e,t){var n=this;n._timeoutKeeper!==t&&(n._resetTimer(),n._hoverTimeout=setTimeout((function(){e(),n._timeoutKeeper=null}),100),n._timeoutKeeper=t)},_resetTimer:function(){clearTimeout(this._hoverTimeout),this._timeoutKeeper=this._hoverTimeout=null},_stopEvent:function(e){(0,_.isDefined)(e.cancelable)&&!e.cancelable||(e.preventDefault(),e.stopPropagation())},_setStuckSeries:function(e,t,n,o){return"mouse"!==e.pointerType?this._stuckSeries=null:this._stuckSeries=t||this._stuckSeries||this._getSeriesForShared(n,o),!!this._stuckSeries},_pointerOut:function(){var e=this;e._stuckSeries=null,e._hideCrosshair(),e._resetTimer(),N._pointerOut.apply(e,arguments)},_hoverArgumentAxis:function(e,t,n){var o=this;if(o._resetHoveredArgument(),o._axisHoverEnabled&&o._argumentAxis.coordsIn(e,t))return o._hoverArgument(D(n,I)),!0},_pointerComplete:function(e,t,n){var o=this;o.hoveredSeries&&o.hoveredSeries.updateHover(t,n),o._resetTimer(),o._moveCrosshair(e,t,n),N._pointerComplete.call(o,e)},_legendClick:function(e,t){var n=this._storedSeries[e.id];this._triggerLegendClick({target:n,event:t},V)},_hoverLegendItem:function(e,t){this._stuckSeries=null,this._hideCrosshair(),N._hoverLegendItem.call(this,e,t)},_pointerOnPoint:function(e,t,n,o){this._setStuckSeries(o,e.series,t,n),this._releaseHoveredSeries(),N._pointerOnPoint.call(this,e,t,n,o)},_notifyLegendOnHoverArgument:!1,_getArgumentHoverMode:function(){return G(this._argumentAxis)},dispose:function(){this._resetTimer(),N.dispose.call(this)}});var j=function(e){this.ctor(e)};(0,c.extend)(j.prototype,N,{_isPointerOut:function(e,t){return!t},_legendClick:function(e,t){var n=[];this._storedSeries.forEach((function(s){return n.push.apply(n,s.getPointsByKeys(e.argument,e.argumentIndex))})),this._eventTrigger(P,{target:e.argument,points:n,event:t})},_pointClick:function(e,t){this._eventTrigger(E,{target:e,event:t})},_hoverLegendItem:function(e,t){var n=this,o=n._legend.getItemByCoord(e,t);o&&n._hoveredArgument!==o.argument?(n._resetHoveredArgument(),n._hoverArgument(o.argument,o.argumentIndex)):o||n.clearHover()},_getArgumentHoverMode:function(){return G(this._legend)},_hoverArgumentAxis:x.noop,_setStuckSeries:x.noop,_getCanvas:x.noop,_notifyLegendOnHoverArgument:!0}),t.ChartTracker=F,t.PieTracker=j},2566:function(e,t,n){"use strict";n(356);var o=n(2),r=n(10),l=n(2099),c=n(105),h=Math,d=h.floor,f=h.max,m=h.abs;var v={transform:function(e,b){return(0,c.adjust)((0,l.getLog)(e,b))},addInterval:function(e,i){return(0,c.adjust)(e+i)},getInterval:function(base,e){return e}},_={transform:function(e,b){return(0,c.adjust)((0,l.raiseTo)(e,b))},addInterval:function(e,i){return(0,c.adjust)(e*i)},getInterval:function(base,e){return h.pow(base,e)}};function x(e,t){if(e.isLogarithmic){var n,base=e.logarithmicBase,o=e.tickValues,r=[];e.minValue=t.transform(e.minValue,base),e.oldMinValue=t.transform(e.oldMinValue,base),e.maxValue=t.transform(e.maxValue,base),e.oldMaxValue=t.transform(e.oldMaxValue,base),e.tickInterval=h.round(e.tickInterval),e.tickInterval<1&&(e.tickInterval=1);var l=t.getInterval(base,e.tickInterval);for(n=t.transform(o[0],base);r.length<o.length;)r.push(n),n=t.addInterval(n,l);r.tickInterval=e.tickInterval,e.tickValues=r}}function y(e){return e.maxValue-e.minValue||1}function T(e){for(var i=0;i<e.length;i++)if(!e[i].stubData)return e[i];return null}var A={synchronize:function(e){(0,r.each)(function(e){var t={};return e.forEach((function(e){var n=e.pane;t[n]||(t[n]=[]),t[n].push(e)})),t}(e),(function(e,t){var n,r;if(t.length>1){if((n=function(e){return e.reduce((function(e,t){var n,r=t.getTicksValues(),l=r.majorTicksValues,c=t.getOptions(),h=t.getTranslator().getBusinessRange(),d=t.getVisibleArea(),f=t._tickInterval,_=c.synchronizedValue;if(l&&l.length>0&&(0,o.isNumeric)(l[0])&&"discrete"!==c.type&&!h.isEmpty()&&(!h.breaks||!h.breaks.length)&&"zoom"!==t.getViewport().action){t.applyMargins();var y=t.getTranslator().from(d[0]),T=t.getTranslator().from(d[1]),A=y<T?y:T,k=y<T?T:y;A===k&&(0,o.isDefined)(_)&&(f=m(l[0]-_)||1,A=l[0]-f,k=l[0]+f),x(n={axis:t,isLogarithmic:"logarithmic"===c.type,logarithmicBase:h.base,tickValues:l,minorValues:r.minorTicksValues,minorTickInterval:t._minorTickInterval,minValue:A,oldMinValue:A,maxValue:k,oldMaxValue:k,inverted:h.invert,tickInterval:f,synchronizedValue:_},v),e.push(n)}return e}),[])}(t)).length<2||!T(n))return;!function(e){var t=e.reduce((function(e,t){return f(e,t.tickValues.length)}),0);e.forEach((function(e){var n,r,l=0,h=e.synchronizedValue,f=e.tickValues,m=e.tickInterval;if((0,o.isDefined)(h))e.baseTickValue=e.invertedBaseTickValue=h,e.tickValues=[e.baseTickValue];else{if(f.length>1&&m){for(r=(n=d((t+1)/f.length))>1?d((t+1)/n):t,l=d((r-f.length)/2);l>0&&0!==f[0];)f.unshift((0,c.adjust)(f[0]-m)),l--;for(;f.length<r;)f.push((0,c.adjust)(f[f.length-1]+m));e.tickInterval=m/n}e.baseTickValue=f[0],e.invertedBaseTickValue=f[f.length-1]}}))}(n),function(e){var t=T(e),n=t.tickInterval;e.forEach((function(e){var r,l,c,h;e!==t&&(n&&e.tickInterval&&(e.stubData&&(0,o.isDefined)(e.synchronizedValue)&&(e.oldMinValue=e.minValue=e.baseTickValue-(t.baseTickValue-t.minValue)/n*e.tickInterval,e.oldMaxValue=e.maxValue=e.baseTickValue-(t.baseTickValue-t.maxValue)/n*e.tickInterval),r=n/y(t)/e.tickInterval*y(e),e.maxValue=e.minValue+y(e)/r),c=t.inverted&&!e.inverted||!t.inverted&&e.inverted?t.maxValue-t.invertedBaseTickValue:t.baseTickValue-t.minValue,h=y(e),l=(c/y(t)-(e.baseTickValue-e.minValue)/h)*h,e.minValue-=l,e.maxValue-=l)}))}(n),r=function(e){var t,n,o=0,r=0;return e.forEach((function(e){var l=e.inverted;t=e.minValue>e.oldMinValue?(e.minValue-e.oldMinValue)/y(e):0,n=e.maxValue<e.oldMaxValue?(e.oldMaxValue-e.maxValue)/y(e):0,o=f(o,l?n:t),r=f(r,l?t:n)})),{start:o,end:r}}(n),r=function(e,t){return e.reduce((function(e,t){var n=t.inverted,r=t.axis.getCorrectedValuesToZero(t.minValue,t.maxValue),l=r.start,c=r.end;return(0,o.isDefined)(l)||(0,o.isDefined)(c)?n?{start:e.start,end:Math.min(e.end,c)}:{start:Math.min(e.start,l),end:e.end}:e}),t)}(n,r),function(e,t){e.forEach((function(e){var n=y(e),o=e.inverted;e.minValue=(0,c.adjust)(e.minValue-t[o?"end":"start"]*n),e.maxValue=(0,c.adjust)(e.maxValue+t[o?"start":"end"]*n)}))}(n,r),function(e){var t,n=[];e.forEach((function(e){e.oldMaxValue-e.oldMinValue==0?n.push(e):(0,o.isDefined)(t)||(0,o.isDefined)(e.synchronizedValue)||(t=m((e.maxValue-e.minValue)/(e.tickValues[d(e.tickValues.length/2)]-e.minValue||e.maxValue)))})),(0,o.isDefined)(t)&&n.forEach((function(e){var n=e.tickValues[0],o=n*t;n>0?(e.maxValue=o,e.minValue=0):n<0&&(e.minValue=o,e.maxValue=0)}))}(n),function(e){var t=!1;e.forEach((function(e){t=t||(0,o.isDefined)(e.synchronizedValue)})),e.forEach((function(e){var n,o=e.tickInterval,r=e.tickValues,l=e.maxValue,h=e.minValue;if(t&&o){for(;(n=(0,c.adjust)(r[0]-o))>=h;)r.unshift(n);for(n=r[r.length-1];(n=(0,c.adjust)(n+o))<=l;)r.push(n)}for(;r[0]+o/10<h;)r.shift();for(;r[r.length-1]-o/10>l;)r.pop()}))}(n),function(e){e.forEach((function(e){if(e.minorTickInterval){for(var t=[],n=e.minorTickInterval,o=e.tickInterval/n-1,i=1;i<e.tickValues.length;i++)for(var r=e.tickValues[i-1],l=0;l<o;l++)r+=n,t.push(r);e.minorValues=t}}))}(n),n.forEach((function(e){x(e,_)})),function(e){e.forEach((function(e){var t=e.axis,n=t.getTranslator().getBusinessRange();n.min===n.minVisible&&(n.min=e.minValue),n.max===n.maxVisible&&(n.max=e.maxValue),n.minVisible=e.minValue,n.maxVisible=e.maxValue,n.min>n.minVisible&&(n.min=n.minVisible),n.max<n.maxVisible&&(n.max=n.maxVisible),t.getTranslator().updateBusinessRange(n),t.setTicks({majorTicks:e.tickValues,minorTicks:e.minorValues})}))}(n)}}))}};e.exports=A},2579:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=_(n(14)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var desc=r?Object.getOwnPropertyDescriptor(e,l):null;desc&&(desc.get||desc.set)?Object.defineProperty(n,l,desc):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(21)),c=n(1),h=_(n(2452)),d=n(2),f=n(6),m=_(n(354));function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function _(e){return e&&e.__esModule?e:{default:e}}var x=Math.min,y=Math.max,T=function(e,t){this._translator=new h.default.Translator2D({},{},{}),this._scroll=e.rect().append(t),this._addEvents()};function A(canvas,e,t,n){var o=0;return"right"===e?o=canvas.width-canvas.right+t:"left"===e&&(o=canvas.left-t-n),o}function k(canvas,e,t,n){var o=0;return"top"===e?o=canvas.top-t:"bottom"===e&&(o=canvas.height-canvas.bottom+n+t),o}T.prototype={_addEvents:function(){var e=this,t=this._scroll.element;r.default.on(t,m.default.start,(function(e){l.fireEvent({type:"dxc-scroll-start",originalEvent:e,target:t})})),r.default.on(t,m.default.move,(function(n){var o=-n.offset.x*e._scale,r=-n.offset.y*e._scale,c=e._offset-(e._layoutOptions.vertical?r:o)/e._scale;e._applyPosition(c,c+e._translator.canvasLength/e._scale),l.fireEvent({type:"dxc-scroll-move",originalEvent:n,target:t,offset:{x:o,y:r}})})),r.default.on(t,m.default.end,(function(n){l.fireEvent({type:"dxc-scroll-end",originalEvent:n,target:t,offset:{x:-n.offset.x*e._scale,y:-n.offset.y*e._scale}})}))},update:function(e){var t=this,n=e.position,o=e.rotated,r=o?"right":"top";return n!==r&&n!==(o?"left":"bottom")&&(n=r),t._scroll.attr({rotate:e.rotated?0:-90,rotateX:0,rotateY:0,fill:e.color,width:e.width,opacity:e.opacity}),t._layoutOptions={width:e.width,offset:e.offset,vertical:o,position:n},t},init:function(e,t){var n=this,o="discrete"===e.axisType;return n._translateWithOffset=o&&!t?1:0,n._translator.update((0,c.extend)({},e,{minVisible:null,maxVisible:null,visibleCategories:null},o&&{min:null,max:null}||{}),n._canvas,{isHorizontal:!n._layoutOptions.vertical,stick:t}),n},getOptions:function(){return this._layoutOptions},setPane:function(e){var t,n=this._layoutOptions.position;return t="left"===n||"top"===n?e[0]:e[e.length-1],this.pane=t.name,this},updateSize:function(canvas){this._canvas=(0,c.extend)({},canvas);var e=this._layoutOptions,t=e.position,n=e.offset,o=e.width;this._scroll.attr({translateX:A(canvas,t,n,o),translateY:k(canvas,t,n,o)})},getMultipleAxesSpacing:function(){return 0},estimateMargins:function(){return this.getMargins()},getMargins:function(){var e=this._layoutOptions,t={left:0,top:0,right:0,bottom:0};return t[e.position]=e.width+e.offset,t},shift:function(e){var t,n,o=this,r=o._layoutOptions,l=r.position,c=r.vertical,h={translateX:null!==(t=o._scroll.attr("translateX"))&&void 0!==t?t:0,translateY:null!==(n=o._scroll.attr("translateY"))&&void 0!==n?n:0},d=e[l];h[c?"translateX":"translateY"]+=("left"===l||"top"===l?-1:1)*d,o._scroll.attr(h)},hideTitle:f.noop,hideOuterElements:f.noop,setPosition:function(e,t){var n=this,o=n._translator,r=(0,d.isDefined)(e)?o.translate(e,-n._translateWithOffset):o.translate("canvas_position_start"),l=(0,d.isDefined)(t)?o.translate(t,n._translateWithOffset):o.translate("canvas_position_end");n._offset=x(r,l),n._scale=o.getScale(e,t),n._applyPosition(x(r,l),y(r,l))},customPositionIsAvailable:function(){return!1},dispose:function(){this._scroll.dispose(),this._scroll=this._translator=null},_applyPosition:function(e,t){var n=this._translator.getCanvasVisibleArea();e=y(e,n.min),e=x(e,n.max),t=x(t,n.max),t=y(t,n.min);var o=Math.abs(t-e);this._scroll.attr({y:e,height:o<2?2:o})}},t.ScrollBar=T},2580:function(e,t,n){"use strict";var o=n(354),r=".shutter-zoom",l=o.start+r,c=o.move+r,h=o.end+r;function d(e,canvas,t,n){var o=Math.floor(t?n.pageY-e.top:n.pageX-e.left),r=t?canvas.y1:canvas.x1,l=t?canvas.y2:canvas.x2;return o<r?o=r:o>l&&(o=l),o}function f(e){var t,n=e.chart,o=e.renderer,f=e.rotated,rect=o.rect(0,0,0,0).attr(e.shutterOptions),m={rect:rect,root:o.root,rotated:f,triggerStart:function(){n._eventTrigger("zoomStart")},triggerEnd:function(){var tr=n._argumentAxes[0].getTranslator(),e=Math.min(this.startCoord,this.curCoord),t=Math.max(this.startCoord,this.curCoord);n._eventTrigger("zoomEnd",{rangeStart:tr.from(e),rangeEnd:tr.from(t)})},dispose:function(){o.root.off(r),rect.dispose()},getRootOffset:function(){return o.getRootOffset()},getCanvas:function(){var canvas=n._canvas,e=n.panes,t=e[0].canvas,o=e[e.length-1].canvas;return{x1:t.left,y1:t.top,x2:canvas.width-o.right,y2:canvas.height-o.bottom,width:canvas.width-t.left-o.right,height:canvas.height-t.top-o.bottom}}};return o.root.off(r).on(l,{direction:f?"vertical":"horizontal",immediate:!0},(t=m,function(e){var n=t.getRootOffset(),canvas=t.getCanvas();!function(e,canvas,t){var n=t.pageX-e.left,o=t.pageY-e.top;return n>=canvas.x1&&n<=canvas.x2&&o>=canvas.y1&&o<=canvas.y2}(n,canvas,e)?e.cancel=!0:(t.rootOffset=n,t.canvas=canvas,t.startCoord=d(n,canvas,t.rotated,e),t.triggerStart(),t.rect.attr({x:canvas.x1,y:canvas.y1,width:canvas.width,height:canvas.height}).append(t.root))})).on(c,function(e){return function(t){var n=d(e.rootOffset,e.canvas,e.rotated,t),o={};e.curCoord=n,o[e.rotated?"y":"x"]=Math.min(e.startCoord,n),o[e.rotated?"height":"width"]=Math.abs(e.startCoord-n),e.rect.attr(o)}}(m)).on(h,function(e){return function(t){e.triggerEnd(),e.rect.remove()}}(m)),m}e.exports={name:"shutter_zoom",init:function(){var e=this.option("shutterZoom")||{};e.enabled&&(this._shutterZoom=f({chart:this,renderer:this._renderer,rotated:this.option("rotated"),shutterOptions:e}))},dispose:function(){this._shutterZoom&&this._shutterZoom.dispose()}}},2581:function(e,t,n){"use strict";var o=n(2),r=n(1),l=n(2099),c=n(554),h=f(n(2582)),d=f(n(354));function f(e){return e&&e.__esModule?e:{default:e}}var m=".zoomAndPanNS",v=d.default.start+m,_=d.default.move+m,x=d.default.end+m,y=h.default.pinchstart+m,T=h.default.pinch+m,A=h.default.pinchend+m,k="dxc-scroll-start"+m,O=Math.min,S=Math.max,w=Math.abs;function P(canvas){return{x:canvas.left,y:canvas.top,width:canvas.width-canvas.left-canvas.right,height:canvas.height-canvas.top-canvas.bottom}}function V(rect,e){var t=e.x,n=e.y;return t>=rect.x&&t<=rect.width+rect.x&&n>=rect.y&&n<=rect.height+rect.y}function E(e,t){return t&&(e=e.sort((function(a,b){return a===t?-1:b===t?1:0}))),e}function C(e){return!e.getTranslator().getBusinessRange().isEmpty()}e.exports={name:"zoom_and_pan",init:function(){var e=this,t=this._renderer;function n(e){e.originalEvent&&n(e.originalEvent),!1!==e.cancelable&&(e.cancel=!0)}function h(t,o,r){var l=t.options,c=t.actionData,h=[];l.argumentAxis[o]&&h.push(e.getArgumentAxis()),l.valueAxis[o]&&(h=h.concat(c.valueAxes)),h.reduce((function(e,t){return e||(C(t)?t.handleZooming(null,{end:!0},r,o).isPrevented:e)}),!1)&&n(r)}function d(t,n,c,h,d){function f(e,t,c,d,f){var m={zoomed:!1};return t&&e.filter(C).forEach((function(e){var t=e.getOptions(),v=e.visualRange(),_=e.getTranslator().getEventScale(d),x=-h(d,f,c,_);m=(0,r.extend)(!0,m,e.getTranslator().zoom(x,_,e.getZoomBounds()));var y=e.adjustRange((0,l.getVizRangeObject)([m.min,m.max])),T=e.isZoomingLowerLimitOvercome(n,_,y);if((0,o.isDefined)(v)&&v.startValue.valueOf()===y.startValue.valueOf()&&v.endValue.valueOf()===y.endValue.valueOf()){if("touch"===d.pointerType&&"discrete"===t.type){var A=e.isExtremePosition(!1),k=e.isExtremePosition(!0),O=_>1&&!T,S=_<1&&(!A||!k),w=1===_&&!(A&&(x<0&&!t.inverted||x>0&&t.inverted)||k&&(x>0&&!t.inverted||x<0&&t.inverted));m.enabled=O||S||w}}else e.handleZooming(T?null:y,{start:!0,end:!0},d,n),T||(m.zoomed=!0,m.deltaTranslate=x-m.translate)})),m}function m(e,t,n,o){n.zoomed&&(t.offset[o]=(e.offset?e.offset[o]:t.offset[o])+n.deltaTranslate)}function v(e,t,n,o){n.zoomed&&(t.center[o]=e[o]+n.deltaTranslate)}var _=e.option("rotated"),x=t.actionData,y=t.options,T={},A={};x.fallback||(T=f(e._argumentAxes,y.argumentAxis[n],_?"y":"x",c,x),A=f(x.valueAxes,y.valueAxis[n],_?"x":"y",c,x),e._requestChange(["VISUAL_RANGE"]),m(c,x,T,_?"y":"x"),m(c,x,A,_?"x":"y"));var k=d(c);return v(k,x,T,_?"y":"x"),v(k,x,A,_?"x":"y"),T.zoomed||A.zoomed||(x.center=k),T.zoomed||A.zoomed||x.fallback||T.enabled||A.enabled}function f(t,n,o,r){function l(e,t,o,l,c,h){var d=!1;return t&&e.forEach((function(e){var t=h&&e!==h,f=l.scale||1,m=e.getTranslator().zoom(-r(l,c,o,f),f,e.getZoomBounds()),v={startValue:m.min,endValue:m.max},_=e.isZoomingLowerLimitOvercome(n,f,v);e.handleZooming(_?null:v,{start:!0,end:t},l,n),_?e.handleZoomEnd():d=!0})),d}var c=e.option("rotated"),h=t.actionData,d=t.options,f=!0;if(h.fallback)f&=l(e._argumentAxes,d.argumentAxis[n],c?"y":"x",o,h,e.getArgumentAxis()),f|=l(h.valueAxes,d.valueAxis[n],c?"x":"y",o,h);else{var m=[];d.argumentAxis[n]&&m.push(e.getArgumentAxis()),d.valueAxis[n]&&(m=m.concat(h.valueAxes)),m.filter(C).forEach((function(e){e.handleZooming(null,{start:!0},o,n)})),f=f&&m.length}f&&e._requestChange(["VISUAL_RANGE"])}function z(t,n){var r=e._argumentAxes.filter((function(e){return V(P(e.getCanvas()),t)}));return{fallback:e._lastRenderingTime>300,cancel:!r.length||!(0,o.isDefined)(n),action:n,curAxisRect:r.length&&P(r[0].getCanvas()),valueAxes:r.length&&e._valueAxes.filter((function(e){return V(P(e.getCanvas()),t)})),offset:{x:0,y:0},center:t,startCenter:t}}function I(rect,e){var n=t.getRootOffset();return{x:O(S(e.pageX-n.left,rect.x),rect.width+rect.x),y:O(S(e.pageY-n.top,rect.y),rect.height+rect.y)}}function L(e){var n=t.getRootOffset(),o=e.pointers[0].pageX,r=e.pointers[1].pageX,l=e.pointers[0].pageY,c=e.pointers[1].pageY;return{x:O(o,r)+w(r-o)/2-n.left,y:O(l,c)+w(c-l)/2-n.top}}function M(e){var n=t.getRootOffset();return{x:e.pageX-n.left,y:e.pageY-n.top}}function B(e,t,n){return e.offset[n]-t.offset[n]}function H(t){!1!==t.cancelable&&(t.preventDefault(),t.stopPropagation()),e._stopCurrentHandling()}var D={dragStartHandler:function(e){var n,r=D.options,c="touch"===e.pointerType,d=r.argumentAxis.pan||r.valueAxis.pan,f=r.argumentAxis.zoom||r.valueAxis.zoom,m=(0,o.isDefined)(r.panKey)&&e[(0,l.normalizeEnum)(r.panKey)+"Key"],v=r.dragToZoom;(e._cancelPreventDefault=!0,c)?r.allowTouchGestures&&d&&(n=!D.panningVisualRangeEnabled()||D.skipEvent?null:"pan"):v&&d&&m||!v&&d?n="pan":v&&f&&(n="zoom");var _=z(M(e),n);if(_.cancel)return D.skipEvent=!1,void(!1!==e.cancelable&&(e.cancel=!0));D.actionData=_,"zoom"===n?(_.startCoords=I(_.curAxisRect,e),_.rect=t.rect(0,0,0,0).attr(r.dragBoxStyle).append(t.root)):h(D,"pan",e)},dragHandler:function(t){var n=e.option("rotated"),o=D.options,r=D.actionData,l="touch"===t.pointerType;if(t._cancelPreventDefault=!0,r&&(!l||D.panningVisualRangeEnabled()))if("zoom"===r.action){H(t);var c=r.curAxisRect,h=r.startCoords,f=I(c,t),m=o.argumentAxis.zoom,v=o.valueAxis.zoom,rect={x:O(h.x,f.x),y:O(h.y,f.y),width:w(h.x-f.x),height:w(h.y-f.y)};m&&v||(!m&&!n||!v&&n?(rect.x=c.x,rect.width=c.width):(rect.y=c.y,rect.height=c.height)),r.rect.attr(rect)}else if("pan"===r.action){d(D,"pan",t,B,(function(e){return e.offset}));var _=Math.abs(t.offset.y-r.offset.y),x=Math.abs(t.offset.x-r.offset.x);if(l&&(_>5&&_>Math.abs(r.offset.x)||x>5&&x>Math.abs(r.offset.y)))return;H(t)}},dragEndHandler:function(t){var n=e.option("rotated"),o=D.options,r=D.actionData,l="touch"===t.pointerType,c=r&&"pan"===r.action&&!r.fallback&&0===r.offset.x&&0===r.offset.y;if(r&&(!l||D.panningVisualRangeEnabled())&&!c){if((!l||!D.actionData.isNative)&&H(t),"zoom"===r.action){var h=function(e,n,o,l,c,h){e=E(e,h);var d=c[o],f=l[o],m=!1;return n&&w(d-f)>5&&e.some((function(e){var tr=e.getTranslator();if(!tr.getBusinessRange().isEmpty()){var n=h&&e!==h,o=[tr.from(f),tr.from(d)],l=e.isZoomingLowerLimitOvercome(r.action,tr.getMinScale(!0),o),c=e.handleZooming(l?null:o,{start:!!n,end:!!n},t,r.action);return l?e.handleZoomEnd():m=!0,h&&c.isPrevented}})),m},d=I(r.curAxisRect,t),m=h(e._argumentAxes,o.argumentAxis.zoom,n?"y":"x",r.startCoords,d,e.getArgumentAxis());(h(r.valueAxes,o.valueAxis.zoom,n?"x":"y",r.startCoords,d)||m)&&e._requestChange(["VISUAL_RANGE"]),r.rect.dispose()}else"pan"===r.action&&f(D,"pan",t,B);D.actionData=null}},pinchStartHandler:function(e){var t=z(L(e),"zoom");t.isNative=!D.panningVisualRangeEnabled(),t.cancel?n(e):(D.actionData=t,h(D,"zoom",e))},pinchHandler:function(e){if(D.actionData){var t=d(D,"zoom",e,(function(e,t,n,o){return L(e)[n]-t.center[n]+(t.center[n]-t.center[n]*o)}),L);D.defineTouchBehavior(!t,e),!t&&(D.actionData=null)}},pinchEndHandler:function(e){D.actionData&&(f(D,"zoom",e,(function(e,t,n,o){return t.center[n]-t.startCenter[n]+(t.startCenter[n]-t.startCenter[n]*o)})),D.actionData=null)},cleanup:function(){t.root.off(m),D.actionData&&D.actionData.rect&&D.actionData.rect.dispose(),D.actionData=null,t.root.css({"touch-action":"","-ms-touch-action":""})},setup:function(o){if(D.cleanup(),o.argumentAxis.pan||t.root.on(k,n),!o.argumentAxis.none||!o.valueAxis.none){D.options=o;var r=e.option("rotated");(o.argumentAxis.zoom||o.valueAxis.zoom)&&o.allowMouseWheel&&t.root.on(c.name+m,(function(t){function n(e,n,o,r){e=E(e,r);var l=!1;return e.some((function(e){var c=e.getTranslator();if(!c.getBusinessRange().isEmpty()){var h=r&&e!==r,d=c.getMinScale(o>0),f=c.zoom(-(n-n*d),d,e.getZoomBounds()),m={startValue:f.min,endValue:f.max},v=e.isZoomingLowerLimitOvercome("zoom",d,m),_=e.handleZooming(v?null:m,{start:!!h,end:!!h},t,"zoom");return v?e.handleZoomEnd():l=!0,r&&_.isPrevented}})),!!l}var l,c=M(t),h=!1;if(o.valueAxis.zoom){if(0===(l=e._valueAxes.filter((function(e){return V(P(e.getCanvas()),c)}))).length){var d=e._valueAxes.reduce((function(e,t){return!e&&t.coordsIn(c.x,c.y)&&(e=t.getCanvas()),e}),null);d&&(l=e._valueAxes.filter((function(e){return V(P(e.getCanvas()),{x:d.left,y:d.top})})))}h|=n(l,r?c.x:c.y,t.delta)}o.argumentAxis.zoom&&(h|=e._argumentAxes.some((function(e){return!(!V(P(e.getCanvas()),c)&&!e.coordsIn(c.x,c.y))}))&&n(e._argumentAxes,r?c.y:c.x,t.delta,e.getArgumentAxis()));h&&(e._requestChange(["VISUAL_RANGE"]),D.panningVisualRangeEnabled(l)&&H(t))})),o.allowTouchGestures&&(o.argumentAxis.zoom||o.valueAxis.zoom)&&t.root.on(y,{passive:!1},D.pinchStartHandler).on(T,{passive:!1},D.pinchHandler).on(A,D.pinchEndHandler),t.root.on(v,{immediate:!0,passive:!1},D.dragStartHandler).on(_,{immediate:!0,passive:!1},D.dragHandler).on(x,D.dragEndHandler),o.argumentAxis.pan&&t.root.on(k,(function(e){D.actionData={valueAxes:[],offset:{x:0,y:0},center:{x:0,y:0}},H(e),h(D,"pan",e)})).on("dxc-scroll-move.zoomAndPanNS",(function(e){H(e),d(D,"pan",e,B,(function(e){return e.offset}))})).on("dxc-scroll-end.zoomAndPanNS",(function(e){H(e),f(D,"pan",e,B),D.actionData=null}))}},defineTouchBehavior:function(e,t){D.actionData&&(D.actionData.isNative=e),e||H(t)},panningVisualRangeEnabled:function(t){if(null!=t&&t.length)return t.some((function(e){return!e.isExtremePosition(!1)||!e.isExtremePosition(!0)}));var n=e._valueAxes.some((function(e){return!e.isExtremePosition(!1)||!e.isExtremePosition(!0)})),o=e._argumentAxes.some((function(e){return!e.isExtremePosition(!1)||!e.isExtremePosition(!0)}));return n||o}};this._zoomAndPan=D},members:{_setupZoomAndPan:function(){this._zoomAndPan.setup(this._themeManager.getOptions("zoomAndPan"))}},dispose:function(){this._zoomAndPan.cleanup()},customize:function(e){e.addChange({code:"ZOOM_AND_PAN",handler:function(){this._setupZoomAndPan()},isThemeDependent:!0,isOptionChange:!0,option:"zoomAndPan"})}}}}]);