(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{2341:function(e,t,n){"use strict";var r=n(6),o=C(n(14)),l=n(2),c=n(10),h=n(1),_=n(35),d=n(21),f=C(n(2532)),v=C(n(2548)),m=C(n(2549)),x=C(n(2550)),A=C(n(2561)),R=C(n(2448)),S=C(n(2562)),E=n(2099);function C(e){return e&&e.__esModule?e:{default:e}}var O=Array.isArray,y="_reinit",P="_forceRender",k="_resize",B=[y,"_updateDataSource","_dataInit",P,k];function T(e,t){var n=t.end-t.start,r=0;for(e.forEach((function(e){r+=e.getBoundingRect().width}));n<r;)r-=I(e)}function I(e){var t=e.reduce((function(e,t,n){if(!t)return e;var r=t.value();return r<e.value?{value:r,rollingStock:t,index:n}:e}),{rollingStock:void 0,value:1/0,index:void 0});t.rollingStock.getLabels()[0].draw(!1);var n=t.rollingStock.getBoundingRect().width;return e[t.index]=null,n}function L(e){var i,t,n,r,o=!1;for(i=0,n=e.length-1;i<n;i++){for(t=i+1,r=e.length;t<r;t++)if(i!==t&&M(e[i],e[t],!0)){o=!0;break}if(o)break}return o}function M(e,t,n){if(e&&t){var r=e.getBoundingRect(),o=t.getBoundingRect(),l=!n||(r.oppositeStart<=o.oppositeStart&&r.oppositeEnd>o.oppositeStart||o.oppositeStart<=r.oppositeStart&&o.oppositeEnd>r.oppositeStart);return r.end>o.start&&l}}function D(e){var i,t,n;for(i=0;i<e.length-1;i++)M(t=n||e[i],e[i+1])?(t.toChain(e[i+1]),e[i+1]=null,n=t):n=e[i+1]||t}function F(e,canvas){var i,t,n,r,o;for(i=0;i<e.length;i++){if(G(n=e[i],canvas))for(o=n.getBoundingRect(),t=i+1;t<e.length;t++)if((r=e[t])&&r.getBoundingRect().end>o.start-(o.end-canvas.end)){r.toChain(n),e[i]=n=null;break}n&&n.setRollingStockInCanvas(canvas)}}function G(e,canvas){return e&&e.getBoundingRect().end>canvas.end}function w(label,e,t){var n=label.getBoundingRect(),r=n.x,o=n.y,l=n.x+n.width,c=n.y+n.height;return this.labels=[label],this.shiftFunction=t,this._bBox={start:e?r:o,width:e?n.width:n.height,end:e?l:c,oppositeStart:e?o:r,oppositeEnd:e?c:l},this._initialPosition=e?n.x:n.y,this}w.prototype={toChain:function(e){var t=e.getBoundingRect();e.shift(t.start-this._bBox.end),this._changeBoxWidth(t.width),this.labels=this.labels.concat(e.labels)},getBoundingRect:function(){return this._bBox},shift:function(e){var t=this.shiftFunction;(0,c.each)(this.labels,(function(n,label){var r=label.getBoundingRect(),o=t(r,e);label.hideInsideLabel(o)||label.shift(o.x,o.y)})),this._bBox.end-=e,this._bBox.start-=e},setRollingStockInCanvas:function(canvas){this._bBox.end>canvas.end&&this.shift(this._bBox.end-canvas.end)},getLabels:function(){return this.labels},value:function(){return this.labels[0].getData().value},getInitialPosition:function(){return this._initialPosition},_changeBoxWidth:function(e){this._bBox.end+=e,this._bBox.width+=e}};var V={resolveLabelOverlappingInOneDirection:function(e,canvas,t,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return 0},o=[],l={start:t?canvas.left:canvas.top,end:t?canvas.width-canvas.right:canvas.height-canvas.bottom},c=!1;if(e.forEach((function(p){p&&(c=c||p.series.isStackedSeries()||p.series.isFullStackedSeries(),p.getLabels().forEach((function(e){e.isVisible()&&o.push(new w(e,t,n))})))})),c)!t&&o.reverse();else{var h=o.slice();o.sort((function(a,b){return r(a,b)||a.getInitialPosition()-b.getInitialPosition()||h.indexOf(a)-h.indexOf(b)}))}return!!L(o)&&(T(o,l),D(o),o.reverse(),F(o,l),!0)}},N=f.default.inherit({_eventsMap:{onSeriesClick:{name:"seriesClick"},onPointClick:{name:"pointClick"},onArgumentAxisClick:{name:"argumentAxisClick"},onLegendClick:{name:"legendClick"},onSeriesSelectionChanged:{name:"seriesSelectionChanged"},onPointSelectionChanged:{name:"pointSelectionChanged"},onSeriesHoverChanged:{name:"seriesHoverChanged"},onPointHoverChanged:{name:"pointHoverChanged"},onDone:{name:"done"},onZoomStart:{name:"zoomStart"},onZoomEnd:{name:"zoomEnd"}},_fontFields:["legend.font","legend.title.font","legend.title.subtitle.font","commonSeriesSettings.label.font"],_rootClassPrefix:"dxc",_rootClass:"dxc-chart",_initialChanges:["INIT"],_themeDependentChanges:["REFRESH_SERIES_REINIT"],_getThemeManagerOptions:function(){var e=this.callBase.apply(this,arguments);return e.options=this.option(),e},_createThemeManager:function(){var e=this.option(),t=new A.default.ThemeManager(this._getThemeManagerOptions());return t.setTheme(e.theme,e.rtlEnabled),t},_initCore:function(){var e=this;e._canvasClipRect=e._renderer.clipRect(),e._createHtmlStructure(),e._createLegend(),e._createTracker(),e._needHandleRenderComplete=!0,e.layoutManager=new R.default.LayoutManager,e._createScrollBar(),o.default.on(e._$element,"contextmenu",(function(e){((0,d.isTouchEvent)(e)||(0,d.isPointerEvent)(e))&&e.preventDefault()})),o.default.on(e._$element,"MSHoldVisual",(function(e){e.preventDefault()}))},_getLayoutItems:r.noop,_layoutManagerOptions:function(){return this._themeManager.getOptions("adaptiveLayout")},_reinit:function(){var e=this;(0,E.setCanvasValues)(e._canvas),e._reinitAxes(),e._requestChange(["DATA_SOURCE","DATA_INIT","CORRECT_AXIS","FULL_RENDER"])},_correctAxes:r.noop,_createHtmlStructure:function(){var e=this,t=e._renderer,n=t.root,r=function(){return t.g().attr({class:"dxc-constant-lines-group"}).linkOn(n,"constant-lines")};e._constantLinesGroup={dispose:function(){this.under.dispose(),this.above.dispose()},linkOff:function(){this.under.linkOff(),this.above.linkOff()},clear:function(){this.under.linkRemove().clear(),this.above.linkRemove().clear()},linkAppend:function(){this.under.linkAppend(),this.above.linkAppend()}},e._backgroundRect=t.rect().attr({fill:"gray",opacity:1e-4}).append(n),e._panesBackgroundGroup=t.g().attr({class:"dxc-background"}).append(n),e._stripsGroup=t.g().attr({class:"dxc-strips-group"}).linkOn(n,"strips"),e._gridGroup=t.g().attr({class:"dxc-grids-group"}).linkOn(n,"grids"),e._panesBorderGroup=t.g().attr({class:"dxc-border"}).linkOn(n,"border"),e._axesGroup=t.g().attr({class:"dxc-axes-group"}).linkOn(n,"axes"),e._labelAxesGroup=t.g().attr({class:"dxc-strips-labels-group"}).linkOn(n,"strips-labels"),e._constantLinesGroup.under=r(),e._seriesGroup=t.g().attr({class:"dxc-series-group"}).linkOn(n,"series"),e._constantLinesGroup.above=r(),e._scaleBreaksGroup=t.g().attr({class:"dxc-scale-breaks"}).linkOn(n,"scale-breaks"),e._labelsGroup=t.g().attr({class:"dxc-labels-group"}).linkOn(n,"labels"),e._crosshairCursorGroup=t.g().attr({class:"dxc-crosshair-cursor"}).linkOn(n,"crosshair"),e._legendGroup=t.g().attr({class:"dxc-legend","clip-path":e._getCanvasClipRectID()}).linkOn(n,"legend").linkAppend(n).enableLinks(),e._scrollBarGroup=t.g().attr({class:"dxc-scroll-bar"}).linkOn(n,"scroll-bar")},_disposeObjectsInArray:function(e,t){(0,c.each)(this[e]||[],(function(e,n){t&&n?(0,c.each)(t,(function(e,t){n[t]&&n[t].dispose()})):n&&n.dispose()})),this[e]=null},_disposeCore:function(){var e=this,t=function(t){e[t]&&(e[t].dispose(),e[t]=null)},n=function(t){e[t].linkOff()},r=this._disposeObjectsInArray;e._renderer.stopAllAnimations(),r.call(e,"series"),t("_tracker"),t("_crosshair"),e.layoutManager=e._userOptions=e._canvas=e._groupsData=null,n("_stripsGroup"),n("_gridGroup"),n("_axesGroup"),n("_constantLinesGroup"),n("_labelAxesGroup"),n("_panesBorderGroup"),n("_seriesGroup"),n("_labelsGroup"),n("_crosshairCursorGroup"),n("_legendGroup"),n("_scrollBarGroup"),n("_scaleBreaksGroup"),t("_canvasClipRect"),t("_panesBackgroundGroup"),t("_backgroundRect"),t("_stripsGroup"),t("_gridGroup"),t("_axesGroup"),t("_constantLinesGroup"),t("_labelAxesGroup"),t("_panesBorderGroup"),t("_seriesGroup"),t("_labelsGroup"),t("_crosshairCursorGroup"),t("_legendGroup"),t("_scrollBarGroup"),t("_scaleBreaksGroup")},_getAnimationOptions:function(){return this._themeManager.getOptions("animation")},_getDefaultSize:function(){return{width:400,height:400}},_getOption:function(e){return this._themeManager.getOptions(e)},_applySize:function(rect){this._rect=rect.slice(),this._changes.has("FULL_RENDER")||this._processRefreshData(k)},_resize:function(){this._doRender(this.__renderOptions||{animate:!1,isResize:!0})},_trackerType:"ChartTracker",_createTracker:function(){var e=this;e._tracker=new S.default[e._trackerType]({seriesGroup:e._seriesGroup,renderer:e._renderer,tooltip:e._tooltip,legend:e._legend,eventTrigger:e._eventTrigger})},_getTrackerSettings:function(){return(0,h.extend)({chart:this},this._getSelectionModes())},_getSelectionModes:function(){var e=this._themeManager;return{seriesSelectionMode:e.getOptions("seriesSelectionMode"),pointSelectionMode:e.getOptions("pointSelectionMode")}},_updateTracker:function(e){var t=this;t._tracker.update(t._getTrackerSettings()),t._tracker.setCanvases({left:0,right:t._canvas.width,top:0,bottom:t._canvas.height},e)},_createCanvasFromRect:function(rect){var e=this._canvas;return(0,E.setCanvasValues)({left:rect[0],top:rect[1],right:e.width-rect[2],bottom:e.height-rect[3],width:e.width,height:e.height})},_doRender:function(e){var t=this;if(0!==t._canvas.width||0!==t._canvas.height){t._resetIsReady();var n=t._prepareDrawOptions(e),r=n.recreateCanvas;t._preserveOriginalCanvas(),r?t.__currentCanvas=t._canvas:t._canvas=t.__currentCanvas,r&&t._updateCanvasClipRect(t._canvas),this._canvas=this._createCanvasFromRect(this._rect),t._renderer.stopAllAnimations(!0),t._cleanGroups();var o=new Date;t._renderElements(n),t._lastRenderingTime=new Date-o}},_preserveOriginalCanvas:function(){this.__originalCanvas=this._canvas,this._canvas=(0,h.extend)({},this._canvas)},_layoutAxes:r.noop,_renderElements:function(e){var t,n,r,o=this,l=o._prepareToRender(e),c=o._isRotated(),_=o._isLegendInside(),d=[];(0,h.extend)({},o._canvas),o._renderer.lock(),e.drawLegend&&o._legend&&o._legendGroup.linkAppend(),o.layoutManager.setOptions(o._layoutManagerOptions());var f=o._getLayoutTargets();this._layoutAxes((function(t){var n=t?(0,h.extend)({},e,{animate:!1}):e,canvas=o._renderAxes(n,l);o._shrinkAxes(t,canvas)})),o._applyClipRects(l),o._appendSeriesGroups(),o._createCrosshairCursor(),f.forEach((function(e){var canvas=e.canvas;d.push({left:canvas.left,right:canvas.width-canvas.right,top:canvas.top,bottom:canvas.height-canvas.bottom})})),o._scrollBar&&("discrete"===(t=o._argumentAxes[0].getTranslator().getBusinessRange()).axisType&&t.categories&&t.categories.length<=1||"discrete"!==t.axisType&&t.min===t.max?n=r=void 0:(n=t.minVisible,r=t.maxVisible),o._scrollBar.init(t,!o._argumentAxes[0].getOptions().valueMarginsEnabled).setPosition(n,r)),o._updateTracker(d),o._updateLegendPosition(e,_),o._applyPointMarkersAutoHiding(),o._renderSeries(e,c,_),o._renderer.unlock()},_updateLegendPosition:r.noop,_createCrosshairCursor:r.noop,_appendSeriesGroups:function(){this._seriesGroup.linkAppend(),this._labelsGroup.linkAppend(),this._appendAdditionalSeriesGroups()},_renderSeries:function(e,t,n){this._calculateSeriesLayout(e,t),this._renderSeriesElements(e,n)},_calculateSeriesLayout:function(e,t){e.hideLayoutLabels=this.layoutManager.needMoreSpaceForPanesCanvas(this._getLayoutTargets(),t)&&!this._themeManager.getOptions("adaptiveLayout").keepLabels,this._updateSeriesDimensions(e)},_getArgFilter:function(){return function(){return!0}},_getValFilter:function(e){return function(){return!0}},_getPointsToAnimation:function(e){var t=this,n=this._getArgFilter();return e.map((function(s){var e=t._getValFilter(s);return s.getPoints().filter((function(p){return p.getOptions().visible&&n(p.argument)&&(e(p.getMinValue(!0))||e(p.getMaxValue(!0)))})).length}))},_renderSeriesElements:function(e,t){var i,n,r=this,o=r.series,l=o.length,c=r._themeManager.getOptions("resolveLabelOverlapping"),h=r._getPointsToAnimation(o);for(i=0;i<l;i++)n=o[i],r._applyExtraSettings(n,e),n.draw(e.animate&&h[i]<=e.animationPointsLimit&&r._renderer.animationEnabled(),e.hideLayoutLabels,r._getLegendCallBack(n));"none"===c?r._adjustSeriesLabels(!1):r._locateLabels(c),r._renderTrackers(t),r._tracker.repairTooltip(),r._clearCanvas(),r._renderExtraElements(),r._drawn(),r._renderCompleteHandler()},_locateLabels:function(e){this._resolveLabelOverlapping(e)},_renderExtraElements:function(){},_clearCanvas:function(){this._canvas=this.__originalCanvas},_resolveLabelOverlapping:function(e){var t;switch(e){case"stack":t=this._resolveLabelOverlappingStack;break;case"hide":t=this._resolveLabelOverlappingHide;break;case"shift":t=this._resolveLabelOverlappingShift}return(0,l.isFunction)(t)&&t.call(this)},_getVisibleSeries:function(){return(0,r.grep)(this.getAllSeries(),(function(e){return e.isVisible()}))},_resolveLabelOverlappingHide:function(){var e,t,n,r,i,o,l,c,h,_=[],d=this._getVisibleSeries();for(i=0;i<d.length;i++)for(l=d[i].getVisiblePoints(),o=0;o<l.length;o++)_.push.apply(_,l[o].getLabels());for(i=0;i<_.length;i++)if((e=_[i]).isVisible())for(n=e.getBoundingRect(),o=i+1;o<_.length;o++)r=(t=_[o]).getBoundingRect(),h=r,((c=n).x<=h.x&&h.x<=c.x+c.width||c.x>=h.x&&c.x<=h.x+h.width)&&(c.y<=h.y&&h.y<=c.y+c.height||c.y>=h.y&&c.y<=h.y+h.height)&&t.draw(!1)},_cleanGroups:function(){var e=this;e._stripsGroup.linkRemove().clear(),e._gridGroup.linkRemove().clear(),e._axesGroup.linkRemove().clear(),e._constantLinesGroup.above.clear(),e._labelAxesGroup.linkRemove().clear(),e._labelsGroup.linkRemove().clear(),e._crosshairCursorGroup.linkRemove().clear(),e._scaleBreaksGroup.linkRemove().clear()},_allowLegendInsidePosition:function(){return!1},_createLegend:function(){var e,t,n,r=this,o=(e=r._legendDataField,{getFormatObject:function(data){var e={};return e[n.indexField]=data.id,e[n.colorField]=data.states.normal.fill,e[n.nameField]=data.text,e},textField:(n={nameField:(t=e)+"Name",colorField:t+"Color",indexField:t+"Index"}).nameField});r._legend=new v.default.Legend({renderer:r._renderer,widget:r,group:r._legendGroup,backgroundClass:"dxc-border",itemGroupClass:"dxc-item",titleGroupClass:"dxc-title",textField:o.textField,getFormatObject:o.getFormatObject,allowInsidePosition:r._allowLegendInsidePosition()}),r._updateLegend(),r._layout.add(r._legend)},_updateLegend:function(){var e=this,t=e._themeManager,n=t.getOptions("legend"),r=e._getLegendData();n.containerBackgroundColor=t.getOptions("containerBackgroundColor"),n._incidentOccurred=e._incidentOccurred,e._legend.update(r,n,t.theme("legend").title),this._change(["LAYOUT"])},_prepareDrawOptions:function(e){var t=this._getAnimationOptions(),n=(0,h.extend)({},{force:!1,adjustAxes:!0,drawLegend:!0,drawTitle:!0,animate:t.enabled,animationPointsLimit:t.maxPointCountSupported},e,this.__renderOptions);return(0,l.isDefined)(n.recreateCanvas)||(n.recreateCanvas=n.adjustAxes&&n.drawLegend&&n.drawTitle),n},_processRefreshData:function(e){var t=(0,_.inArray)(this._currentRefreshData,B),n=(0,_.inArray)(e,B);(!this._currentRefreshData||t>=0&&n<t)&&(this._currentRefreshData=e),this._requestChange(["REFRESH"])},_getLegendData:function(){return(0,E.map)(this._getLegendTargets(),(function(e){var t=e.legendData,style=e.getLegendStyles,n=style.normal.opacity;e.visible||((!(0,l.isDefined)(n)||n>.3)&&(n=.3),t.textOpacity=.3);var r={opacity:n};return t.states={hover:(0,h.extend)({},style.hover,r),selection:(0,h.extend)({},style.selection,r),normal:(0,h.extend)({},style.normal,r)},t}))},_getLegendOptions:function(e){return{legendData:{text:e[this._legendItemTextField],id:e.index,visible:!0},getLegendStyles:e.getLegendStyles(),visible:e.isVisible()}},_disposeSeries:function(e){var t,n=this;n.series&&((0,l.isDefined)(e)?(n.series[e].dispose(),n.series.splice(e,1)):((0,c.each)(n.series,(function(e,s){return s.dispose()})),n.series.length=0)),null!==(t=n.series)&&void 0!==t&&t.length||(n.series=[])},_disposeSeriesFamilies:function(){var e=this;(0,c.each)(e.seriesFamilies||[],(function(e,t){t.dispose()})),e.seriesFamilies=null,e._needHandleRenderComplete=!0},_optionChanged:function(e){this._themeManager.resetOptions(e.name),this.callBase.apply(this,arguments)},_applyChanges:function(){var e=this;e._themeManager.update(e._options.silent()),e.callBase.apply(e,arguments)},_optionChangesMap:{animation:"ANIMATION",dataSource:"DATA_SOURCE",palette:"PALETTE",paletteExtensionMode:"PALETTE",legend:"FORCE_DATA_INIT",seriesTemplate:"FORCE_DATA_INIT",export:"FORCE_RENDER",valueAxis:"AXES_AND_PANES",argumentAxis:"AXES_AND_PANES",commonAxisSettings:"AXES_AND_PANES",panes:"AXES_AND_PANES",commonPaneSettings:"AXES_AND_PANES",defaultPane:"AXES_AND_PANES",useAggregation:"AXES_AND_PANES",containerBackgroundColor:"AXES_AND_PANES",rotated:"ROTATED",autoHidePointMarkers:"REFRESH_SERIES_REINIT",customizePoint:"REFRESH_SERIES_REINIT",customizeLabel:"REFRESH_SERIES_REINIT",scrollBar:"SCROLL_BAR"},_optionChangesOrder:["ROTATED","PALETTE","REFRESH_SERIES_REINIT","AXES_AND_PANES","INIT","REINIT","DATA_SOURCE","REFRESH_SERIES_DATA_INIT","DATA_INIT","FORCE_DATA_INIT","REFRESH_AXES","CORRECT_AXIS"],_customChangesOrder:["ANIMATION","REFRESH_SERIES_FAMILIES","FORCE_FIRST_DRAWING","FORCE_DRAWING","FORCE_RENDER","VISUAL_RANGE","SCROLL_BAR","REINIT","REFRESH","FULL_RENDER"],_change_ANIMATION:function(){this._renderer.updateAnimationOptions(this._getAnimationOptions())},_change_DATA_SOURCE:function(){this._needHandleRenderComplete=!0,this._updateDataSource()},_change_PALETTE:function(){this._themeManager.updatePalette(),this._refreshSeries("DATA_INIT")},_change_REFRESH_SERIES_DATA_INIT:function(){this._refreshSeries("DATA_INIT")},_change_DATA_INIT:function(){this.series&&!this.needToPopulateSeries||this._changes.has("FORCE_DATA_INIT")||this._dataInit()},_change_FORCE_DATA_INIT:function(){this._dataInit()},_change_REFRESH_SERIES_FAMILIES:function(){this._processSeriesFamilies(),this._populateBusinessRange(),this._processRefreshData(P)},_change_FORCE_RENDER:function(){this._processRefreshData(P)},_change_AXES_AND_PANES:function(){this._refreshSeries("INIT")},_change_ROTATED:function(){this._createScrollBar(),this._refreshSeries("INIT")},_change_REFRESH_SERIES_REINIT:function(){this._refreshSeries("INIT")},_change_REFRESH_AXES:function(){var e=this;(0,E.setCanvasValues)(e._canvas),e._reinitAxes(),e._requestChange(["CORRECT_AXIS","FULL_RENDER"])},_change_SCROLL_BAR:function(){this._createScrollBar(),this._processRefreshData(P)},_change_REINIT:function(){this._processRefreshData(y)},_change_FORCE_DRAWING:function(){this._resetComponentsAnimation()},_change_FORCE_FIRST_DRAWING:function(){this._resetComponentsAnimation(!0)},_resetComponentsAnimation:function(e){this.series.forEach((function(s){s.resetApplyingAnimation(e)})),this._resetAxesAnimation(e)},_resetAxesAnimation:r.noop,_refreshSeries:function(e){this.needToPopulateSeries=!0,this._requestChange([e])},_change_CORRECT_AXIS:function(){this._correctAxes()},_doRefresh:function(){var e=this._currentRefreshData;e&&(this._currentRefreshData=null,this._renderer.stopAllAnimations(!0),this[e]())},_updateCanvasClipRect:function(canvas){var e=Math.max(canvas.width-canvas.left-canvas.right,0),t=Math.max(canvas.height-canvas.top-canvas.bottom,0);this._canvasClipRect.attr({x:canvas.left,y:canvas.top,width:e,height:t}),this._backgroundRect.attr({x:canvas.left,y:canvas.top,width:e,height:t})},_getCanvasClipRectID:function(){return this._canvasClipRect.id},_dataSourceChangedHandler:function(){this._changes.has("INIT")?this._requestChange(["DATA_INIT"]):this._requestChange(["FORCE_DATA_INIT"])},_dataInit:function(){this._dataSpecificInit(!0)},_processSingleSeries:function(e){e.createPoints(!1)},_handleSeriesDataUpdated:function(){var e=this;this._getVisibleSeries().some((function(s){return s.useAggregation()}))&&this._populateMarginOptions(),this.series.forEach((function(s){return e._processSingleSeries(s)}),this)},_dataSpecificInit:function(e){var t=this;t.series&&!t.needToPopulateSeries||(t.series=t._populateSeries()),t._repopulateSeries(),t._seriesPopulatedHandlerCore(),t._populateBusinessRange(),t._tracker.updateSeries(t.series,this._changes.has("INIT")),t._updateLegend(),e&&this._requestChange(["FULL_RENDER"])},_forceRender:function(){this._doRender({force:!0})},_repopulateSeries:function(){var e=this,t=e._themeManager,data=e._dataSourceItems(),n=t.getOptions("dataPrepareSettings");t.getOptions("seriesTemplate")&&e._populateSeries(data),e._groupSeries();var r=m.default.validateData(data,e._groupsData,e._incidentOccurred,n);t.resetPalette(),e.series.forEach((function(e){e.updateData(r[e.getArgumentField()])})),e._handleSeriesDataUpdated()},_renderCompleteHandler:function(){var e=this,t=!0;e._needHandleRenderComplete&&((0,c.each)(e.series,(function(e,s){t=t&&s.canRenderCompleteHandle()})),t&&(e._needHandleRenderComplete=!1,e._eventTrigger("done",{target:e})))},_dataIsReady:function(){return(0,l.isDefined)(this.option("dataSource"))&&this._dataIsLoaded()},_populateSeriesOptions:function(data){for(var e,t,n=this,r=n._themeManager,o=r.getOptions("seriesTemplate"),c=o?(0,E.processSeriesTemplate)(o,data||[]):n.option("series"),_=O(c)?c:c?[c]:[],d=n._getExtraOptions(),f=[],v=function(e){n._specialProcessSeries(),n._populateBusinessRange(e&&e.getValueAxis(),!0),n._renderer.stopAllAnimations(!0),n._updateLegend(),n._requestChange(["FULL_RENDER"])},i=0;i<_.length;i++)e=(0,h.extend)(!0,{},_[i],d),(0,l.isDefined)(e.name)&&""!==e.name||(e.name="Series "+(i+1).toString()),e.rotated=n._isRotated(),e.customizePoint=r.getOptions("customizePoint"),e.customizeLabel=r.getOptions("customizeLabel"),e.visibilityChanged=v,e.incidentOccurred=n._incidentOccurred,t=r.getOptions("series",e,_.length),n._checkPaneName(t)&&f.push(t);return f},_populateSeries:function(data){var e,t=this,n=[],r=t._incidentOccurred,o=t._populateSeriesOptions(data),l=!1;t.needToPopulateSeries=!1,(0,c.each)(o,(function(e,r){var o=t.series&&t.series.filter((function(s){return s.name===r.name&&-1===n.map((function(e){return e.series})).indexOf(s)}))[0];o&&o.type===r.type?n.push({series:o,options:r}):(n.push({options:r}),l=!0)})),t._tracker.clearHover(),(0,c.reverseEach)(t.series,(function(e,r){n.some((function(s){return r===s.series}))||(t._disposeSeries(e),l=!0)})),!l&&(l=n.some((function(e){return e.series.name!==o[e.series.index].name}))),t.series=[],l&&t._disposeSeriesFamilies(),t._themeManager.resetPalette();var _=function(data){t.series.forEach((function(e){e.notify(data)}))};return(0,c.each)(n,(function(n,o){var l=o.options,c={commonSeriesModes:t._getSelectionModes(),argumentAxis:t.getArgumentAxis(),valueAxis:t._getValueAxis(l.pane,l.axis)};o.series?(e=o.series).updateOptions(l,c):e=new x.default.Series((0,h.extend)({renderer:t._renderer,seriesGroup:t._seriesGroup,labelsGroup:t._labelsGroup,eventTrigger:t._eventTrigger,eventPipe:_,incidentOccurred:r},c),l),e.isUpdated?(e.index=t.series.length,t.series.push(e)):r("E2101",[l.type])})),t.series},getStackedPoints:function(e){var t=e.series.getStackName();return this._getVisibleSeries().reduce((function(n,r){return(0,l.isDefined)(r.getStackName())&&(0,l.isDefined)(t)&&t!==r.getStackName()||(n=n.concat(r.getPointsByArg(e.argument))),n}),[])},getAllSeries:function(){return(this.series||[]).slice()},getSeriesByName:function(e){var t=null;return(0,c.each)(this.series,(function(i,n){if(n.name===e)return t=n,!1})),t},getSeriesByPos:function(e){return(this.series||[])[e]},clearSelection:function(){this._tracker.clearSelection()},hideTooltip:function(){this._tracker._hideTooltip()},clearHover:function(){this._tracker.clearHover()},render:function(e){var t=this;return t.__renderOptions=e,t.__forceRender=e&&e.force,t.callBase.apply(t,arguments),t.__renderOptions=t.__forceRender=null,t},refresh:function(){this._disposeSeries(),this._disposeSeriesFamilies(),this._requestChange(["CONTAINER_SIZE","REFRESH_SERIES_REINIT"])},_getMinSize:function(){var e=this._layoutManagerOptions();return[e.width,e.height]},_change_REFRESH:function(){this._changes.has("INIT")?this._currentRefreshData=null:this._doRefresh()},_change_FULL_RENDER:function(){this._forceRender()},_change_INIT:function(){this._reinit()},_stopCurrentHandling:function(){this._tracker.stopCurrentHandling()}});["series","commonSeriesSettings","dataPrepareSettings","seriesSelectionMode","pointSelectionMode","synchronizeMultiAxes","resolveLabelsOverlapping"].forEach((function(e){N.prototype._optionChangesMap[e]="REFRESH_SERIES_DATA_INIT"})),["adaptiveLayout","crosshair","resolveLabelOverlapping","adjustOnZoom","zoomingMode","scrollingMode","stickyHovering"].forEach((function(e){N.prototype._optionChangesMap[e]="FORCE_RENDER"})),["equalBarWidth","minBubbleSize","maxBubbleSize","barWidth","barGroupPadding","barGroupWidth","negativesAsZeroes","negativesAsZeros"].forEach((function(e){N.prototype._optionChangesMap[e]="REFRESH_SERIES_FAMILIES"})),t.overlapping=V,t.BaseChart=N,N.addPlugin(n(2563).plugin),N.addPlugin(n(2442).plugin),N.addPlugin(n(2449).plugin),N.addPlugin(n(2564).plugin),N.addPlugin(n(2565).plugin);var z=N.prototype._change_TITLE;N.prototype._change_TITLE=function(){z.apply(this,arguments),this._change(["FORCE_RENDER"])}},2455:function(e,t,n){"use strict";var r=n(2099),o=n(1),l=Math,c=l.abs,h=l.min,_=l.max,d=l.floor,f="right",v="bottom";function m(e){return{x:e.x-8,y:e.y-4,width:e.width+16,height:e.height+8}}function x(e,t,n,canvas){var r=n?["x","width","y","height",t,0]:["y","height","x","width",e,1];return function(e,t,o){var l={x:o.x,y:o.y},c=m(e),h=n?o.y-e.y-e.height/2:o.y-e.y;return l.y=n||!n&&t===v?o.y+h:o.y,c[r[0]]<0?l[r[0]]-=c[r[0]]:c[r[0]]+c[r[1]]+h*r[5]>canvas[r[1]]&&(l[r[0]]-=c[r[0]]+c[r[1]]+h*r[5]-canvas[r[1]]),r[4]-c[r[3]]/2<0?l[r[2]]-=r[4]-c[r[3]]/2:r[4]+c[r[3]]/2>canvas[r[3]]&&(l[r[2]]-=r[4]+c[r[3]]/2-canvas[r[3]]),l}}function A(e,t,n,r){var o=this;o._renderer=e,o._crosshairGroup=r,o._options={},o.update(t,n)}t.getMargins=function(){return{x:8,y:4}},A.prototype={constructor:A,update:function(e,t){var n=this,canvas=t.canvas;n._canvas={top:canvas.top,bottom:canvas.height-canvas.bottom,left:canvas.left,right:canvas.width-canvas.right,width:canvas.width,height:canvas.height},n._axes=t.axes,n._panes=t.panes,n._prepareOptions(e,"horizontal"),n._prepareOptions(e,"vertical")},dispose:function(){var e=this;e._renderer=e._crosshairGroup=e._options=e._axes=e._canvas=e._horizontalGroup=e._verticalGroup=e._horizontal=e._vertical=e._circle=e._panes=null},_prepareOptions:function(e,t){var n=e[t+"Line"];this._options[t]={visible:n.visible,line:{stroke:n.color||e.color,"stroke-width":n.width||e.width,dashStyle:n.dashStyle||e.dashStyle,opacity:n.opacity||e.opacity,"stroke-linecap":"butt"},label:(0,o.extend)(!0,{},e.label,n.label)}},_createLines:function(e,t,n){for(var r=[],canvas=this._canvas,o=[canvas.left,canvas.top,canvas.left,canvas.top],i=0;i<2;i++)r.push(this._renderer.path(o,"line").attr(e).sharp(t).append(n));return r},render:function(){var e=this,t=e._renderer,n=e._options,r=n.vertical,o=n.horizontal,l=o.visible?o.line:r.line,c={stroke:l.stroke,"stroke-width":l["stroke-width"],dashStyle:l.dashStyle,opacity:l.opacity},canvas=e._canvas;e._horizontal={},e._vertical={},e._circle=t.circle(canvas.left,canvas.top,0).attr(c).append(e._crosshairGroup),e._horizontalGroup=t.g().append(e._crosshairGroup),e._verticalGroup=t.g().append(e._crosshairGroup),r.visible&&(e._vertical.lines=e._createLines(r.line,"h",e._verticalGroup),e._vertical.labels=e._createLabels(e._axes[0],r,!1,e._verticalGroup)),o.visible&&(e._horizontal.lines=e._createLines(o.line,"v",e._horizontalGroup),e._horizontal.labels=e._createLabels(e._axes[1],o,!0,e._horizontalGroup)),e.hide()},_createLabels:function(e,t,n,o){var l,c,text,h,_,canvas=this._canvas,d=this._renderer,m=[],x=t.label;return x.visible&&e.forEach((function(e){var A=e.getOptions().position;if(!e.getTranslator().getBusinessRange().isEmpty()){_=e.getLabelsPosition(),n?(c=canvas.top,l=_):(l=canvas.left,c=_);var R="top"===A||A===v?"center":A===f?"left":f;h=d.rect(0,0,0,0).attr({fill:x.backgroundColor||t.line.stroke}).append(o),text=d.text("0",0,0).css((0,r.patchFontOptions)(t.label.font)).attr({align:R,class:x.cssClass}).append(o),m.push({text:text,background:h,axis:e,options:x,pos:{coord:_,side:A},startXY:{x:l,y:c}})}})),m},_updateText:function(e,t,n,r,o){var l=this;n.forEach((function(label){var n=label.axis,c=label.startXY,h=label.text,_=label.background,text="";n.name&&n.name!==t||(text=n.getFormattedValue(e,label.options,r)),text?(h.attr({text:text,x:c.x,y:c.y}),h.attr(o(h.getBBox(),label.pos.side,c)),l._updateLinesCanvas(label),_.attr(m(h.getBBox()))):(h.attr({text:""}),_.attr({x:0,y:0,width:0,height:0}))}))},hide:function(){this._crosshairGroup.attr({visibility:"hidden"})},_updateLinesCanvas:function(label){var e=label.pos.side,t=label.pos.coord,n=this._linesCanvas,canvas=this._canvas;n[e]=n[e]!==canvas[e]&&c(n[e]-canvas[e])<c(t-canvas[e])?n[e]:t},_updateLines:function(e,t,n,r,o){for(var l=this._linesCanvas,canvas=this._canvas,c=o?[[h(t-r,l.left),canvas.top,t-r,canvas.top],[t+r,canvas.top,_(l.right,t+r),canvas.top]]:[[canvas.left,h(l.top,n-r),canvas.left,n-r],[canvas.left,n+r,canvas.left,_(l.bottom,n+r)]],i=0;i<2;i++)e[i].attr({points:c[i]}).sharp(o?"v":"h",o?n===canvas.bottom?-1:1:t===canvas.right?-1:1)},_resetLinesCanvas:function(){var canvas=this._canvas;this._linesCanvas={left:canvas.left,right:canvas.right,top:canvas.top,bottom:canvas.bottom}},_getClipRectForPane:function(e,t){var i,n,r=this._panes;for(i=0;i<r.length;i++)if((n=r[i].coords).left<=e&&n.right>=e&&n.top<=t&&n.bottom>=t)return r[i].clipRect;return{id:null}},show:function(data){var e=this,t=data.point,n=t.getCrosshairData(data.x,data.y),r=t.getPointRadius(),o=e._horizontal,l=e._vertical,c=r?r+3:0,canvas=e._canvas,h=d(n.x),_=d(n.y);h>=canvas.left&&h<=canvas.right&&_>=canvas.top&&_<=canvas.bottom?(e._crosshairGroup.attr({visibility:"visible"}),e._resetLinesCanvas(),e._circle.attr({cx:h,cy:_,r:c,"clip-path":e._getClipRectForPane(h,_).id}),o.lines&&(e._updateText(n.yValue,n.axis,o.labels,t,x(h,_,!0,canvas)),e._updateLines(o.lines,h,_,c,!0),e._horizontalGroup.attr({translateY:_-canvas.top})),l.lines&&(e._updateText(n.xValue,n.axis,l.labels,t,x(h,_,!1,canvas)),e._updateLines(l.lines,h,_,c,!1),e._verticalGroup.attr({translateX:h-canvas.left}))):e.hide()}},t.Crosshair=A},2531:function(e,t,n){"use strict";var r=n(6),o=n(1),l=n(35),c=n(10),h=O(n(26)),_=n(2099),d=n(2),f=n(105),v=n(2341),m=O(n(2566)),x=n(2567),A=O(n(2579)),R=O(n(2455)),S=n(2148),E=O(n(2448)),C=O(n(2132));function O(e){return e&&e.__esModule?e:{default:e}}var y="default",P=[{name:y,border:{}}],k="discrete",B=Array.isArray;function T(e,t,n){var r=e.getOptions().grid,o=e.getOptions().minorGrid;r.visible=t,o&&(o.visible=n)}function I(e,t,n){var r,i;for(i=0;i<n.length;i++)if((r=n[i]).name===t&&r.pane===e)return r;if(e)return I(void 0,t,n)}function L(a,b){return a.priority-b.priority}function M(e,t){var n=!1;return(0,c.each)(e,(function(e,r){if(r.name===t)return n=!0,!1})),n}function D(e,t,n,r){var o=t[e]||0,l=n[e]||0;return o+l+(o&&l?r:0)}function F(e,t,n){return G(t[e],n[e])}function G(e,t){return Math.max(e||0,t||0)}function w(e){return e.getMargins()}function V(e,t){return e.reduce((function(e,n){var r=t(n),o=e.panes[n.pane]=e.panes[n.pane]||{},l=n.getMultipleAxesSpacing();return o.top=D("top",o,r,l),o.bottom=D("bottom",o,r,l),o.left=F("left",o,r),o.right=F("right",o,r),e.top=F("top",o,e),e.bottom=F("bottom",o,e),e.left=F("left",o,e),e.right=F("right",o,e),e}),{panes:{}})}function N(e){return e.reduce((function(e,t){var n=t.getMargins(),r=e.panes[t.pane]=e.panes[t.pane]||{},o=t.getMultipleAxesSpacing();return r.top=F("top",r,n),r.bottom=F("bottom",r,n),r.left=D("left",r,n,o),r.right=D("right",r,n,o),e.top=F("top",r,e),e.bottom=F("bottom",r,e),e.left=F("left",r,e),e.right=F("right",r,e),e}),{panes:{}})}function z(e,t,n,r,o){e.forEach((function(e){e[t](n&&n[e.pane],r&&r[e.pane]||r,o)}))}function H(e,t,n,r,o){function l(t,n,r){return(-1===(e?["left","right"]:["top","bottom"]).indexOf(t)?n:n.panes[r]||{})[t]}function c(e,t,n,r){return G(l(e,t,r),l(e,n,r))}var h=function(e){return"original".concat(e[0].toUpperCase()).concat(e.slice(1))};function d(e,t,l,d,f,v){(t=t.sort((function(t,n){return e[n][d]-e[t][d]}))).forEach((function(t){var canvas=e[t];v.forEach((function(e){canvas[e]=canvas[h(e)]+c(e,r,o,t)}))}));var m=e[t[0]],x=t.reduce((function(e,t){return e-=c(d,r,o,t)+c(f,r,o,t)}),m[l]-m[h(f)]-e[t[t.length-1]][h(d)])-_.PANE_PADDING*(t.length-1),A=Object.keys(n).reduce((function(e,t){return e+(n[t].unit?n[t].height:0)}),0);x-=A,t.reduce((function(t,h){var canvas=e[h],v=n[h];return t-=c(f,r,o,h),canvas[f]=m[l]-t,t-=v.unit?v.height:Math.floor(x*v.height),canvas[d]=t,t-=c(d,r,o,h)+_.PANE_PADDING}),m[l]-m[h(f)]-(x<0?x:0))}var f=Object.keys(t);return e?d(t,f,"width","left","right",["top","bottom"]):d(t,f,"height","top","bottom",["left","right"]),t}function U(e,t,n,r){t&&(z(e,"createTicks",n),m.default.synchronize(e)),z(e,"draw",!t&&n,r)}function j(e,t){var n={};return function(r){if(!r.customPositionIsAvailable()||r.customPositionEqualsToPredefined()){var o=n[r.pane]=n[r.pane]||{top:0,left:0,bottom:0,right:0},l=r.getMultipleAxesSpacing(),c=r.getMargins();r.shift(o),o[e]=D(e,o,c,l),o[t]=D(t,o,c,l)}else r.shift({top:0,left:0,bottom:0,right:0})}}function W(e,t){var n,r,o=0;for(n in t.panes)r=t.panes[n],o+="height"===e?r.top+r.bottom:r.left+r.right;return o}function Z(e,t,n,r){var o=0;e[t]>0&&(o=W(t,r(n,w)),z(n,"hideTitle"),e[t]-=o-W(t,r(n,w))),e[t]>0&&z(n,"hideOuterElements")}var X=x.AdvancedChart.inherit({_themeSection:"chart",_fontFields:["crosshair.label.font"],_setDeprecatedOptions:function(){this.callBase.apply(this,arguments),(0,o.extend)(this._deprecatedOptions,{useAggregation:{since:"18.1",message:"Use the 'commonSeriesSettings.aggregation.enabled' or 'series.aggregation.enabled' option instead"},"argumentAxis.min":{since:"18.2",message:"Use the 'argumentAxis.visualRange' option instead"},"argumentAxis.max":{since:"18.2",message:"Use the 'argumentAxis.visualRange' option instead"},"valueAxis.min":{since:"18.2",message:"Use the 'valueAxis.visualRange' option instead"},"valueAxis.max":{since:"18.2",message:"Use the 'valueAxis.visualRange' option instead"},zoomingMode:{since:"18.2",message:"Use the 'zoomAndPan' option instead"},scrollingMode:{since:"18.2",message:"Use the 'zoomAndPan' option instead"}})},_initCore:function(){this.paneAxis={},this.callBase()},_correctAxes:function(){this._correctValueAxes(!0)},_getExtraOptions:r.noop,_createPanes:function(){var e,t=this,n=t.option("panes"),r=0;return(!n||B(n)&&!n.length)&&(n=P),t.callBase(),e=t.option("defaultPane"),n=(0,o.extend)(!0,[],B(n)?n:[n]),(0,c.each)(n,(function(e,t){t.name=(0,d.isDefined)(t.name)?t.name:y+r++})),(0,d.isDefined)(e)?M(n,e)||(t._incidentOccurred("W2101",[e]),e=n[n.length-1].name):e=n[n.length-1].name,t.defaultPane=e,n=t._isRotated()?n.reverse():n},_getAxisRenderingOptions:function(){return{axisType:"xyAxes",drawingType:"linear"}},_prepareAxisOptions:function(e,t,n){return{isHorizontal:"argumentAxis"===e!==n,containerColor:this._themeManager.getOptions("containerBackgroundColor")}},_checkPaneName:function(e){var t=(0,_.map)(this.panes,(function(e){return e.name}));return e.pane=e.pane||this.defaultPane,-1!==(0,l.inArray)(e.pane,t)},_initCustomPositioningAxes:function(){var e=this,t=e.getArgumentAxis(),n=t.getOptions().customPositionAxis,o=e._valueAxes.filter((function(e){return e.pane===t.pane&&(!n||n===e.name)}))[0];e._valueAxes.forEach((function(e){t!==e.getOrthogonalAxis()&&(e.getOrthogonalAxis=function(){return t},e.customPositionIsBoundaryOrthogonalAxis=function(){return t.customPositionIsBoundary()})})),(0,d.isDefined)(o)&&o!==t.getOrthogonalAxis()?(t.getOrthogonalAxis=function(){return o},t.customPositionIsBoundaryOrthogonalAxis=function(){return e._valueAxes.some((function(e){return e.customPositionIsBoundary()}))}):(0,d.isDefined)(t.getOrthogonalAxis())&&!(0,d.isDefined)(o)&&(t.getOrthogonalAxis=r.noop)},_resetAxesAnimation:function(e){this._argumentAxes.concat(this._valueAxes).forEach((function(a){a.resetApplyingAnimation(e)}))},_axesBoundaryPositioning:function(){var e=this._argumentAxes.concat(this._valueAxes),t=!1;return e.forEach((function(a){if(!a.customPositionIsAvailable())return!1;var e=a.customPositionIsBoundary();a._customBoundaryPosition=a.getCustomBoundaryPosition(),t|=e!==a.customPositionIsBoundary()})),t},_getValueAxis:function(e,t){var n,r,o=this,l=o._valueAxes,c=o.option("valueAxis")||{},h=B(c)?c:[c],_=o._isRotated(),d=o._getCrosshairMargins();return(r=I(e,t=t||function(e,t,n){for(var r,i=0;i<e.length;i++)if(e[i].pane===t||void 0===e[i].pane&&t===n){r=e[i].name;break}return r||(r=e[0].name),r}(l,e,o.defaultPane),l))||((n=function(e,t,n){var r,o;for(o=0;o<t.length;o++)if(t[o].name===n){(r=t[o]).priority=o;break}if(!r)for(o=0;o<e.length;o++)if(e[o].name===n){(r=e[o].getOptions()).priority=e[o].priority;break}return r}(l,h,t))||(o._incidentOccurred("W2102",[t]),n={name:t,priority:l.length}),(r=o._createAxis(!1,o._populateAxesOptions("valueAxis",n,{pane:e,name:t,optionPath:B(c)?"valueAxis[".concat(n.priority,"]"):"valueAxis",crosshairMargin:_?d.y:d.x},_))).applyVisualRangeSetter(o._getVisualRangeSetter()),l.push(r)),r.setPane(e),r},_correctValueAxes:function(e){var t=this,n=t._themeManager.getOptions("synchronizeMultiAxes"),r=t._valueAxes,o={};t.series.forEach((function(e){var t=e.getValueAxis();o[t.pane]=!0})),t.panes.forEach((function(l){var c,h,_,d,f,v=l.name;o[v]||t._getValueAxis(v),e&&n&&(c=r.filter((function(e){return e.pane===v})),h=!1,_=[],d=c.some((function(e){var t=e.getOptions().minorGrid;return t&&t.visible})),f=c.some((function(e){var t=e.getOptions().grid;return t&&t.visible})),c.length>1&&(c.forEach((function(e){var t=e.getOptions().grid;h?T(e,!1,!1):t&&t.visible&&(e.getTranslator().getBusinessRange().isEmpty()?(T(e,!1,!1),_.push(e)):(h=!0,T(e,f,d)))})),!h&&_.length&&T(_[0],f,d)))})),t._valueAxes=r.filter((function(e){return e.pane||e.setPane(t.defaultPane),M(t.panes,e.pane)})).sort(L);var l=this.getValueAxis();t._valueAxes.forEach((function(e){var n=e.getOptions().optionPath;if(n){var r=t._valueAxes.filter((function(a){return a.getOptions().optionPath===n}));r.length>1&&(r.some((function(a){return a===l}))?r.forEach((function(a){a!==l&&(a.getOptions().optionPath=null)})):r.forEach((function(a,i){0!==i&&(a.getOptions().optionPath=null)})))}}))},_getSeriesForPane:function(e){var t=[];return(0,c.each)(this.series,(function(n,r){r.pane===e&&t.push(r)})),t},_createPanesBorderOptions:function(){var e=this._themeManager.getOptions("commonPaneSettings").border,t={};return this.panes.forEach((function(n){return t[n.name]=(0,o.extend)(!0,{},e,n.border)})),t},_createScrollBar:function(){var e=this,t=e._themeManager.getOptions("scrollBar")||{},n=e._scrollBarGroup;t.visible?(t.rotated=e._isRotated(),e._scrollBar=(e._scrollBar||new A.default.ScrollBar(e._renderer,n)).update(t)):(n.linkRemove(),e._scrollBar&&e._scrollBar.dispose(),e._scrollBar=null)},_prepareToRender:function(e){var t=this._createPanesBorderOptions();return this._createPanesBackground(),this._appendAxesGroups(),this._adjustViewport(),t},_adjustViewport:function(){var e=this,t=e._getVisibleSeries(),n=e.getArgumentAxis(),r=t.some((function(s){return s.useAggregation()})),o=e._themeManager.getOptions("adjustOnZoom"),l=!n.dataVisualRangeIsReduced();(r||o)&&e._valueAxes.forEach((function(e){return e.adjust(l)}))},_recreateSizeDependentObjects:function(e){var t=this,n=t._getVisibleSeries(),r=n.some((function(s){return s.useAggregation()})),o=t._isZooming();r&&(t._argumentAxes.forEach((function(e){e.updateCanvas(t._canvas,!0)})),n.forEach((function(t){t.useAggregation()&&(e||o||!t._useAllAggregatedPoints)&&t.createPoints()})),t._processSeriesFamilies())},_isZooming:function(){var e=this,t=e.getArgumentAxis();if(!t||!t.getTranslator())return!1;var n=t.getTranslator().getBusinessRange(),r=t.getViewport(),o=r?r.min:0,l=r?r.max:0;"logarithmic"===n.axisType&&(o=(0,_.getLog)(o,n.base),l=(0,_.getLog)(l,n.base));var c=n.axisType===k?(0,_.getCategoriesInfo)(n.categories,o,l).categories.length:Math.abs(l-o),h=(0,f.getPrecision)(c);h=h>1?Math.pow(10,h-2):1;var d=Math.round((e._zoomLength-c)*h)/h!=0;return e._zoomLength=c,d},_handleSeriesDataUpdated:function(){var e=this,t=new C.default.Range;e.series.forEach((function(s){t.addRange(s.getArgumentRange())})),e._argumentAxes.forEach((function(n){n.updateCanvas(e._canvas,!0),n.setBusinessRange(t,e._axesReinitialized)})),e.callBase()},_isLegendInside:function(){return this._legend&&"inside"===this._legend.getPosition()},_isRotated:function(){return this._themeManager.getOptions("rotated")},_getLayoutTargets:function(){return this.panes},_applyClipRects:function(e){var t=this;t._drawPanesBorders(e),t._createClipRectsForPanes(),t._applyClipRectsForAxes(),t._fillPanesBackground()},_updateLegendPosition:function(e,t){var n=this;if(e.drawLegend&&n._legend&&t){var r=n.panes,l=(0,o.extend)({},r[0].canvas),c=new E.default.LayoutManager;l.right=r[r.length-1].canvas.right,l.bottom=r[r.length-1].canvas.bottom,c.layoutInsideLegend(n._legend,l)}},_allowLegendInsidePosition:function(){return!0},_applyExtraSettings:function(e){var t=this,n=t._getPaneIndex(e.pane),r=t._panesClipRects,o=r.wide[n];e.setClippingParams(r.base[n].id,o&&o.id,t._getPaneBorderVisibility(n))},_updatePanesCanvases:function(e){e.recreateCanvas&&(0,_.updatePanesCanvases)(this.panes,this._canvas,this._isRotated())},_normalizePanesHeight:function(){(0,_.normalizePanesHeight)(this.panes)},_renderScaleBreaks:function(){this._valueAxes.concat(this._argumentAxes).forEach((function(e){e.drawScaleBreaks()}))},_getArgFilter:function(){return(0,S.getViewPortFilter)(this.getArgumentAxis().visualRange()||{})},_applyPointMarkersAutoHiding:function(){var e=this,t=e.series;e._themeManager.getOptions("autoHidePointMarkers")?e.panes.forEach((function(n){var r=n.borderCoords,l=n.name,c=t.filter((function(s){return s.pane===l&&s.usePointsToDefineAutoHiding()})),h=e.getArgumentAxis(),_=function(e,t,n){var r=[],l={},c=n.visualRange(),h=n.getTranslator(),_=(0,S.getViewPortFilter)(c||{});return t.forEach((function(s){var n=s.getValueAxis(),c=n.getCanvasRange(),d=n.getTranslator(),f=e.indexOf(s),v=(0,S.getViewPortFilter)(c||{});l[f]={},t.forEach((function(t){return l[f][e.indexOf(t)]=0}));var m=[];s.getPoints().filter((function(p){return p.getOptions().visible&&_(p.argument)&&(v(p.getMinValue(!0))||v(p.getMaxValue(!0)))})).forEach((function(p){var e={seriesIndex:f,argument:p.argument,value:p.getMaxValue(!0),size:p.bubbleSize||p.getOptions().size};if(p.getMinValue(!0)!==p.getMaxValue(!0)){var t=(0,o.extend)({},e);t.value=p.getMinValue(!0),t.x=h.to(t.argument,1),t.y=d.to(t.value,1),m.push(t)}e.x=h.to(e.argument,1),e.y=d.to(e.value,1),m.push(e)})),l[f].pointsCount=m.length,l[f].total=0,l[f].continuousSeries=0,r.push({name:s.name,index:f,points:m})})),{series:r,overloadedSeries:l}}(t,c,h);if(function(canvas,e,t){for(var area=canvas.width*canvas.height,n=e.series,r=function(i){var r=t.filter((function(s){return s.name===n[i].name}))[0],o=n[i].points,l=o.length?o[0].size:0,c=l*l*o.length;if(r.autoHidePointMarkersEnabled()&&c>=area/n.length){var h=n[i].index;r.autoHidePointMarkers=!0,n.splice(i,1),t.splice(t.indexOf(r),1),delete e.overloadedSeries[h]}},i=n.length-1;i>=0;i--)r(i)}(r,_,c),_.series.length){var f=h.visualRange(),v=h.getOptions().type===k?function(e,t){return f.categories.indexOf(e.argument)-f.categories.indexOf(t.argument)}:function(e,t){return e.argument-t.argument},m=[];_.series.forEach((function(s){return m=m.concat(s.points)})),m.sort(v),function(e,t){for(var n=!1,i=0;i<e.length-1;i++){var r=e[i],o=r.size;if((0,d.isDefined)(r.x)&&(0,d.isDefined)(r.y))for(var l=i+1;l<e.length;l++){var c=e[l],h=null==c?void 0:c.x,_=null==c?void 0:c.y;if(!(0,d.isDefined)(h)||Math.abs(r.x-h)>=o){n&=l!==i+1;break}var f=(0,d.isDefined)(h)&&(0,d.isDefined)(_)&&Math.sqrt(Math.pow(r.x-h,2)+Math.pow(r.y-_,2));f&&f<o&&(t[r.seriesIndex][c.seriesIndex]++,t[r.seriesIndex].total++,n||(t[r.seriesIndex].continuousSeries++,n=!0))}}}(m,_.overloadedSeries),function(e,t,n,r){var o=r.getOptions().type;t.forEach((function(s){var t=e.indexOf(s);s.autoHidePointMarkers=!1;var l=r.getTicksValues().majorTicksValues.length;if(s.autoHidePointMarkersEnabled()&&(o===k||n[t].pointsCount>l))for(var c in n[t]){var i=parseInt(c);if(!(isNaN(i)||n[t].total/n[t].continuousSeries<3))if(i===t){if(2*n[i][i]>=n[i].pointsCount){s.autoHidePointMarkers=!0;break}}else if(n[t].total>=n[t].pointsCount){s.autoHidePointMarkers=!0;break}}}))}(t,c,_.overloadedSeries,h)}})):t.forEach((function(s){return s.autoHidePointMarkers=!1}))},_renderAxes:function(e,t){function n(e){return e.map((function(e){if(!e.getTitle)return 0;var title=e.getTitle();return title?title.bBox.width:0}))}var r=this,l=r._isRotated(),c=r._themeManager.getOptions("synchronizeMultiAxes"),h=r._scrollBar?[r._scrollBar]:[],_=r._isArgumentAxisBeforeScrollBar()?r._argumentAxes.concat(h):h.concat(r._argumentAxes),d=l?r._argumentAxes:r._valueAxes,f=l?_:r._valueAxes,v=l?r._valueAxes:r._argumentAxes,m=l?r._valueAxes:_,x=d.concat(v),A=x.concat(h);r._normalizePanesHeight(),r._updatePanesCanvases(e);var R=r.panes.reduce((function(e,t){return e[t.name]=(0,o.extend)({},t.canvas),e}),{}),S=r.panes.reduce((function(e,t){return e[t.name]={height:t.height,unit:t.unit},e}),{}),E=(0,o.extend)(!0,{},R);r._initCustomPositioningAxes();var C=r._axesBoundaryPositioning();if(!e.adjustAxes&&!C)return U(d,!l&&c,R,t),U(v,l&&c,R,t),z(x,"prepareAnimation"),r._renderScaleBreaks(),v.forEach((function(a){return a.resolveOverlappingForCustomPositioning(d)})),d.forEach((function(a){return a.resolveOverlappingForCustomPositioning(v)})),!1;C&&x.forEach((function(a){return a.customPositionIsAvailable()&&a.shift({top:0,left:0,bottom:0,right:0})})),r._scrollBar&&r._scrollBar.setPane(r.panes);var O={panes:{}},y=V(m,(function(e){return e.estimateMargins(R[e.pane])}));R=H(l,R,S,O,y);var P=function(e){U(e?v:d,(e?l:!l)&&c,R,t),e?y=V(m,w):O=N(f),R=H(l,R,S,O,y)};P(!1),P(!0),r._estimateTickIntervals(d,R)&&P(!1);var k=n(d),B=r._getVisibleSeries(),T=r._getPointsToAnimation(B);return z(A,"updateSize",R,function(e,t){var n=t.reduce((function(e,t){return e+t}),0)/t.length;return e.animate&&n<=e.animationPointsLimit}(e,T)),m.forEach(j("top","bottom")),f.forEach(j("left","right")),r._renderScaleBreaks(),r.panes.forEach((function(e){(0,o.extend)(e.canvas,R[e.name])})),r._valueAxes.forEach((function(e){e.setInitRange()})),d.forEach((function(e,i){if(e.hasWrap&&e.hasWrap()){var title=e.getTitle(),t=(title?title.bBox.width:0)-k[i];"right"===e.getOptions().position?O.right+=t:(O.left+=t,r.panes.forEach((function(e){var n=e.name;return O.panes[n].left+=t}))),R=H(l,R,S,O,y),z(A,"updateSize",R,!1,!1),k=n(d)}})),d.some((function(e){return e.customPositionIsAvailable()&&e.getCustomPosition()!==e._axisPosition}))&&z(d,"updateSize",R,!1),v.forEach((function(a){return a.resolveOverlappingForCustomPositioning(d)})),d.forEach((function(a){return a.resolveOverlappingForCustomPositioning(v)})),E},_estimateTickIntervals:function(e,t){return e.some((function(e){return e.estimateTickInterval(t[e.pane])}))},checkForMoreSpaceForPanesCanvas:function(){var e=this,t=e._isRotated(),n=!1;if(e.panes.filter((function(p){return p.unit})).length===e.panes.length){var r=0,o=0;if(t){var l=e.getArgumentAxis().getMargins().right,c=Math.min.apply(Math,e.panes.map((function(p){return p.canvas.right})));r=e._canvas.right+l-c}else{var h=e.getArgumentAxis().getMargins().bottom,d=Math.min.apply(Math,e.panes.map((function(p){return p.canvas.bottom})));o=e._canvas.bottom+h-d}if(n=(r>0||o>0)&&{width:r,height:o},0!==o){var f=e.getSize(),v=e.option("size"),m=e._$element[0],x=!!m.style.height||(0,_.checkElementHasPropertyFromStyleSheet)(m,"height");t||v&&v.height||x||(e._forceResize(f.width,f.height+o),n=!1)}}else n=e.layoutManager.needMoreSpaceForPanesCanvas(e._getLayoutTargets(),t,(function(e){return{width:t&&!!e.unit,height:!t&&!!e.unit}}));return n},_forceResize:function(e,t){this._renderer.resize(e,t),this._updateSize(),this._setContentSize(),this._preserveOriginalCanvas(),this._updateCanvasClipRect(this._canvas)},_shrinkAxes:function(e,t){if(e&&t){this._renderer.stopAllAnimations(!0);var n=this,r=n._isRotated(),l=n._scrollBar?[n._scrollBar]:[],c=n._isArgumentAxisBeforeScrollBar()?n._argumentAxes.concat(l):l.concat(n._argumentAxes),h=r?c:n._valueAxes,_=r?n._valueAxes:c,d=h.concat(_);if(e.width||e.height){Z(e,"height",_,V),Z(e,"width",h,N),z(d,"updateSize",t);var f=n.panes.reduce((function(e,t){return e[t.name]={height:t.height,unit:t.unit},e}),{});z(d,"updateSize",t=H(r,t,f,N(h),V(_,w))),_.forEach(j("top","bottom")),h.forEach(j("left","right")),n.panes.forEach((function(e){return(0,o.extend)(e.canvas,t[e.name])}))}}},_isArgumentAxisBeforeScrollBar:function(){var e=this,t=e.getArgumentAxis();if(e._scrollBar){var n,r=t.getResolvedBoundaryPosition(),o=null===(n=t.getOptions().label)||void 0===n?void 0:n.position,l=e._scrollBar.getOptions().position;return t.hasCustomPosition()||l===r&&o!==l}return!1},_getPanesParameters:function(){var i,e=this,t=e.panes,n=[];for(i=0;i<t.length;i++)e._getPaneBorderVisibility(i)&&n.push({coords:t[i].borderCoords,clipRect:e._panesClipRects.fixed[i]});return n},_createCrosshairCursor:function(){var e=this,t=e._themeManager.getOptions("crosshair")||{},n=e.getArgumentAxis(),r=e._isRotated()?[e._valueAxes,[n]]:[[n],e._valueAxes],o={canvas:e._getCommonCanvas(),panes:e._getPanesParameters(),axes:r};t&&t.enabled&&(e._crosshair?e._crosshair.update(t,o):e._crosshair=new R.default.Crosshair(e._renderer,t,o,e._crosshairCursorGroup),e._crosshair.render())},_getCommonCanvas:function(){var i,canvas,e,t=this.panes;for(i=0;i<t.length;i++)canvas=t[i].canvas,e?(e.right=canvas.right,e.bottom=canvas.bottom):e=(0,o.extend)({},canvas);return e},_createPanesBackground:function(){var e,rect,i,t=this,n=t._themeManager.getOptions("commonPaneSettings").backgroundColor,r=t._renderer,o=[];for(t._panesBackgroundGroup.clear(),i=0;i<t.panes.length;i++)(e=t.panes[i].backgroundColor||n)&&"none"!==e?(rect=r.rect(0,0,0,0).attr({fill:e,"stroke-width":0}).append(t._panesBackgroundGroup),o.push(rect)):o.push(null);t.panesBackground=o},_fillPanesBackground:function(){var e,t=this;(0,c.each)(t.panes,(function(i,n){e=n.borderCoords,null!==t.panesBackground[i]&&t.panesBackground[i].attr({x:e.left,y:e.top,width:e.width,height:e.height})}))},_calcPaneBorderCoords:function(e){var canvas=e.canvas,t=e.borderCoords=e.borderCoords||{};t.left=canvas.left,t.top=canvas.top,t.right=canvas.width-canvas.right,t.bottom=canvas.height-canvas.bottom,t.width=Math.max(t.right-t.left,0),t.height=Math.max(t.bottom-t.top,0)},_drawPanesBorders:function(e){var t=this,n=t._isRotated();t._panesBorderGroup.linkRemove().clear(),(0,c.each)(t.panes,(function(i,r){var o=e[r.name],l={fill:"none",stroke:o.color,"stroke-opacity":o.opacity,"stroke-width":o.width,dashStyle:o.dashStyle,"stroke-linecap":"square"};if(t._calcPaneBorderCoords(r,n),o.visible){var h=r.borderCoords,_=function(e,t,n,r,o){var l,h=~~((n<r?n:r)/2),_=o.width||0,d=_<h?_:h,f=(e+=d/2)+(n-=d),v=(t+=d/2)+(r-=d),m=[],x=[],A=0,R=0,S={top:[[e,t],[f,t]],right:[[f,t],[f,v]],bottom:[[f,v],[e,v]],left:[[e,v],[e,t]]};switch((0,c.each)(S,(function(e){var t=!!o[e];A=2*A+~~t})),A){case 13:case 9:l=["left","top","right","bottom"];break;case 11:l=["bottom","left","top","right"];break;default:l=["top","right","bottom","left"]}return(0,c.each)(l,(function(e,t){var n=!!o[t];!R&&x.length&&(m.push(x),x=[]),n&&(0,c.each)(S[t].slice(R),(function(e,t){x=x.concat(t)})),R=~~n})),x.length&&m.push(x),1===m.length&&(m=m[0]),{points:m,pathType:15===A?"area":"line"}}(h.left,h.top,h.width,h.height,o);t._renderer.path(_.points,_.pathType).attr(l).append(t._panesBorderGroup)}})),t._panesBorderGroup.linkAppend()},_createClipRect:function(e,t,n,r,o,l){var c=e[t];c?c.attr({x:n,y:r,width:o,height:l}):(c=this._renderer.clipRect(n,r,o,l),e[t]=c)},_createClipRectsForPanes:function(){var e=this,canvas=e._canvas;(0,c.each)(e.panes,(function(i,t){var n=!1,r=t.borderCoords,o=r.left,l=r.top,h=r.width,_=r.height,d=e._panesClipRects;e._createClipRect(d.fixed,i,o,l,h,_),e._createClipRect(d.base,i,o,l,h,_),(0,c.each)(e.series,(function(e,r){r.pane===t.name&&(r.isFinancialSeries()||r.areErrorBarsVisible())&&(n=!0)})),n?(e._isRotated()?(l=0,_=canvas.height):(o=0,h=canvas.width),e._createClipRect(d.wide,i,o,l,h,_)):d.wide[i]=null}))},_applyClipRectsForAxes:function(){for(var e=this,t=e._argumentAxes.concat(e._valueAxes),n=t.filter((function(a){return a.hasCustomPosition()})),r=e._getCanvasClipRectID(),i=0;i<t.length;i++){var o=e._getElementsClipRectID(t[i].pane),l=n.indexOf(t[i])>=0?o:r;t[i].applyClipRects(o,l)}},_getPaneBorderVisibility:function(e){var t=this._themeManager.getOptions("commonPaneSettings").border.visible,n=(this.panes[e]||{}).border||{};return"visible"in n?n.visible:t},_getCanvasForPane:function(e){var i,t=this.panes,n=t.length;for(i=0;i<n;i++)if(t[i].name===e)return t[i].canvas},_getTrackerSettings:function(){var e=this,t=e._themeManager;return(0,o.extend)(this.callBase(),{chart:e,rotated:e._isRotated(),crosshair:e._getCrosshairOptions().enabled?e._crosshair:null,stickyHovering:t.getOptions("stickyHovering")})},_resolveLabelOverlappingStack:function(){var e=this,t=e._isRotated(),n=t?function(e,t){return{x:e.x-t,y:e.y}}:function(e,t){return{x:e.x,y:e.y-t}};(0,c.each)(e._getStackPoints(),(function(r,o){(0,c.each)(o,(function(r,o){v.overlapping.resolveLabelOverlappingInOneDirection(o,e._getCommonCanvas(),t,n,(function(a,b){var e=t?1:0;return a.labels[0].getFigureCenter()[e]-b.labels[0].getFigureCenter()[e]==0?(a.value()-b.value())*(a.labels[0].getPoint().series.getValueAxis().getTranslator().isInverted()?-1:1):0}))}))}))},_getStackPoints:function(){var e={},t=this._getVisibleSeries();return(0,c.each)(t,(function(t,n){var r=n.getPoints(),o=n.getStackName()||null;(0,c.each)(r,(function(t,n){var r=n.argument;e[r]||(e[r]={}),e[r][o]||(e[r][o]=[]),e[r][o].push(n)}))})),e},_getCrosshairOptions:function(){return this._getOption("crosshair")},zoomArgument:function(e,t){this._initialized&&((0,d.isDefined)(e)||(0,d.isDefined)(t))&&this.getArgumentAxis().visualRange([e,t])},resetVisualRange:function(){var e=this,t=e._argumentAxes,n=e.getArgumentAxis();t.forEach((function(t){t.resetVisualRange(n!==t),e._applyCustomVisualRangeOption(t)})),e.callBase()},getVisibleArgumentBounds:function(){var e=this._argumentAxes[0].getTranslator().getBusinessRange(),t=e.axisType===k,n=e.categories;return{minVisible:t?e.minVisible||n[0]:e.minVisible,maxVisible:t?e.maxVisible||n[n.length-1]:e.maxVisible}},_change_FULL_RENDER:function(){this.callBase(),this._changes.has("VISUAL_RANGE")&&this._raiseZoomEndHandlers()},_getAxesForScaling:function(){return[this.getArgumentAxis()].concat(this._valueAxes)},_applyVisualRangeByVirtualAxes:function(e,t){if(e.isArgumentAxis){if(e!==this.getArgumentAxis())return!0;this._argumentAxes.filter((function(a){return a!==e})).forEach((function(a){return a.visualRange(t,{start:!0,end:!0})}))}return!1},_raiseZoomEndHandlers:function(){this._argumentAxes.forEach((function(e){return e.handleZoomEnd()})),this.callBase()},_setOptionsByReference:function(){this.callBase(),(0,o.extend)(this._optionsByReference,{"argumentAxis.visualRange":!0})},option:function(){var option=this.callBase.apply(this,arguments),e=this._options.silent("valueAxis");if("array"===(0,d.type)(e))for(var i=0;i<e.length;i++){var t="valueAxis[".concat(i,"].visualRange");this._optionsByReference[t]=!0}return option},_notifyVisualRange:function(){var e=this,t=e._argumentAxes[0],n=(0,_.convertVisualRangeObject)(t.visualRange(),!B(e.option("argumentAxis.visualRange")));t.skipEventRising&&(0,_.rangesAreEqual)(n,e.option("argumentAxis.visualRange"))?t.skipEventRising=null:e.option("argumentAxis.visualRange",n),e.callBase()}});X.addPlugin(n(2580)),X.addPlugin(n(2581)),X.addPlugin(n(2456).plugins.core),X.addPlugin(n(2456).plugins.chart),(0,h.default)("dxChart",X),e.exports=X,e.exports.default=e.exports},2567:function(e,t,n){"use strict";var r=n(1),o=n(35),l=n(10),c=R(n(2132)),h=R(n(2451)),_=R(n(2578)),d=n(2341),f=R(n(2455)),v=n(2148),m=n(2),x=n(6),A=n(2099);function R(e){return e&&e.__esModule?e:{default:e}}var S=Array.isArray,E="VISUAL_RANGE";function C(e){return S(e)?0===e.length?[{}]:e:[e]}function O(e,t,n,r){var o,l,c,h,_;if(n){l=e.value,o={skipEventRising:!0};var d=e.fullName.split("."),f=d[d.length-1];"endValue"!==f&&"startValue"!==f||(o={allowPartialUpdate:!0},c={},h=f,_=e.value,h in c?Object.defineProperty(c,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):c[h]=_,l=c)}else l=((0,m.isDefined)(r)?e.value[r]:e.value).visualRange;t.visualRange(l,o)}var y=d.BaseChart.inherit({_setDeprecatedOptions:function(){this.callBase.apply(this,arguments),(0,r.extend)(this._deprecatedOptions,{barWidth:{since:"18.1",message:"Use the 'commonSeriesSettings.barPadding' or 'series.barPadding' option instead"},equalBarWidth:{since:"18.1",message:"Use the 'commonSeriesSettings.ignoreEmptyPoints' or 'series.ignoreEmptyPoints' option instead"}})},_fontFields:["commonAxisSettings.label.font","commonAxisSettings.title.font"],_partialOptionChangesMap:{visualRange:E,_customVisualRange:E,strips:"REFRESH_AXES",constantLines:"REFRESH_AXES"},_partialOptionChangesPath:{argumentAxis:["strips","constantLines","visualRange","_customVisualRange"],valueAxis:["strips","constantLines","visualRange","_customVisualRange"]},_initCore:function(){this._panesClipRects={},this.callBase()},_disposeCore:function(){var e=this._disposeObjectsInArray,t=this._panesClipRects;this.callBase(),e.call(t,"fixed"),e.call(t,"base"),e.call(t,"wide"),this._panesClipRects=null},_dispose:function(){var e=this,t=this._disposeObjectsInArray;e.callBase(),e.panes=null,e._legend&&(e._legend.dispose(),e._legend=null),t.call(e,"panesBackground"),t.call(e,"seriesFamilies"),e._disposeAxes()},_createPanes:function(){this._cleanPanesClipRects("fixed"),this._cleanPanesClipRects("base"),this._cleanPanesClipRects("wide")},_cleanPanesClipRects:function(e){(this._panesClipRects[e]||[]).forEach((function(e){return e&&e.dispose()})),this._panesClipRects[e]=[]},_getElementsClipRectID:function(e){var t=this._panesClipRects.fixed[this._getPaneIndex(e)];return t&&t.id},_getPaneIndex:function(e){var t,n=e||"default";return(0,l.each)(this.panes,(function(e,r){if(r.name===n)return t=e,!1})),t},_updateSize:function(){this.callBase(),(0,A.setCanvasValues)(this._canvas)},_reinitAxes:function(){this.panes=this._createPanes(),this._populateAxes(),this._axesReinitialized=!0},_getCrosshairMargins:function(){var e=this._getCrosshairOptions()||{},t=e.enabled,n=f.default.getMargins();return{x:t&&e.horizontalLine.visible?n.x:0,y:t&&e.verticalLine.visible?n.y:0}},_populateAxes:function(){var e,t,n=this,r=n.panes,c=n._isRotated(),h=C(n.option("argumentAxis")||{})[0],_=n.option("valueAxis"),d=C(_||{}),f=[],v=[],m=0,x=n._getCrosshairMargins();t=c?"right"===h.position?r[r.length-1].name:r[0].name:"top"===h.position?r[0].name:r[r.length-1].name,e=(0,A.map)(r,(function(e){var r=e.name!==t;return n._populateAxesOptions("argumentAxis",h,{pane:e.name,name:null,optionPath:"argumentAxis",crosshairMargin:c?x.x:x.y},c,r)})),(0,l.each)(d,(function(e,t){var r,h=[],d=t.name;d&&-1!==(0,o.inArray)(d,v)?n._incidentOccurred("E2102"):(d&&v.push(d),t.pane&&h.push(t.pane),null!==(r=t.panes)&&void 0!==r&&r.length&&(h=h.concat(t.panes.slice(0))),(h=(0,A.unique)(h)).length||h.push(void 0),(0,l.each)(h,(function(r,o){var l=S(_)?"valueAxis[".concat(e,"]"):"valueAxis";f.push(n._populateAxesOptions("valueAxis",t,{name:d||"defaultAxisName"+m++,pane:o,priority:e,optionPath:l,crosshairMargin:c?x.y:x.x},c))})))})),n._redesignAxes(e,!0,t),n._redesignAxes(f,!1)},_redesignAxes:function(e,t,n){var r=this,o=[],c=t?r._argumentAxes:r._valueAxes;(0,l.each)(e,(function(e,n){var h=c&&c.filter((function(a){return a.name===n.name&&(!(0,m.isDefined)(n.pane)&&r.panes.some((function(p){return p.name===a.pane}))||a.pane===n.pane)}));h&&h.length>0?(0,l.each)(h,(function(e,l){var c=function(e,t,n){if(n)return{argumentAxisType:e.argumentAxisType,argumentType:e.argumentType};var r=e.groups.filter((function(g){return g.valueAxis===t}))[0];return{valueAxisType:r.valueAxisType,valueType:r.valueType}}(r._groupsData,l,t);l.updateOptions(n),t?l.setTypes(c.argumentAxisType,c.argumentType,"argumentType"):l.setTypes(c.valueAxisType,c.valueType,"valueType"),l.validate(),o.push({axis:l})})):o.push({options:n})})),c?(0,l.reverseEach)(c,(function(e,n){o.some((function(e){return e.axis&&e.axis===n}))||r._disposeAxis(e,t)})):c=t?r._argumentAxes=[]:r._valueAxes=[],(0,l.each)(o,(function(e,o){var l=o.axis;o.axis&&t?o.axis.isVirtual=o.axis.pane!==n:o.options&&(l=r._createAxis(t,o.options,t?o.options.pane!==n:void 0),c.push(l)),l.applyVisualRangeSetter(r._getVisualRangeSetter())}))},_disposeAxis:function(e,t){var n=t?this._argumentAxes:this._valueAxes,r=n[e];r&&(r.dispose(),n.splice(e,1))},_disposeAxes:function(){var e=this,t=e._disposeObjectsInArray;t.call(e,"_argumentAxes"),t.call(e,"_valueAxes")},_appendAdditionalSeriesGroups:function(){this._crosshairCursorGroup.linkAppend(),this._scrollBar&&this._scrollBarGroup.linkAppend()},_getLegendTargets:function(){var e=this;return(this.series||[]).map((function(s){var t=e._getLegendOptions(s);return t.legendData.series=s,s.getOptions().showInLegend||(t.legendData.visible=!1),t}))},_legendItemTextField:"name",_seriesPopulatedHandlerCore:function(){this._processSeriesFamilies(),this._processValueAxisFormat()},_renderTrackers:function(){var i;for(i=0;i<this.series.length;++i)this.series[i].drawTrackers()},_specialProcessSeries:function(){this._processSeriesFamilies()},_processSeriesFamilies:function(){var e,t,n=this,r=[],c=[],h=n._themeManager,d=h.getOptions("negativesAsZeroes"),f=h.getOptions("negativesAsZeros"),v={equalBarWidth:h.getOptions("equalBarWidth"),minBubbleSize:h.getOptions("minBubbleSize"),maxBubbleSize:h.getOptions("maxBubbleSize"),barWidth:h.getOptions("barWidth"),barGroupPadding:h.getOptions("barGroupPadding"),barGroupWidth:h.getOptions("barGroupWidth"),negativesAsZeroes:(0,m.isDefined)(d)?d:f};null!==(e=n.seriesFamilies)&&void 0!==e&&e.length?(0,l.each)(n.seriesFamilies,(function(e,t){t.updateOptions(v),t.adjustSeriesValues()})):((0,l.each)(n.series,(function(e,t){-1===(0,o.inArray)(t.type,r)&&r.push(t.type)})),(0,l.each)(n._getLayoutTargets(),(function(e,o){t=n._getSeriesForPane(o.name),(0,l.each)(r,(function(e,r){var l=new _.default.SeriesFamily({type:r,pane:o.name,equalBarWidth:v.equalBarWidth,minBubbleSize:v.minBubbleSize,maxBubbleSize:v.maxBubbleSize,barWidth:v.barWidth,barGroupPadding:v.barGroupPadding,barGroupWidth:v.barGroupWidth,negativesAsZeroes:v.negativesAsZeroes,rotated:n._isRotated()});l.add(t),l.adjustSeriesValues(),c.push(l)}))})),n.seriesFamilies=c)},_updateSeriesDimensions:function(){var i,e=this.seriesFamilies||[];for(i=0;i<e.length;i++){var t=e[i];t.updateSeriesValues(),t.adjustSeriesDimensions()}},_getLegendCallBack:function(e){return this._legend&&this._legend.getActionCallback(e)},_appendAxesGroups:function(){var e=this;e._stripsGroup.linkAppend(),e._gridGroup.linkAppend(),e._axesGroup.linkAppend(),e._constantLinesGroup.linkAppend(),e._labelAxesGroup.linkAppend(),e._scaleBreaksGroup.linkAppend()},_populateMarginOptions:function(){var e,t,n,r,o,l,c=this,h=(e=c.getSize(),t=c.panes.length,n=c._themeManager.getOptions("maxBubbleSize"),r=c._isRotated(),o=r?e.width/t:e.width,l=r?e.height:e.height/t,Math.min(o,l)*n),_={};c._valueAxes.forEach((function(e){var t=c.series.filter((function(t){return t.getValueAxis()===e})),n={};t.forEach((function(e){if(e.isVisible()){var t=function(e,t){return e.processBubbleSize&&(e.size=t),e}(e.getMarginOptions(),h);n=(0,A.mergeMarginOptions)(n,t),_=(0,A.mergeMarginOptions)(_,t)}})),e.setMarginOptions(n)})),c._argumentAxes.forEach((function(a){return a.setMarginOptions(_)}))},_populateBusinessRange:function(e,t){var n=this,r=n._isRotated(),o=new c.default.Range({rotated:!!r}),l=n._getVisibleSeries();n._valueAxes.forEach((function(h){var _=new c.default.Range({rotated:!!r,pane:h.pane,axis:h.name}),d=l.filter((function(e){return e.getValueAxis()===h}));d.forEach((function(e){var t=e.getRangeData();_.addRange(t.val),o.addRange(t.arg)})),(!e||e&&d.length&&h===e)&&(h.setGroupSeries(d),h.setBusinessRange(_,n._axesReinitialized||t,n._argumentAxes[0]._lastVisualRangeUpdateMode))})),(!e||e&&l.length)&&n._argumentAxes.forEach((function(a){return a.setBusinessRange(o,n._axesReinitialized,void 0,n._groupsData.categories)})),n._populateMarginOptions()},getArgumentAxis:function(){return(this._argumentAxes||[]).filter((function(a){return!a.isVirtual}))[0]},getValueAxis:function(e){var t=this;return(this._valueAxes||[]).filter((0,m.isDefined)(e)?function(a){return a.name===e}:function(a){return a.pane===t.defaultPane})[0]},_getGroupsData:function(){var e=this,t=[];return e._valueAxes.forEach((function(n){t.push({series:e.series.filter((function(e){return e.getValueAxis()===n})),valueAxis:n,valueOptions:n.getOptions()})})),{groups:t,argumentAxes:e._argumentAxes,argumentOptions:e._argumentAxes[0].getOptions()}},_groupSeries:function(){var e=this;e._correctValueAxes(!1),e._groupsData=e._getGroupsData()},_processValueAxisFormat:function(){var e=[];this.series.forEach((function(t){var n=t.getValueAxis();t.isFullStackedSeries()&&(n.setPercentLabelFormat(),e.push(n))})),this._valueAxes.forEach((function(t){-1===e.indexOf(t)&&t.resetAutoLabelFormat()}))},_populateAxesOptions:function(e,t,n,o,l){var c=this._prepareStripsAndConstantLines(e,t,o),h=(0,r.extend)(!0,{},c,n,this._prepareAxisOptions(e,c,o));return l&&(h.visible=h.tick.visible=h.minorTick.visible=h.label.visible=!1,h.title={}),h},_getValFilter:function(e){return(0,v.getViewPortFilter)(e.getValueAxis().visualRange()||{})},_createAxis:function(e,t,n){var o=this,l=e?"argumentAxis":"valueAxis",c=(0,r.extend)({renderer:o._renderer,incidentOccurred:o._incidentOccurred,eventTrigger:o._eventTrigger,axisClass:e?"arg":"val",widgetClass:"dxc",stripsGroup:o._stripsGroup,labelAxesGroup:o._labelAxesGroup,constantLinesGroup:o._constantLinesGroup,scaleBreaksGroup:o._scaleBreaksGroup,axesContainerGroup:o._axesGroup,gridGroup:o._gridGroup,isArgumentAxis:e},o._getAxisRenderingOptions(l)),_=new h.default.Axis(c);return _.updateOptions(t),_.isVirtual=n,_},_applyVisualRangeByVirtualAxes:function(e,t){return!1},_applyCustomVisualRangeOption:function(e,t){e.getOptions().optionPath&&this._parseVisualRangeOption("".concat(e.getOptions().optionPath,".visualRange"),t)},_getVisualRangeSetter:function(){var e=this;return function(t,n){var r=n.skipEventRising,o=n.range;e._applyCustomVisualRangeOption(t,o),t.setCustomVisualRange(o),t.skipEventRising=r,e._applyVisualRangeByVirtualAxes(t,o)||(e._applyingChanges?e._change_VISUAL_RANGE():e._requestChange([E]))}},_getTrackerSettings:function(){return(0,r.extend)(this.callBase(),{argumentAxis:this.getArgumentAxis()})},_prepareStripsAndConstantLines:function(e,t,n){return(t=this._themeManager.getOptions(e,t,n)).strips&&(0,l.each)(t.strips,(function(i){t.strips[i]=(0,r.extend)(!0,{},t.stripStyle,t.strips[i])})),t.constantLines&&(0,l.each)(t.constantLines,(function(i,line){t.constantLines[i]=(0,r.extend)(!0,{},t.constantLineStyle,line)})),t},refresh:function(){this._disposeAxes(),this.callBase()},_layoutAxes:function(e){var t=e(),n=this.checkForMoreSpaceForPanesCanvas();if(n){var r=this._layout.backward(this._rect,this._rect,[n.width,n.height]);n.width=Math.max(0,r[0]),n.height=Math.max(0,r[1]),this._canvas=this._createCanvasFromRect(this._rect),e(n,t)}},checkForMoreSpaceForPanesCanvas:function(){return this.layoutManager.needMoreSpaceForPanesCanvas(this._getLayoutTargets(),this._isRotated())},_parseVisualRangeOption:function(e,t){var n=this,r=e.split(/[.[]/)[0],o=e.match(/\d+/g);o=(0,m.isDefined)(o)?parseInt(o[0]):o,e.indexOf("visualRange")>0?n._setCustomVisualRange(r,o,t):("object"===(0,m.type)(t)||S(t))&&r.indexOf("Axis")>0&&JSON.stringify(t).indexOf("visualRange")>0&&((0,m.isDefined)(t.visualRange)?n._setCustomVisualRange(r,o,t.visualRange):S(t)&&t.forEach((function(a,i){return(0,m.isDefined)(a.visualRange)&&n._setCustomVisualRange(r,i,a.visualRange)})))},_setCustomVisualRange:function(e,t,n){var r=this._options.silent(e);r&&((0,m.isDefined)(t)?r[t]._customVisualRange=n:r._customVisualRange=n,this._axesReinitialized=!0)},_raiseZoomEndHandlers:function(){this._valueAxes.forEach((function(e){return e.handleZoomEnd()}))},_setOptionsByReference:function(){this.callBase(),(0,r.extend)(this._optionsByReference,{"valueAxis.visualRange":!0})},_notifyOptionChanged:function(option,e,t){this.callBase.apply(this,arguments),this._optionChangedLocker||this._parseVisualRangeOption(option,e)},_notifyVisualRange:function(){var e=this;e._valueAxes.forEach((function(t){if(t.getOptions().optionPath){var path="".concat(t.getOptions().optionPath,".visualRange"),n=(0,A.convertVisualRangeObject)(t.visualRange(),!S(e.option(path)));t.skipEventRising&&(0,A.rangesAreEqual)(n,e.option(path))?t.skipEventRising=null:e.option(path,n)}}))},_notify:function(){this.callBase(),this._axesReinitialized=!1,!0!==this.option("disableTwoWayBinding")&&this._notifyVisualRange()},_getAxesForScaling:function(){return this._valueAxes},_getAxesByOptionPath:function(e,t,n){var r,o=this._getAxesForScaling(),l=[];t?(e.fullName&&(r=e.fullName.slice(0,e.fullName.indexOf("."))),l=o.filter((function(a){return a.getOptions().optionPath===r}))):"object"===(0,m.type)(e.value)?l=o.filter((function(a){return a.getOptions().optionPath===e.name})):S(e.value)&&e.value.forEach((function(t,r){var c=o.filter((function(a){return a.getOptions().optionPath==="".concat(e.name,"[").concat(r,"]")}))[0];(0,m.isDefined)(t[n])&&(0,m.isDefined)(c)&&(l[r]=c)}));return l},_optionChanged:function(e){var t=this;if(!t._optionChangedLocker){var n,r="visualRange",o=e.fullName.indexOf(r)>0||!(t.getPartialChangeOptionsName(e).indexOf(r)>-1)&&void 0;(0,m.isDefined)(o)&&(n=t._getAxesByOptionPath(e,o,r))&&(n.length>1||S(e.value)?n.forEach((function(a,t){return O(e,a,o,t)})):1===n.length&&O(e,n[0],o))}t.callBase(e)},_change_VISUAL_RANGE:function(){var e=this;if(e._recreateSizeDependentObjects(!1),!e._changes.has("FULL_RENDER")){var t=e.option("resizePanesOnZoom");e._doRender({force:!0,drawTitle:!1,drawLegend:!1,adjustAxes:null!=t?t:e.option("adjustAxesOnZoom")||!1,animate:!1}),e._raiseZoomEndHandlers()}},resetVisualRange:function(){var e=this;e._valueAxes.forEach((function(t){t.resetVisualRange(!1),e._applyCustomVisualRangeOption(t)})),e._requestChange([E])},_legendDataField:"series",_adjustSeriesLabels:x.noop,_correctValueAxes:x.noop});t.AdvancedChart=y}}]);