(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1714:function(e,t,n){"use strict";var o=C(n(0)),l=C(n(14)),r=C(n(343)),d=C(n(30)),c=n(2),h=n(10),m=n(1),f=n(648);function C(e){return e&&e.__esModule?e:{default:e}}var _="text-content",x="headers",v="nowrap",w="dx-header-row",E="dx-visibility-hidden",y="dx-text-content-alignment-",T="dx-header-multi-row";e.exports={defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:r.default.ColumnsView.inherit(function(){var e=function(e,n,l){var r=(0,o.default)("<div>").addClass(e.addWidgetPrefix(_));e.setAria("role","presentation",r),t(e,n,l.column,r);var d=e.option("showColumnLines"),c=e.getController("columns").getHeaderContentAlignment(l.column.alignment);return r[d||"right"===c?"appendTo":"prependTo"](n)};function t(e,t,n,o){var l=e._getIndicatorElements(t,!0),r=e._getIndicatorElements(t),d=l&&l.length,c=e._getColumnAlignment(n.alignment),h=".".concat(e._getIndicatorClassName("sort")),m=".".concat(e._getIndicatorClassName("sortIndex")),f=r.filter(h),C=r.children().filter(m);(o=o||t.children("."+e.addWidgetPrefix(_))).toggleClass(y+c,d>0).toggleClass(y+("left"===c?"right":"left"),d>0&&"center"===n.alignment).toggleClass("dx-sort-indicator",!!f.length).toggleClass("dx-sort-index-indicator",!!C.length).toggleClass("dx-header-filter-indicator",!!r.filter("."+e._getIndicatorClassName("headerFilter")).length)}return{_createTable:function(){var e=this.callBase.apply(this,arguments);return l.default.on(e,"mousedown selectstart",this.createAction((function(e){var t=e.event;t.shiftKey&&t.preventDefault()}))),e},_isLegacyKeyboardNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate:function(t){var n=this;return function(o,l){var r=t.command?o:e(n,o,l),caption="expand"!==t.command&&t.caption;caption?r.text(caption):t.command&&o.html("&nbsp;")}},_getHeaderTemplate:function(e){return e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}},_processTemplate:function(template,t){var n=this,o=t.column,l=n.callBase(template);return"header"===t.rowType&&l&&o.headerCellTemplate&&!o.command?{render:function(t){var o=e(n,t.container,t.model);l.render((0,m.extend)({},t,{container:o}))}}:l},_handleDataChanged:function(e){"refresh"===e.changeType&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(e,t){var n=this.callBase(e,t);return"header"===t.row.rowType&&(n.addClass("dx-cell-focus-disabled"),this._isLegacyKeyboardNavigation()||t.column&&!t.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n},_setCellAriaAttributes:function(e,t){this.callBase(e,t),"header"===t.rowType&&(this.setAria("role","columnheader",e),!t.column||t.column.command||t.column.isBand||(e.attr("id",t.column.headerId),this.setAria("label",d.default.format("dxDataGrid-ariaColumn")+" "+t.column.caption,e)))},_createRow:function(e){var t=this.callBase(e).toggleClass("dx-column-lines",this.option("showColumnLines"));return"header"===e.rowType&&(t.addClass(w),this._isLegacyKeyboardNavigation()||(0,f.registerKeyboardAction)("columnHeaders",this,t,"td",this._handleActionKeyDown.bind(this))),t},_handleActionKeyDown:function(e){var t=e.event,n=(0,o.default)(t.target);if(this._lastActionElement=t.target,n.is(".dx-header-filter")){var l=this.getController("headerFilter"),r=n.closest("td"),d=this.getColumnIndexByElement(r);d>=0&&l.showHeaderFilterMenu(d,!1)}else{var c=n.closest(".dx-row");this._processHeaderAction(t,c)}t.preventDefault()},_renderCore:function(){var e=this,t=e.element();(!e._tableElement||e._dataController.isLoaded()||e._hasRowElements)&&(t.addClass(e.addWidgetPrefix(x)).toggleClass(e.addWidgetPrefix(v),!e.option("wordWrapEnabled")).empty(),e.setAria("role","presentation",t),e._updateContent(e._renderTable()),e.getRowCount()>1&&t.addClass(T),e.callBase.apply(e,arguments))},_renderRows:function(){var e=this;(e._dataController.isLoaded()||e._hasRowElements)&&(e.callBase.apply(e,arguments),e._hasRowElements=!0)},_getRowVisibleColumns:function(e){return this._columnsController.getVisibleColumns(e)},_renderRow:function(e,t){t.columns=this._getRowVisibleColumns(t.row.rowIndex),this.callBase(e,t)},_createCell:function(e){var t=e.column,n=this.callBase.apply(this,arguments);return t.rowspan>1&&"header"===e.rowType&&n.attr("rowSpan",t.rowspan),n},_getRows:function(){var e=[],t=this.getRowCount();if(this.option("showColumnHeaders"))for(var i=0;i<t;i++)e.push({rowType:"header",rowIndex:i});return e},_getCellTemplate:function(e){if("header"===e.rowType)return this._getHeaderTemplate(e.column)},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames;t.grouping?this._isGroupingChanged=!0:(this.callBase(e),(n.width||n.visible)&&this.resizeCompleted.fire())},_isElementVisible:function(e){return e&&e.visible},_alignCaptionByCenter:function(e){var t=this._getIndicatorContainer(e,!0);t&&t.length&&(t.filter(".dx-visibility-hidden").remove(),(t=this._getIndicatorContainer(e)).clone().addClass(E).css("float","").insertBefore(e.children("."+this.addWidgetPrefix(_))))},_updateCell:function(e,t){"header"===t.rowType&&"center"===t.column.alignment&&this._alignCaptionByCenter(e),this.callBase.apply(this,arguments)},_updateIndicator:function(e,n,o){var l=this.callBase.apply(this,arguments);return"center"===n.alignment&&this._alignCaptionByCenter(e),t(this,e,n),l},_getIndicatorContainer:function(e,t){var n=this.callBase(e);return t?n:n.filter(":not(.dx-visibility-hidden)")},_isSortableElement:function(){return!0},getHeadersRowHeight:function(){var e=this.getTableElement(),t=e&&e.find(".dx-header-row");return t&&t.toArray().reduce((function(e,t){return e+(0,o.default)(t).height()}),0)||0},getHeaderElement:function(e){var t=this.getColumnElements();return t&&t.eq(e)},getColumnElements:function(e,t){var n,l=this,r=l._columnsController,d=l.getRowCount();if(l.option("showColumnHeaders")){if(d>1&&(!(0,c.isDefined)(e)||(0,c.isDefined)(t))){var m=[],f=(0,c.isDefined)(t)?r.getChildrenByBandColumn(t,!0):r.getVisibleColumns();return(0,h.each)(f,(function(t,o){var d=(0,c.isDefined)(e)?e:r.getRowIndex(o.index);(n=l._getCellElement(d,r.getVisibleIndex(o.index,d)))&&m.push(n.get(0))})),(0,o.default)(m)}if(!e||e<d)return l.getCellElements(e||0)}},getColumnIndexByElement:function(e){var t=this.getCellIndex(e),n=e.closest(".dx-row")[0].rowIndex,o=this.getColumns(n)[t];return o?o.index:-1},getVisibleColumnIndex:function(e,t){var n=this.getColumns()[e];return n?this._columnsController.getVisibleIndex(n.index,t):-1},getColumnWidths:function(){var e=this.getColumnElements();return e&&e.length?this._getWidths(e):this.callBase.apply(this,arguments)},allowDragging:function(e,t,n){var i,o=0,l=e&&this._columnsController.getRowIndex(e.index),r=this.getColumns(0===l?0:null),d=(null==e?void 0:e.allowHiding)&&r.length>1,c=function(e){return e.allowReordering||e.allowGrouping||e.allowHiding};for(i=0;i<r.length;i++)c(r[i])&&o++;if(o<=1&&!d)return!1;if(!n)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&e&&e.allowReordering;for(i=0;i<n.length;i++){var h=n[i];if(h&&h.allowDragging(e,t))return!0}return!1},getBoundingRect:function(){var e=this.getColumnElements();return e&&e.length?{top:this.getTableElement().offset().top}:null},getName:function(){return"headers"},getColumnCount:function(){var e=this.getColumnElements();return e?e.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(e){switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;default:this.callBase(e)}},getHeight:function(){return this.getElementHeight()},getContextMenuItems:function(e){var t=this,n=e.column;if(e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)){var o=t.option("sorting");if(o&&"none"!==o.mode&&n&&n.allowSorting){var l=function(e){setTimeout((function(){t._columnsController.changeSortOrder(n.index,e.itemData.value)}))};return[{text:o.ascendingText,value:"asc",disabled:"asc"===n.sortOrder,icon:"context-menu-sort-asc",onItemClick:l},{text:o.descendingText,value:"desc",disabled:"desc"===n.sortOrder,icon:"context-menu-sort-desc",onItemClick:l},{text:o.clearText,value:"none",disabled:!n.sortOrder,icon:"context-menu-sort-none",onItemClick:l}]}}},getRowCount:function(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity:function(e,t,n){var i,o,l=this,r=l.getRowCount(),d=l._columnsController.getColumns(),m=d&&d[e],f=m&&m.isBand&&m.index,C=function(e,n){n.ownerBand===f&&(o.eq(e).css({opacity:t}),n.isBand&&l.setRowsOpacity(n.index,t,i+1))};if((0,c.isDefined)(f))for(i=n=n||0;i<r;i++)o=l.getCellElements(i),(0,h.each)(l.getColumns(i),C)}}}())}}},1740:function(e,t,n){"use strict";var o=E(n(0)),l=n(6),r=E(n(76)),d=E(n(343)),c=E(n(30)),h=E(n(82)),m=E(n(80)),f=E(n(295)),C=E(n(29)),_=E(n(138)),x=n(2),v=n(1),w=n(10);function E(e){return e&&e.__esModule?e:{default:e}}var y="column-chooser-button",T="notouch-action",B="column-chooser",I="dx-column-chooser-item",R=function(e,t){var n=[],o="select"===e.option("columnChooser.mode");return t.length&&(0,w.each)(t,(function(e,t){var l={text:t.caption,cssClass:t.cssClass,allowHiding:t.allowHiding,expanded:!0,id:t.index,disabled:!1,disableCheckBox:!1===t.allowHiding,parentId:(0,x.isDefined)(t.ownerBand)?t.ownerBand:null};o&&(l.selected=t.visible),n.push(l)})),n},F=r.default.ViewController.inherit({renderShowColumnChooserButton:function(e){var t,n=this,l=n.addWidgetPrefix(y),r=n.option("columnChooser.enabled"),d=e.find("."+l);r?d.length?d.show():(t=(0,o.default)("<div>").addClass(l).appendTo(e),n._createComponent(t,m.default,{icon:B,onClick:function(){n.getView("columnChooserView").showColumnChooser()},hint:n.option("columnChooser.title"),integrationOptions:{}})):d.hide()},getPosition:function(){var e=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}}),V=d.default.ColumnsView.inherit({_resizeCore:l.noop,_isWinDevice:function(){return!!C.default.real().win},_updateList:function(e){var t,n=this._popupContainer.$content(),o="select"===this.option("columnChooser.mode"),l=this._columnChooserList,r=this._columnsController.getChooserColumns(o);if(o&&l&&e&&"selection"===e.changeType){t=R(this,r);for(var i=0;i<t.length;i++){var d=t[i].selected,c=t[i].id;c===e.columnIndex&&(d?l.selectItem(c,d):l.unselectItem(c,d))}}else o&&l&&"full"!==e||(this._popupContainer._wrapper().toggleClass(this.addWidgetPrefix("column-chooser-mode-drag"),!o).toggleClass(this.addWidgetPrefix("column-chooser-mode-select"),o),t=R(this,r),this._renderTreeView(n,t))},_initializePopupContainer:function(){var e=this,t=e.element().addClass(e.addWidgetPrefix("column-chooser")),n=e.option("columnChooser"),l=h.default.current(),r=h.default.isGeneric(l),d=h.default.isMaterial(l),c={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,toolbarItems:[{text:n.title,toolbar:"top",location:r||d?"before":"center"}],position:e.getController("columnChooser").getPosition(),width:n.width,height:n.height,rtlEnabled:e.option("rtlEnabled"),onHidden:function(){e._isWinDevice()&&(0,o.default)("body").removeClass(e.addWidgetPrefix(T))},container:n.container};r||d?(0,v.extend)(c,{showCloseButton:!0}):c.toolbarItems[c.toolbarItems.length]={shortcut:"cancel"},(0,x.isDefined)(this._popupContainer)?this._popupContainer.option(c):(e._popupContainer=e._createComponent(t,_.default,c),e._popupContainer.on("optionChanged",(function(t){"visible"===t.name&&e.renderCompleted.fire()})))},_renderCore:function(e){this._popupContainer&&this._updateList(e)},_renderTreeView:function(e,t){var n=this,r=this.option("columnChooser"),d="select"===r.mode,c={items:t,dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:r.allowSearch,searchTimeout:r.searchTimeout,onItemRendered:function(e){if(e.itemData.disableCheckBox){var t,n=(0,o.default)(e.itemElement).closest(".dx-treeview-node");if(n.length&&(t=n.find(".dx-checkbox")).length){var l=t.data("dxCheckBox");l&&l.option("disabled",!0)}}}},h=e.find(".dx-scrollable").data("dxScrollable"),m=h&&h.scrollTop();d&&!this._columnsController.isBandColumnsUsed()&&e.addClass(this.addWidgetPrefix("column-chooser-plain")),c.onContentReady=function(e){(0,l.deferUpdate)((function(){if(m){var t=(0,o.default)(e.element).find(".dx-scrollable").data("dxScrollable");t&&t.scrollTo({y:m})}n.renderCompleted.fire()}))},this._isWinDevice()&&(c.useNativeScrolling=!1),(0,v.extend)(c,d?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList?(c.searchEnabled||(c.searchValue=""),this._columnChooserList.option(c)):(this._columnChooserList=this._createComponent(e,f.default,c),e.addClass(this.addWidgetPrefix("column-chooser-list")))},_prepareDragModeConfig:function(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate:function(data,e,t){(0,o.default)(t).text(data.text).parent().addClass(data.cssClass).addClass(I)}}},_prepareSelectModeConfig:function(){var e=this;return{selectNodesRecursive:!1,showCheckBoxesMode:"normal",onItemSelectionChanged:function(t){1===e._columnsController.getVisibleColumns().filter((function(e){return!e.command})).length&&!t.itemData.selected?t.component.selectItem(t.itemElement):setTimeout((function(){e._columnsController.columnOption(t.itemData.id,"visible",t.itemData.selected)}),300)}}},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames,o="select"===this.option("columnChooser.mode");if(this.callBase(e),o){var l=n.visible&&1===n.length&&void 0!==e.columnIndex,r=n.showInColumnChooser||n.caption||n.visible||t.columns&&n.all;l?this.render(null,{changeType:"selection",columnIndex:e.columnIndex}):r&&this.render(null,"full")}},optionChanged:function(e){switch(e.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(e)}},getColumnElements:function(){var e,t=[],n="select"===this.option("columnChooser.mode"),l=this._columnsController.getChooserColumns(n),r=this._popupContainer&&this._popupContainer.$content(),d=r&&r.find(".dx-treeview-node");return d&&l.forEach((function(n){var o=(e=d.filter("[data-item-id = '"+n.index+"']")).length?e.children(".dx-column-chooser-item").get(0):null;t.push(o)})),(0,o.default)(t)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(e,t){var n=e&&e.allowHiding&&("columnChooser"!==t||!e.visible&&this._columnsController.isParentColumnVisible(e.index));return this.isColumnChooserVisible()&&n},getBoundingRect:function(){var e=this._popupContainer&&this._popupContainer._container();if(e&&e.is(":visible")){var t=e.offset();return{left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight()}}return null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&(0,o.default)("body").addClass(this.addWidgetPrefix(T))},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var e=this._popupContainer;return e&&e.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}});e.exports={defaultOptions:function(){return{columnChooser:{enabled:!1,allowSearch:!1,searchTimeout:500,mode:"dragAndDrop",width:250,height:260,title:c.default.format("dxDataGrid-columnChooserTitle"),emptyPanelText:c.default.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:F},views:{columnChooserView:V},extenders:{views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._appendColumnChooserItem(e)},_appendColumnChooserItem:function(e){var t=this;if(t.option("columnChooser.enabled")){var n=t.option("columnChooser.title"),l={widget:"dxButton",options:{icon:B,onClick:function(){t.component.getView("columnChooserView").showColumnChooser()},hint:n,text:n,onInitialized:function(e){(0,o.default)(e.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix(y)))}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(l)}return e},optionChanged:function(e){switch(e.name){case"columnChooser":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this.option("columnChooser.enabled");return this.callBase()||e}}},controllers:{columns:{allowMoveColumn:function(e,t,n,o){return!("select"===this.option("columnChooser.mode")&&"columnChooser"===o)&&this.callBase(e,t,n,o)}}}}}},1815:function(e,t,n){"use strict";var o=v(n(0)),l=v(n(14)),r=v(n(554)),d=v(n(30)),c=v(n(71)),h=n(2),m=n(1),f=n(10),C=v(n(50)),_=n(75),x=v(n(77));function v(e){return e&&e.__esModule?e:{default:e}}var w,E="content",y="content-fixed",T="dx-master-detail-cell",B="dx-first-cell",I="dx-last-cell",R="dx-state-hover",F="dx-col-fixed",V="dx-pointer-events-target",D="dx-pointer-events-none",W="transparent",P="dx-group-row",A=function(e){var t=-1;return(0,f.each)(e,(function(e,n){if(n.command===W)return t=e,!1})),t},H=function(e,t,n){var o=0;if(e&&t&&n)for(var i=0;i<e.length;i++)e[i].command===W?o+=e[i].colspan:(t[o]<n[i]&&(t[o]=n[i]),o++);return t},S={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(e){return this.callBase(e).toggleClass(F,!(!this._isFixedTableRendering||!(e.fixed||e.command&&e.command!==W)))},_correctColumnIndicesForFixedColumns:function(e,t){var n=A(e),o=e[n].colspan,l=t&&t.columnIndices;l&&(t.columnIndices=l.map((function(e){if(e)return e.map((function(e){return e<n?e:e>=n+o?e-o+1:-1})).filter((function(e){return e>=0}))})))},_renderTable:function(e){var t,n=this,o=n.getFixedColumns();n._isFixedColumns=!!o.length;var l=n.callBase(e);if(n._isFixedColumns){n._isFixedTableRendering=!0;var r=e&&e.change,d=r&&r.columnIndices;n._correctColumnIndicesForFixedColumns(o,r),t=n._createTable(o),n._renderRows(t,(0,m.extend)({},e,{columns:o})),n._updateContent(t,r),d&&(r.columnIndices=d),n._isFixedTableRendering=!1}else n._fixedTableElement&&n._fixedTableElement.parent().remove(),n._fixedTableElement=null;return l},_renderRow:function(e,t){var n,o=t.row.cells;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&o&&o.length){n=0;var l=t.row.cells||[];o=o.slice(),t.row.cells=o;for(var i=0;i<l.length;i++)l[i].column&&l[i].column.command===W?n=(l[i].column.colspan||1)-1:o[i+n]=l[i]}},_createCell:function(e){var t,n,o,l=this,r=e.column,d=r&&r.command,h=e.rowType,m=l.callBase.apply(l,arguments);(l._isFixedTableRendering||"filter"===h)&&(n=(t=l.getFixedColumns())[(o=A(t))-1]),l._isFixedTableRendering?d===W&&(m.addClass(D).toggleClass(B,0===o||n&&"expand"===n.command).toggleClass(I,t.length&&o===t.length-1),"freeSpace"!==h&&c.default.setEmptyText(m)):"filter"===h&&m.toggleClass(B,e.columnIndex===o);var f=l.option("rowAlternationEnabled")&&e.isAltRow;return C.default.mozilla&&e.column.fixed&&"group"!==e.rowType&&!f&&m.addClass(F),m},_wrapTableInScrollContainer:function(){var e=this.callBase.apply(this,arguments);return this._isFixedTableRendering&&e.addClass(this.addWidgetPrefix(y)+" "+V),e},_renderCellContent:function(e,t){var n,o=this,l=t.column,r=o._isFixedTableRendering,d="group"===t.rowType&&(0,h.isDefined)(l.groupIndex);if(r&&d&&!l.command&&!l.groupCellTemplate&&e.css("pointerEvents","none"),!r&&o._isFixedColumns){if(n=l.fixed||l.command&&!1!==l.fixed,d&&(n=!1,t.row.summaryCells&&t.row.summaryCells.length)){var c=o._columnsController.getVisibleColumns(),m=o._getAlignByColumnCellCount?o._getAlignByColumnCellCount(l.colspan,{columns:c,row:t.row,isFixed:!0}):0;if(m>0){var f=A(o._columnsController.getFixedColumns());n=c.length-m<f}}if(n){if(o.option("legacyRendering")||l.command&&"buttons"!==l.type||"group"===t.rowType)return void e.html("&nbsp;").addClass(l.cssClass);e.addClass("dx-hidden-cell")}}l.command!==W&&o.callBase(e,t)},_getCellElementsCore:function(e){var t=this,n=this.callBase.apply(this,arguments),o=n.parent().hasClass(P),l="columnHeadersView"===this.name?e:void 0;if(this._fixedTableElement&&n){var r=this.getFixedColumns(l),d=this._getRowElements(this._fixedTableElement).eq(e).children("td");(0,f.each)(d,(function(l,c){if(o)n[l]&&"hidden"!==c.style.visibility&&(n[l]=c);else{var h=r[l];if(h)if(h.command===W)d.eq(l).hasClass(T)&&(n[l]=c||n[l]);else{var m=t._columnsController.getVisibleIndexByColumn(h,e);n[m]=c||n[m]}}}))}return n},getColumnWidths:function(){var e,t=this,n=t.callBase(),o=t.getFixedColumns();return t._fixedTableElement&&n.length&&(e=t.callBase(t._fixedTableElement)),H(o,n,e)},getTableElement:function(){return this._isFixedTableRendering?this._fixedTableElement:this.callBase()},setTableElement:function(e){this._isFixedTableRendering?this._fixedTableElement=e.addClass(D):this.callBase(e)},getColumns:function(e,t){return t=t||this.getTableElement(),this._isFixedTableRendering||t&&t.closest("table").parent("."+this.addWidgetPrefix(y)).length?this.getFixedColumns(e):this.callBase(e,t)},getRowIndex:function(e){var t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):this.callBase(e)},getTableElements:function(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=(0,o.default)([e.get(0),this._fixedTableElement.get(0)])),e},getFixedColumns:function(e){return this._columnsController.getFixedColumns(e)},getFixedColumnsOffset:function(){var e,t={left:0,right:0};if(this._fixedTableElement){var n=(e=this.getTransparentColumnElement()).position();t={left:n.left,right:this.element().outerWidth(!0)-(e.outerWidth(!0)+n.left)}}return t},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find(".dx-pointer-events-none").first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(e){var t,n=this._columnsController.getVisibleColumns(),o=e.widths,l=o&&o.length&&(0,h.isDefined)(n[0].visibleWidth),r=e.optionNames,d=r&&r.width,c=!1;if(this.callBase.apply(this,arguments),this._fixedTableElement){if(this.option("legacyRendering"))c=o&&o.length&&!this.isScrollbarVisible(!0);else{var f=o&&o.some((function(e){return"auto"===e}));c=f&&(!l||!this.isScrollbarVisible(!0))}c&&(t=n),this.callBase((0,m.extend)({},e,{$tableElement:this._fixedTableElement,columns:t,fixed:!0}))}(l||d&&this.option("wordWrapEnabled"))&&this.synchronizeRows()},_createColGroup:function(e){if(!this.option("legacyRendering")&&this._isFixedTableRendering&&!this.option("columnAutoWidth")){var t=this._columnsController.getVisibleColumns();t.filter((function(e){return!e.width})).length&&(e=t)}return this.callBase(e)},_getClientHeight:function(element){var e=element.getBoundingClientRect&&(0,_.getBoundingRect)(element);return e&&e.height?e.height:element.clientHeight},synchronizeRows:function(){var e,t,n,o,l=this,r=[],d=[];if(l._isFixedColumns&&l._tableElement&&l._fixedTableElement){var c=l._getClientHeight(l._tableElement.get(0)),h=l._getClientHeight(l._fixedTableElement.get(0));if(t=l._getRowElements(l._tableElement),n=l._getRowElements(l._fixedTableElement),o=l._findContentElement(),c!==h){for(o&&o.css("height",c),t.css("height",""),n.css("height",""),e=0;e<t.length;e++)r.push(l._getClientHeight(t.get(e))),d.push(l._getClientHeight(n.get(e)));for(e=0;e<t.length;e++){var m=r[e],f=d[e];m>f?n.eq(e).css("height",m):m<f&&t.eq(e).css("height",f)}o&&o.css("height","")}}},setScrollerSpacing:function(e){var t=this.option("rtlEnabled");this.callBase(e),this.element().children("."+this.addWidgetPrefix(y)).css({paddingLeft:t?e:"",paddingRight:t?"":e})}},M=(0,m.extend)({},S,{_getRowVisibleColumns:function(e){return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e)},getContextMenuItems:function(e){var t=this,n=e.column,o=t.option("columnFixing"),l=t.callBase(e);if(e.row&&"header"===e.row.rowType&&n&&n.allowFixing){var r=function(e){switch(e.itemData.value){case"none":t._columnsController.columnOption(n.index,"fixed",!1);break;case"left":t._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"left"});break;case"right":t._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"right"})}};(l=l||[]).push({text:o.texts.fix,beginGroup:!0,items:[{text:o.texts.leftPosition,value:"left",disabled:n.fixed&&(!n.fixedPosition||"left"===n.fixedPosition),onItemClick:r},{text:o.texts.rightPosition,value:"right",disabled:n.fixed&&"right"===n.fixedPosition,onItemClick:r}]},{text:o.texts.unfix,value:"none",disabled:!n.fixed,onItemClick:r})}return l},getFixedColumnElements:function(e){var t=this;if((0,h.isDefined)(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();var n=t.getColumnElements(),o=t.getTransparentColumnElement();if(n&&o&&o.length){var l=A(t.getFixedColumns());n.splice(l,o.get(0).colSpan,o.get(0))}return n},getColumnWidths:function(){var e,t=this,n=t.callBase(),o=t.getFixedColumnElements(),l=t.getFixedColumns();return t._fixedTableElement&&(e=o&&o.length?t._getWidths(o):t.callBase(t._fixedTableElement)),H(l,n,e)}}),O=(0,m.extend)({},S,{_detachHoverEvents:function(){this._fixedTableElement&&l.default.off(this._fixedTableElement,"mouseover mouseout",".dx-data-row"),this._tableElement&&l.default.off(this._tableElement,"mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var e=this,t=function(t){l.default.on(t,"mouseover mouseout",".dx-data-row",e.createAction((function(t){var n=t.event,l=e.getRowIndex((0,o.default)(n.target).closest(".dx-row")),r="mouseover"===n.type;l>=0&&(e._tableElement&&e._getRowElements(e._tableElement).eq(l).toggleClass(R,r),e._fixedTableElement&&e._getRowElements(e._fixedTableElement).eq(l).toggleClass(R,r))})))};e._fixedTableElement&&e._tableElement&&(t(e._fixedTableElement),t(e._tableElement))},_findContentElement:function(){var e,t,n=this,d=n.addWidgetPrefix(E),element=n.element(),c=C.default.mozilla?60:0;if(element&&n._isFixedTableRendering){e=element.children("."+d);var h=n.getScrollable();return!e.length&&h&&(e=(0,o.default)("<div>").addClass(d),l.default.on(e,"scroll",(function(e){clearTimeout(n._fixedScrollTimeout),n._fixedScrollTimeout=setTimeout((function(){t=(0,o.default)(e.target).scrollTop(),h.scrollTo({y:t})}),c)})),l.default.on(e,r.default.name,(function(e){var l=(0,o.default)(e.target).closest(".dx-scrollable");if(h&&h.$element().is(l)&&(t=h.scrollTop(),h.scrollTo({y:t-e.delta}),h.scrollTop()>0&&h.scrollTop()+h.clientHeight()<h.scrollHeight()+n.getScrollbarWidth()))return!1})),e.appendTo(element)),e}return n.callBase()},_updateScrollable:function(){this.callBase();var e=this.getScrollable(),t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)},_renderContent:function(e,t){return this._isFixedTableRendering?e.empty().addClass(this.addWidgetPrefix(E)+" "+this.addWidgetPrefix(y)+" "+V).append(t):this.callBase(e,t)},_getGroupCellOptions:function(e){return this._isFixedTableRendering?this.callBase((0,m.extend)({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e)},_renderGroupedCells:function(e,t){return this.callBase(e,(0,m.extend)({},t,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells:function(e,t){this._isFixedTableRendering?this.callBase(e,(0,m.extend)({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e,t)},_hasAlignByColumnSummaryItems:function(e,t){var n=this.callBase.apply(this,arguments),o=t.columns[e];return t.isFixed?o.fixed&&(n||"right"===o.fixedPosition):n&&!o.fixed},_renderGroupSummaryCellsCore:function(e,t,n,o){var l;if(this._isFixedTableRendering){t.isFixed=!0,l=this._getAlignByColumnCellCount(n,t),t.isFixed=!1;var r=t.columns.length-l;t=(0,m.extend)({},t,{columns:this.getFixedColumns()});var d=A(t.columns);r<d?(l-=t.columns[d].colspan-1||0,n-=t.columns[d].colspan-1||0):o>0&&e.css("visibility","hidden"),o=l}this.callBase(e,t,n,o)},_getSummaryCellIndex:function(e,t){if(this._isFixedTableRendering){var n=A(t);return e>n&&(e+=t[n].colspan-1),e}return this.callBase.apply(this,arguments)},_renderCore:function(e){this._detachHoverEvents(),this.callBase(e);var t=this._isFixedColumns;this.element().toggleClass("dx-fixed-columns",t),this.option("hoverStateEnabled")&&t&&this._attachHoverEvents()},setRowsOpacity:function(e,t){this.callBase(e,t);var n=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(n,this.getFixedColumns(),e,t)},optionChanged:function(e){this.callBase(e),"hoverStateEnabled"===e.name&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(e){var t=this._fixedTableElement,n=0;if(t&&e.is("td")&&e.closest(t).length){var o=this.getFixedColumns();return(0,f.each)(o,(function(t,o){if(t===e[0].cellIndex)return!1;o.colspan?n+=o.colspan:n++})),n}return this.callBase.apply(this,arguments)},_updateFixedTablePosition:function(e,t){if(this._fixedTableElement&&this._tableElement){var n,o=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(e),t&&(n=o.focus())&&o.focus(n)}},setScrollerSpacing:function(e,t){var n=this,o={marginBottom:0},l=n.element().children("."+this.addWidgetPrefix(y));l.length&&n._fixedTableElement&&(l.css(o),n._fixedTableElement.css(o),o[n.option("rtlEnabled")?"marginLeft":"marginRight"]=e,o.marginBottom=t,(n._scrollable&&n._scrollable.option("useNative")?l:n._fixedTableElement).css(o))},_getElasticScrollTop:function(e){var t=0,n=this.getScrollbarWidth(!0);if(e.scrollOffset.top<0)t=-e.scrollOffset.top;else if(e.reachedBottom){var o=this._findContentElement(),l=e.component._container();t=Math.max(o.height()+n-l.height(),0)-e.scrollOffset.top}return t},_applyElasticScrolling:function(e){if(this._fixedTableElement){var t=this._getElasticScrollTop(e);0!==Math.ceil(t)?x.default.move(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}},_handleScroll:function(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),this.callBase(e)},_updateContentPosition:function(e){this.callBase.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared:function(e){this._isFixedTableRendering||this.callBase(e)},_scrollToElement:function(e){this.callBase(e,this.getFixedColumnsOffset())},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),K=S;e.exports={defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:d.default.format("dxDataGrid-columnFixingFix"),unfix:d.default.format("dxDataGrid-columnFixingUnfix"),leftPosition:d.default.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:d.default.format("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:M,rowsView:O,footerView:K},controllers:(w=function(e,t,n){var o=A(t),l=e.length-t.length;return(0,f.each)(n,(function(e,t){t.index>o&&(t.columnIndex+=l,t.index+=l)})),n},{draggingHeader:{_generatePointsByColumns:function(e){var t=e.columns,n=e.targetDraggingPanel;if(n&&"headers"===n.getName()&&n.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=n.getFixedColumnElements(0)),e.columns=n.getFixedColumns(e.rowIndex);var o=this.callBase(e);return w(t,e.columns,o),o}return this.callBase(e)},_pointCreated:function(e,t,n,o){var l=this.callBase.apply(this,arguments),r=t[e.columnIndex],d=this._columnHeadersView.getTransparentColumnElement();if(!l&&"headers"===n&&d&&d.length){var c=(0,_.getBoundingRect)(d.get(0));return o&&o.fixed?"right"===o.fixedPosition?e.x<c.right:e.x>c.left:!(!r||!r.fixed||"right"===r.fixedPosition)||e.x<c.left||e.x>c.right}return l}},columnsResizer:{_generatePointsByColumns:function(){var e=this,t=e._columnsController,n=t&&e._columnsController.getVisibleColumns(),o=t&&e._columnsController.getFixedColumns(),l=e._columnHeadersView.getFixedColumnElements(),r=[];e.callBase(),l&&l.length>0&&(r=c.default.getPointsByColumns(l,(function(t){return e._pointCreated(t,l.length,o)})),e._pointsByFixedColumns=w(n,o,r))},_pointCreated:function(e,t,n){var o="widget"===this.option("columnResizingMode");if(e.index>0&&e.index<t){var l=n[e.columnIndex-1]||{},r=n[e.columnIndex]||{};if(l.fixed||r.fixed)return e.columnIndex-=1,!((l.allowResizing||l.command===W)&&(o||r.allowResizing||r.command===W))}return this.callBase.apply(this,arguments)},_getTargetPoint:function(e,t,n){var o=this._columnHeadersView.getTransparentColumnElement();if(o&&o.length){var l=(0,_.getBoundingRect)(o.get(0));if(t<=l.left||t>=l.right)return this.callBase(this._pointsByFixedColumns,t,n)}return this.callBase(e,t,n)}}})}}},1817:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=R(n(0)),r=R(n(14)),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=I();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var desc=l?Object.getOwnPropertyDescriptor(e,r):null;desc&&(desc.get||desc.set)?Object.defineProperty(n,r,desc):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(21)),c=R(n(58)),h=R(n(2)),m=R(n(50)),f=R(n(103)),C=R(n(76)),_=R(n(434)),x=R(n(71)),v=R(n(82)),w=n(20),E=n(6),y=n(10),T=n(1),B=n(19);function I(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return I=function(){return e},e}function R(e){return e&&e.__esModule?e:{default:e}}var F="columnHeadersView",V="rowsView",D=[F,V,"footerView"],W="adaptiveHidden",P="detailAdaptive",A="hidden-column",H="dx-command-adaptive",S="dx-command-adaptive-hidden",M="dx-adaptive-item-text",O="adaptive",K="row",k="dx-group-cell";function N(e,t){return e._columnsController.getColumnId(t)}function z(e){return e.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function L(e,t){var n,o=(0,l.default)(e),h=t.component.getController("adaptiveColumns");"data"===t.rowType?(n=(0,l.default)("<span>").addClass(h.addWidgetPrefix("adaptive-more")),r.default.on(n,d.addNamespace(c.default.name,"dxDataGridAdaptivity"),h.createAction((function(){h.toggleExpandAdaptiveDetailRow(t.key)}))),n.appendTo(o)):x.default.setEmptyText(o)}var G=C.default.ViewController.inherit({_isRowEditMode:function(){return this._getEditMode()===K},_isItemModified:function(e,t){var n=this._columnsController.getVisibleIndex(e.column.index),o=this._dataController.getRowIndexByKey(t.key),l=this._dataController.items()[o+1];return l&&l.modifiedValues&&h.default.isDefined(l.modifiedValues[n])},_renderFormViewTemplate:function(e,t,n){var o=this,l=e.column,d=o.createAction((function(){r.default.trigger(n,c.default.name)})),m=l.calculateCellValue(t.data),f=x.default.getDisplayValue(l,m,t.data,t.rowType),text=x.default.formatValue(f,l),C=this._editingController.isCellOrBatchEditMode(),_=o._rowsView;if(l.allowEditing&&o.getController("keyboardNavigation").isKeyboardEnabled()&&(n.attr("tabIndex",o.option("tabIndex")),C&&(r.default.off(n,"focus",d),r.default.on(n,"focus",d))),l.cellTemplate){var v=(0,T.extend)({},t,{value:m,displayValue:f,text:text,column:l}),E=!!n.closest((0,w.getWindow)().document).length;_.renderTemplate(n,l.cellTemplate,v,E).done((function(){_._cellPrepared(n,t)}))}else{var y=n.get(0);l.encodeHtml?y.textContent=text:y.innerHTML=text,n.addClass(M),h.default.isDefined(text)&&""!==text||n.html("&nbsp;"),o._isRowEditMode()||o._isItemModified(e,t)&&n.addClass("dx-item-modified"),_._cellPrepared(n,t)}},_getTemplate:function(e,t){var n=this,o=e.column,r=this.getController("editing");return function(d,c){var h=(0,l.default)(c),m=n._columnsController.getVisibleIndex(o.index),f=(0,T.extend)({},t),C=function(){var l=n._isItemEdited(e);f.value=t.row.values[m],l||o.showEditorAlways?r.renderFormEditTemplate(f,e,d.component,h,!l):(f.column=o,f.columnIndex=m,n._renderFormViewTemplate(e,f,h))};C(),f.watch&&f.watch((function(){return{isItemEdited:n._isItemEdited(e),value:t.row.values[m]}}),(function(){h.contents().remove(),h.removeClass(M),C()}))}},_isVisibleColumnsValid:function(e){return!(e<2)&&!(e.length-function(){for(var t=0,n=0;n<e.length;n++){e[n].command&&t++}return t}()<=1)},_calculatePercentWidths:function(e,t){var n=this,o=0;return t.forEach((function(t,l){e[l]!==W&&(o+=n._getItemPercentWidth(t))})),o},_isPercentWidth:function(e){return h.default.isString(e)&&"%"===e.slice(-1)},_isColumnHidden:function(e){return this._hiddenColumns.filter((function(t){return t.index===e.index})).length>0},_getAverageColumnsWidth:function(e,t,n){var o=this,l=0,r=0;return t.forEach((function(d){if(!o._isColumnHidden(d)){var c=d.width;h.default.isDefined(c)&&!isNaN(parseFloat(c))?l+=o._isPercentWidth(c)?o._calculatePercentWidth({visibleIndex:d.visibleIndex,columnsCount:t.length,columnsCanFit:n,bestFitWidth:d.bestFitWidth,columnWidth:c,containerWidth:e}):parseFloat(c):r++}})),(e-l)/r},_calculateColumnWidth:function(e,t,n,o){var l,r=N(this,e),d=this._columnsController.columnOption(r,"width"),c=this._columnsController.columnOption(r,"bestFitWidth"),h=n.length;if(d&&"auto"!==d){if(!this._isPercentWidth(d))return d;l=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:h,columnsCanFit:o,bestFitWidth:c,columnWidth:d,containerWidth:t})}else{l=this.option("columnAutoWidth")||e.command?c:this._getAverageColumnsWidth(t,n,o)}return l},_calculatePercentWidth:function(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,o=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return t?e.containerWidth*parseFloat(e.columnWidth)/100:o},_getNotTruncatedColumnWidth:function(e,t,n,o){var l=N(this,e),r=this._columnsController.columnOption(l,"width"),d=this._columnsController.columnOption(l,"bestFitWidth");if(r&&"auto"!==r&&!this._isPercentWidth(r))return parseFloat(r);var c=this._calculateColumnWidth(e,t,n,o);return c<d?null:c},_getItemPercentWidth:function(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t},_getCommandColumnsWidth:function(){var e=this,t=e._columnsController.getVisibleColumns(),n=0;return(0,y.each)(t,(function(t,o){(o.index<0||o.command)&&(n+=e._columnsController.columnOption(N(e,o),"bestFitWidth")||0)})),n},_isItemEdited:function(e){if(this.isFormEditMode())return!1;if(!this._isRowEditMode()){var t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,n)}var o=this._editingController.getEditRowKey();return!!(0,E.equalByValue)(o,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns:function(e){var t=[];return(0,y.each)(e,(function(e,n){t.push({column:n,name:n.name,dataField:n.dataField,visibleIndex:n.visibleIndex})})),t},_getAdaptiveColumnVisibleIndex:function(e){for(var i=0;i<e.length;i++){if(e[i].command===O)return i}},_hideAdaptiveColumn:function(e,t){var n=this._getAdaptiveColumnVisibleIndex(t);h.default.isDefined(n)&&(e[n]=W,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))},_showHiddenCellsInView:function(e){var t=e.$cells,n=e.isCommandColumn?S:this.addWidgetPrefix(A);t.removeClass(n)},_showHiddenColumns:function(){for(var i=0;i<D.length;i++){var view=this.getView(D[i]);if(view&&view.isVisible()&&view.element()){var e=view.name,t=view.element().find(".dx-command-adaptive-hidden");this._showHiddenCellsInView({viewName:e,$cells:t,isCommandColumn:!0});var n=view.element().find("."+this.addWidgetPrefix(A));this._showHiddenCellsInView({viewName:e,$cells:n})}}},_isCellValid:function(e){return e&&e.length&&!e.hasClass("dx-master-detail-cell")&&!e.hasClass(k)},_hideVisibleColumn:function(e){var t=e.isCommandColumn,n=e.visibleIndex,o=this;D.forEach((function(e){var view=o.getView(e);view&&o._hideVisibleColumnInView({view:view,isCommandColumn:t,visibleIndex:n})}))},_hideVisibleColumnInView:function(e){var t,view=e.view,n=e.isCommandColumn,o=e.visibleIndex,l=view.name,r=this._columnsController.getVisibleColumns()[o],d=this._editingController&&this._editingController.getEditFormRowIndex();if(view&&view.isVisible()&&r)for(var c=view.getRowsCount(),h=view._getRowElements(),m=0;m<c;m++){if(!(m===d&&l===V&&"popup"!==this.option("editing.mode"))){var f=l===F?this._columnsController.getVisibleIndex(r.index,m):o;if(f>=0){var C=h.eq(m);t=this._findCellElementInRow(C,f),this._isCellValid(t)&&this._hideVisibleCellInView({viewName:l,isCommandColumn:n,$cell:t})}}}},_findCellElementInRow:function(e,t){var n=e.children(),o=t,l=!1;if(e.hasClass("dx-group-row")){var r=e.find(".".concat(k)),d=r.attr("colspan");if(r.length&&h.default.isDefined(d)){var c=parseInt(d);t>r.index()+c-1?o=t-c+1:l=!0}}return l?void 0:n.eq(o)},_hideVisibleCellInView:function(e){var t=e.$cell,n=e.isCommandColumn?S:this.addWidgetPrefix(A);t.addClass(n)},_getEditMode:function(){return this._editingController.getEditMode()},isFormEditMode:function(){var e=this._getEditMode();return"form"===e||"popup"===e},hideRedundantColumns:function(e,t,n){var o=this;if(this._hiddenColumns=[],o._isVisibleColumnsValid(t)&&n.length){var i,l,r,d=0,c=o.component.$element(),h=c.width()-o._getCommandColumnsWidth(),m=function(){var e=this;return t.filter((function(t){return!t.command&&0===e._hiddenColumns.filter((function(i){return i.index===t.index})).length}))}.bind(this),f=m(),C=f.length;do{r=!1,d=0;var _=o._calculatePercentWidths(e,t),x=_<100&&0!==_;for(i=0;i<t.length;i++){var v=t[i],w=o._getNotTruncatedColumnWidth(v,h,f,x),E=N(o,v),y=o._columnsController.columnOption(E,"width"),T=o._columnsController.columnOption(E,"minWidth"),B=o._columnsController.columnOption(E,"bestFitWidth");if(e[i]!==W){if(!w&&!v.command&&!v.fixed){r=!0;break}y&&"auto"!==y||(w=Math.max(B||0,T||0)),(v.command!==O||l)&&(d+=w)}else l=!0}if(r=r||d>c.width()){var I=n.pop(),R=o._columnsController.getVisibleIndex(I.index);h+=o._calculateColumnWidth(I,h,f,x),o._hideVisibleColumn({visibleIndex:R}),e[R]=W,this._hiddenColumns.push(I),f=m()}}while(r&&f.length>1&&n.length);C===f.length&&o._hideAdaptiveColumn(e,t)}else o._hideAdaptiveColumn(e,t)},getItemContentByColumnIndex:function(e){for(var t,i=0;i<this._$itemContents.length;i++){var n=(t=this._$itemContents.eq(i)).data("dx-form-item");if(n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)===e)return t}},toggleExpandAdaptiveDetailRow:function(e,t){this.isFormEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)},createFormByHiddenColumns:function(e,t){var n=this,o=(0,l.default)(e),r={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-"+new f.default},d=v.default.isMaterial()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:r}),n._$itemContents=null,n._form=n._createComponent((0,l.default)("<div>").appendTo(o),_.default,(0,T.extend)(d,r,{customizeItem:function(e){var o=e.column||n._columnsController.columnOption(e.name||e.dataField);o&&(e.label=e.label||{},e.label.text=e.label.text||o.caption,e.column=o,e.template=n._getTemplate(e,t,n.updateForm.bind(n))),r.customizeItem&&r.customizeItem.call(this,e)},onContentReady:function(e){r.onContentReady&&r.onContentReady.call(this,e),n._$itemContents=o.find(".dx-field-item-content")}}))},hasAdaptiveDetailRowExpanded:function(){return h.default.isDefined(this._dataController.adaptiveExpandedKey())},updateForm:function(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&h.default.isDefined(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue:function(e){var t,i,n=this,o=e.filter((function(e){return e.visible&&!e.type&&!e.fixed&&!(h.default.isDefined(e.groupIndex)&&e.groupIndex>=0)}));if(n._hidingColumnsQueue=[],n.option("allowColumnResizing")&&"widget"===n.option("columnResizingMode"))return n._hidingColumnsQueue;for(i=0;i<o.length;i++)h.default.isDefined(o[i].hidingPriority)&&o[i].hidingPriority>=0&&(t=!0,n._hidingColumnsQueue[o[i].hidingPriority]=o[i]);if(t)n._hidingColumnsQueue.reverse();else if(n.option("columnHidingEnabled"))for(i=0;i<o.length;i++){var l=n._columnsController.getVisibleIndex(o[i].index);n._hidingColumnsQueue[l]=o[i]}return n._hidingColumnsQueue=n._hidingColumnsQueue.filter(Object),n._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:O,command:O,visible:!0,adaptiveHidden:!0,cssClass:H,alignment:"center",width:"auto",cellTemplate:L,fixedPosition:"right"}),e._columnsController.columnsChanged.add((function(){var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)})),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged:function(e){"columnHidingEnabled"===e.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(e){return this._dataController.adaptiveExpandedKey()&&(0,E.equalByValue)(this._dataController.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow:function(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}});e.exports={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:G},extenders:{views:{rowsView:{_getCellTemplate:function(e){var t=this,n=e.column;return e.rowType===P&&"detail"===n.command?function(e,n){t._adaptiveColumnsController.createFormByHiddenColumns((0,l.default)(e),n)}:t.callBase(e)},_createRow:function(e){var t=this.callBase(e);return e&&e.rowType===P&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass("dx-adaptive-detail-row"),t},_renderCells:function(e,t){this.callBase(e,t);var n=this._adaptiveColumnsController.getHidingColumnsQueue().length,o=this._adaptiveColumnsController.getHiddenColumns().length;n&&!o&&z(e).last().addClass("dx-last-data-cell")},_getColumnIndexByElementCore:function(e){var t=e.closest(".dx-field-item-content");if(t.length&&t.closest(this.component.$element()).length){var n=t.length?t.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return this.callBase(e)},_cellPrepared:function(e,t){this.callBase.apply(this,arguments),t.row.rowType!==P&&t.column.visibleWidth===W&&e.addClass(this.addWidgetPrefix(A))},_getCellElement:function(e,t){var n=this._dataController.items()[e];return n&&n.rowType===P?this._adaptiveColumnsController.getItemContentByColumnIndex(t):this.callBase.apply(this,arguments)},getContextMenuItems:function(e){if(e.row&&"detailAdaptive"===e.row.rowType){var view=this.component.getView("columnHeadersView"),t=(0,l.default)(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=t?t.column:e.column,view.getContextMenuItems&&view.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement:function(e){return!!this.callBase&&this.callBase(e)||!!e.closest(".dx-command-adaptive").length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(e,t){this.callBase(e,e.visibleWidth===W?e.bestFitWidth:t)}},columnsResizer:{_pointCreated:function(e,t,n){var o=this.callBase(e,t,n),l=n[e.columnIndex]||{},r=this._getNextColumnIndex(e.columnIndex),d=n[r]||{},c=r!==e.columnIndex+1&&d.command,h=l.visibleWidth===W||c;return o||h},_getNextColumnIndex:function(e){for(var t=this._columnsController.getVisibleColumns(),n=this.callBase(e);t[n]&&t[n].visibleWidth===W;)n++;return n}},draggingHeader:{_pointCreated:function(e,t,n,o){var l=this.callBase(e,t,n,o),r=(t[e.columnIndex-1]||{}).visibleWidth===W;return l||r}},editing:{_isRowEditMode:function(){return this.getEditMode()===K},_getFormEditItemTemplate:function(e,t){return this.getEditMode()!==K&&"detailAdaptive"===e.rowType?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):this.callBase(e,t)},_closeEditItem:function(e){var t=e.closest(".dx-field-item-content"),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,o=t.length?t.first().data("dx-form-item"):null,l=o&&o.column&&this._columnsController.getVisibleIndex(o.column.index);this.isEditCell(n,l)||this.callBase(e)},_beforeUpdateItems:function(e,t){if(!this._adaptiveController.isFormEditMode()&&this._adaptiveController.hasHiddenColumns()){var n=this._dataController.items(),o=n[t],l=x.default.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),l>=0&&t>l&&this._editRowIndex--,l>=0&&e.push(l+1),e.push(t+1),this._dataController.adaptiveExpandedKey(o.key)}},_afterInsertRow:function(e){this.callBase(e),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e.key,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){var e=this;this.callBase.apply(this,arguments);var t=new B.Deferred;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?(0,B.when)(this.getController("validating").validate(!0)).done((function(n){n&&e._cancelEditAdaptiveDetailRow(),t.resolve()})):t.resolve(),t.promise()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(e){var t=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType===P?e.rowIndex-1:e.rowIndex+1),t},_beforeCloseEditCellInBatchMode:function(e){var t=this._dataController._adaptiveExpandedKey;if(t){var n=x.default.getIndexByKey(t,this._dataController.items());n>-1&&e.unshift(n)}},editRow:function(e){this._adaptiveController.isFormEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow:function(e){var t=this._dataController.getKeyByRowIndex(e);"batch"===this.getEditMode()&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_updateScrollableForIE:function(){var e=this;m.default.msie&&parseInt(m.default.version)<=11&&(this._updateScrollableTimeoutID=setTimeout((function(){e.getView("rowsView")._updateScrollable()})))},_correctColumnWidths:function(e,t){var n=this._adaptiveColumnsController,o=this.option("columnAutoWidth"),l=n.getHiddenColumns(),r=n.updateHidingQueue(this._columnsController.getColumns());n.hideRedundantColumns(e,t,r);var d=n.getHiddenColumns();return n.hasAdaptiveDetailRowExpanded()&&l.length!==d.length&&n.updateForm(d),!d.length&&n.collapseAdaptiveDetailRow(),o&&r.length&&!d.length&&this._updateScrollableForIE(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(e){e&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(e)},_needStretch:function(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems:function(e,t){var n=this,o=t.changeType;if(e=n.callBase.apply(n,arguments),"loadingAll"===o||!h.default.isDefined(n._adaptiveExpandedKey))return e;var l=x.default.getIndexByKey(n._adaptiveExpandedKey,e);if(l>=0){var r=e[l];e.splice(l+1,0,{visible:!0,rowType:P,key:r.key,data:r.data,node:r.node,modifiedValues:r.modifiedValues,isNewRow:r.isNewRow,values:r.values})}else"refresh"===o&&(n._adaptiveExpandedKey=void 0);return e},_getRowIndicesForExpand:function(e){var t=this.callBase.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)){var n=t[t.length-1];t.push(n+1)}return t},adaptiveExpandedKey:function(e){if(!h.default.isDefined(e))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=e},toggleExpandAdaptiveDetailRow:function(e,t){var n=this,o=x.default.getIndexByKey(n._adaptiveExpandedKey,n._items),l=x.default.getIndexByKey(e,n._items);o>=0&&o===l&&!t&&(e=void 0,l=-1),n._adaptiveExpandedKey=e,o>=0&&o++,l>=0&&l++;var r=n.getRowIndexDelta();n.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[o-r,l-r]})},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_getFocusCellSelector:function(){return this.callBase()+", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content"},_getTooltipsSelector:function(){return this.callBase()+", .dx-field-item-content ."+this.addWidgetPrefix("revert-tooltip")}},columns:{_isColumnVisible:function(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:{_isCellValid:function(e){return this.callBase.apply(this,arguments)&&!e.hasClass(this.addWidgetPrefix(A))},_processNextCellInMasterDetail:function(e){this.callBase(e);var t=this._editingController.isCellOrBatchEditMode();if(!this._isInsideEditForm(e)&&e&&t){r.default.on(e,"focus",(function t(){r.default.off(e,"focus",t),r.default.trigger(e,"dxclick")}))}},_handleTabKeyOnMasterDetailCell:function(e,t){var n=this.callBase(e,t),o=this._getFocusedCell(),l=o&&o.parent();if(!n&&l&&l.length){var r=z(l),d="next"===t?r.last():r.first(),c=l.get(0).rowIndex,h=this._adaptiveController,m=this._dataController.getKeyByRowIndex("next"===t?c:c-1),f=o&&d&&o.get(0)===d.get(0);return h.isAdaptiveDetailRowExpanded(m)&&f}return n},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}}}}}},648:function(e,t,n){"use strict";var o,l=n(188),r=(o=l)&&o.__esModule?o:{default:o};e.exports={registerKeyboardAction:function(e,t,n,o,l){var d=t.getController("keyboardNavigation");if(!(t.option("useLegacyKeyboardNavigation")||d&&!d.isKeyboardEnabled())){t.createAction("onKeyDown"),r.default.registerKeyboardAction(e,t,n,o,l,(function(e){t.executeAction("onKeyDown",e)}))}}}}}]);