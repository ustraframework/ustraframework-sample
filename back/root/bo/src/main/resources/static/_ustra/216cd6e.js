(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1668:function(e,t,n){"use strict";var r,o=n(1669),l=(r=o)&&r.__esModule?r:{default:r};n(1693),n(1696),n(1698),n(1702),n(1705),n(1707),n(1738),n(1741),n(1744),n(1749),n(1752),n(1757),n(1760),n(1762),n(1764),n(1767),n(1769),n(1771),n(1773),n(1775),n(1777),n(1780),n(1792),n(1794),e.exports=l.default},1680:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1681));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("sorting",o.default)},1683:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1684));function l(e){return e&&e.__esModule?e:{default:e}}t.RowsView=o.default.views.rowsView,r.default.registerModule("rows",o.default)},1691:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1692));function l(e){return e&&e.__esModule?e:{default:e}}t.HeaderPanel=o.default.views.headerPanel,r.default.registerModule("headerPanel",o.default)},1693:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1694));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("stateStoring",o.default)},1696:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1697));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("selection",o.default)},1702:function(e,t,n){"use strict";var r=x(n(0)),o=x(n(40)),l=n(1703),d=n(1704),c=x(n(30)),m=x(n(426)),f=n(2),h=n(6),v=x(n(29)),C=n(17),y=n(624),_=n(184);function x(e){return e&&e.__esModule?e:{default:e}}var I="dx-datagrid-group-panel",w="dx-group-panel-item",G={init:function(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper:function(e){var t=this._grouping,n=this.option("grouping.autoExpandAll"),r=this.option("focusedRowEnabled"),o=e?e.remoteOperations:this.remoteOperations();!(o.filtering&&o.sorting&&o.paging)||o.grouping||!n&&r?(!t||t instanceof l.GroupingHelper)&&(this._grouping=new d.GroupingHelper(this)):(!t||t instanceof d.GroupingHelper)&&(this._grouping=new l.GroupingHelper(this))},totalItemsCount:function(){var e=this,t=e.callBase();return t>0&&e._dataSource.group()&&e._dataSource.requireTotalCount()?t+e._grouping.totalCountCorrection():t},itemsCount:function(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll:function(){return this._grouping.allowCollapseAll()},isGroupItemCountable:function(e){return this._grouping.isGroupItemCountable(e)},isRowExpanded:function(e){var t=this._grouping.findGroupInfo(e);return t?t.isExpanded:!this._grouping.allowCollapseAll()},collapseAll:function(e){return this._collapseExpandAll(e,!1)},expandAll:function(e){return this._collapseExpandAll(e,!0)},_collapseExpandAll:function(e,t){var n=this,r=n._dataSource,l=r.group(),d=o.default.normalizeSortingInfo(l||[]);if(d.length){for(var i=0;i<d.length;i++)void 0===e||e===i?d[i].isExpanded=t:l&&l[i]&&(d[i].isExpanded=l[i].isExpanded);r.group(d),n._grouping.foreachGroups((function(n,r){void 0!==e&&e!==r.length-1||(n.isExpanded=t)}),!1,!0),n.resetPagesCache()}return!0},refresh:function(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand:function(path){var e=this,t=e._dataSource;if(t.group())return t.beginLoading(),e._lastLoadOptions&&(e._lastLoadOptions.groupExpand=!0),e._changeRowExpandCore(path).always((function(){t.endLoading()}))},_changeRowExpandCore:function(path){return this._grouping.changeRowExpand(path)},_hasGroupLevelsExpandState:function(e,t){if(e&&Array.isArray(e))for(var i=0;i<e.length;i++)if(e[i].isExpanded===t)return!0},_customizeRemoteOperations:function(e,t){var n=e.remoteOperations;e.storeLoadOptions.group?(n.grouping&&!e.isCustomLoading&&(n.groupPaging&&!this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0)||(n.paging=!1)),n.grouping||n.sorting&&n.filtering&&!e.isCustomLoading&&!this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1)||(n.paging=!1)):!e.isCustomLoading&&n.paging&&t.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading:function(e){return this.callBase(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)},_handleDataLoaded:function(e){return this._grouping.handleDataLoaded(e,this.callBase.bind(this))},_handleDataLoadedCore:function(e){return this._grouping.handleDataLoadedCore(e,this.callBase.bind(this))}};m.default.extend(G);var S={init:function(){var e=this;e.callBase(),e.createAction("onRowExpanding"),e.createAction("onRowExpanded"),e.createAction("onRowCollapsing"),e.createAction("onRowCollapsed")},_beforeProcessItems:function(e){var t=this._columnsController.getGroupColumns();return(e=this.callBase(e)).length&&t.length&&(e=this._processGroupItems(e,t.length)),e},_processItem:function(e,t){return(0,f.isDefined)(e.groupIndex)&&(0,f.isString)(e.rowType)&&0===e.rowType.indexOf("group")?(e=this._processGroupItem(e,t),t.dataIndex=0):e=this.callBase.apply(this,arguments),e},_processGroupItem:function(e){return e},_processGroupItems:function(e,t,n){var r=this,o=r._columnsController.getGroupColumns(),l=o[o.length-t];if(!n){var d=r.option("scrolling.mode");n={collectContinuationItems:"virtual"!==d&&"infinite"!==d,resultItems:[],path:[],values:[]}}var c=n.resultItems;if(n.data&&(!n.collectContinuationItems&&n.data.isContinuation||c.push({rowType:"group",data:n.data,groupIndex:n.path.length-1,isExpanded:!!n.data.items,key:n.path.slice(0),values:n.values.slice(0)})),e)if(0===t)c.push.apply(c,e);else for(var i=0;i<e.length;i++){var m=e[i];m&&"items"in m?(n.data=m,n.path.push(m.key),n.values.push(l&&l.deserializeValue&&!l.calculateDisplayValue?l.deserializeValue(m.key):m.key),r._processGroupItems(m.items,t-1,n),n.data=void 0,n.path.pop(),n.values.pop()):c.push(m)}return c},publicMethods:function(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll:function(e){var t=this._dataSource;t&&t.collapseAll(e)&&(t.pageIndex(0),t.reload())},expandAll:function(e){var t=this._dataSource;t&&t.expandAll(e)&&(t.pageIndex(0),t.reload())},changeRowExpand:function(e){var t=this,n=t.isRowExpanded(e),r={key:e,expanded:n};return t.executeAction(n?"onRowCollapsing":"onRowExpanding",r),r.cancel?(new C.Deferred).resolve():(0,C.when)(t._changeRowExpandCore(e)).done((function(){r.expanded=!n,t.executeAction(n?"onRowCollapsed":"onRowExpanded",r)}))},_changeRowExpandCore:function(e){var t=this,n=this._dataSource,r=new C.Deferred;return n?(0,C.when)(n.changeRowExpand(e)).done((function(){t.load().done(r.resolve).fail(r.reject)})).fail(r.reject):r.resolve(),r},isRowExpanded:function(e){var t=this._dataSource;return t&&t.isRowExpanded(e)},expandRow:function(e){return this.isRowExpanded(e)?(new C.Deferred).resolve():this.changeRowExpand(e)},collapseRow:function(e){return this.isRowExpanded(e)?this.changeRowExpand(e):(new C.Deferred).resolve()},optionChanged:function(e){"grouping"===e.name&&(e.name="dataSource"),this.callBase(e)}},A=function(e,t){var n=this._columnsController;switch(t.itemData.value){case"group":var r=n._dataSource.group()||[];n.columnOption(e.dataField,"groupIndex",r.length);break;case"ungroup":n.columnOption(e.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},D={_getToolbarItems:function(){var e=this.callBase();return this._appendGroupingItem(e)},_appendGroupingItem:function(e){var t=this;if(this._isGroupPanelVisible()){var n=!1,o={template:function(){var e=(0,r.default)("<div>").addClass(I);return t._updateGroupPanelContent(e),(0,y.registerKeyboardAction)("groupPanel",t,e,void 0,t._handleActionKeyDown.bind(t)),e},name:"groupPanel",onItemRendered:function(){n&&t.renderCompleted.fire(),n=!0},location:"before",locateInMenu:"never",sortIndex:1};e.push(o)}return e},_handleActionKeyDown:function(e){var t=e.event,n=(0,r.default)(t.target),o=n.closest(".".concat(w)).index(),l=this._columnsController.getGroupColumns()[o],d=l&&l.index;n.is(".dx-header-filter")?this.getController("headerFilter").showHeaderFilterMenu(d,!0):this._processGroupItemAction(d),t.preventDefault()},_isGroupPanelVisible:function(){var e,t=this.option("groupPanel");return t&&"auto"===(e=t.visible)&&(e="desktop"===v.default.current().deviceType),e},_renderGroupPanelItems:function(e,t){var n=this;e.empty(),(0,h.each)(t,(function(t,r){n._createGroupPanelItem(e,r)})),(0,_.restoreFocus)(this)},_createGroupPanelItem:function(e,t){var n=(0,r.default)("<div>").addClass(t.cssClass).addClass(w).data("columnData",t).appendTo(e).text(t.caption);return(0,_.setTabIndex)(this,n),n},_columnOptionChanged:function(e){if(!this._requireReady&&!o.default.checkChanges(e.optionNames,["width","visibleWidth"])){var t=this.element(),n=t&&t.find(".dx-datagrid-group-panel");n&&n.length&&(this._updateGroupPanelContent(n),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent:function(e){var t=this,n=t.getController("columns").getGroupColumns(),o=t.option("groupPanel");t._renderGroupPanelItems(e,n),o.allowColumnDragging&&!n.length&&((0,r.default)("<div>").addClass("dx-group-panel-message").text(o.emptyPanelText).appendTo(e),e.closest(".dx-toolbar-label").css("maxWidth","none"),t.updateToolbarDimensions())},allowDragging:function(e){var t=this.option("groupPanel");return this._isGroupPanelVisible()&&t.allowColumnDragging&&e&&e.allowGrouping},getColumnElements:function(){var e=this.element();return e&&e.find(".dx-group-panel-item")},getColumns:function(){return this.getController("columns").getGroupColumns()},getBoundingRect:function(){var e=this.element();if(e&&e.find(".dx-datagrid-group-panel").length){var t=e.offset();return{top:t.top,bottom:t.top+e.height()}}return null},getName:function(){return"group"},getContextMenuItems:function(e){var t,n=this,o=n.option("grouping.contextMenuEnabled"),l=(0,r.default)(e.targetElement).closest(".dx-group-panel-item");if(l.length&&(e.column=l.data("columnData")),o&&e.column){var d=e.column;if(!(0,f.isDefined)(d.allowGrouping)||d.allowGrouping){var c=(0,f.isDefined)(d.groupIndex)&&d.groupIndex>-1,m=n.option("grouping.texts"),h=A.bind(n,d);t=[{text:m.ungroup,value:"ungroup",disabled:!c,onItemClick:h},{text:m.ungroupAll,value:"ungroupAll",onItemClick:h}]}}return t},isVisible:function(){return this.callBase()||this._isGroupPanelVisible()},optionChanged:function(e){"groupPanel"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}};t.GroupingHeaderPanelExtender=D;var E={getContextMenuItems:function(e){var t,n=this;if(n.option("grouping.contextMenuEnabled")&&e.row&&"group"===e.row.rowType){var r=n._columnsController.columnOption("groupIndex:"+e.row.groupIndex);if(r&&r.allowGrouping){var o=n.option("grouping.texts"),l=A.bind(n,r);(t=[]).push({text:o.ungroup,value:"ungroup",onItemClick:l},{text:o.ungroupAll,value:"ungroupAll",onItemClick:l})}}return t},_rowClick:function(e){var t=this,n=t.option("grouping.expandMode"),o="infinite"!==t.option("scrolling.mode")&&"rowClick"===n&&(0,r.default)(e.event.target).closest(".dx-group-row").length,l=(0,r.default)(e.event.target).closest(".dx-datagrid-expand").length;(o||l)&&t._changeGroupRowState(e),t.callBase(e)},_changeGroupRowState:function(e){var t=this.getController("data"),n=t.items()[e.rowIndex],r=this._columnsController.columnOption("groupIndex:"+n.groupIndex,"allowCollapsing");("data"===n.rowType||"group"===n.rowType&&!1!==r)&&(t.changeRowExpand(n.key,!0),e.event.preventDefault(),e.handled=!0)}},O={getContextMenuItems:function(e){var t=this,n=t.option("grouping.contextMenuEnabled"),r=t.callBase(e);if(n&&e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)){var o=e.column;if(!o.command&&(!(0,f.isDefined)(o.allowGrouping)||o.allowGrouping)){var l=t.option("grouping.texts"),d=(0,f.isDefined)(o.groupIndex)&&o.groupIndex>-1,c=A.bind(t,o);(r=r||[]).push({text:l.groupByThisColumn,value:"group",beginGroup:!0,disabled:d,onItemClick:c}),o.showWhenGrouped&&r.push({text:l.ungroup,value:"ungroup",disabled:!d,onItemClick:c}),r.push({text:l.ungroupAll,value:"ungroupAll",onItemClick:c})}}return r}};o.default.registerModule("grouping",{defaultOptions:function(){return{grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:c.default.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:c.default.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:c.default.format("dxDataGrid-groupHeaderText"),ungroup:c.default.format("dxDataGrid-ungroupHeaderText"),ungroupAll:c.default.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:c.default.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}},extenders:{controllers:{data:S,columns:{_getExpandColumnOptions:function(){var e=this.callBase.apply(this,arguments);return e.cellTemplate=o.default.getExpandCellTemplate(),e}}},views:{headerPanel:D,rowsView:E,columnHeadersView:O}}})},1703:function(e,t,n){"use strict";var r,o=n(69),l=n(108),d=n(6),c=n(1),m=n(282),f=n(40),h=n(1072),v=n(625),C=n(151),y=(r=C)&&r.__esModule?r:{default:r},_=n(17);var x,I,w,G,S,A,D=function(e,t){var n=new _.Deferred,r=(0,c.extend)({skip:0,take:1,requireTotalCount:!0},t);return e.load(r).done((function(data,e){n.resolve(e&&e.totalCount)})).fail(n.reject.bind(n)),n};t.GroupingHelper=h.GroupingHelper.inherit((x=function(e,t,n){return e.foreachGroups((function(e){if(!e.isExpanded)return t(e)}),!1,!1,n,!0)},I=function(e,t){var n=0,r=t||0;return t&&(x(e,(function(e){if(e.offset-n>=t)return!1;n+=e.count-1})),r+=n),r},w=function e(t,n,path,r,o,l){for(var d=0,c=!1,i=0;i<n.length;i++){var m=n[i];if(void 0!==m.items){path.push(m.key);var f=t.findGroupInfo(path);if(f&&!f.isExpanded)m.collapsedItems=m.items,m.items=null,r+=f.count,--l<0&&d++,o&&(c=!0);else if(m.items){var h=e(t,m.items,path,r,o,l);o&&(h.offset-r>1?m.isContinuation=!0:c=!0),r=h.offset,(l=h.take)<0&&(m.items.length?m.isContinuationOnNextPage=!0:d++)}path.pop()}else o&&(c=!0),r++,--l<0&&d++;o=!1}return c&&n.splice(0,1),d&&n.splice(-d,d),{offset:r,take:l}},G=function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!(0,l.keysEqual)(null,e[i],t[i]))return!1;return!0},S=function e(t,n,path,r,o){if(n){for(var i=0;i<n.length;i++){var l=n[i];if("key"in l&&void 0!==l.items){path.push(l.key),o&&G(o.path,path)&&!l.isContinuation&&(o.offset=r);var d=t.findGroupInfo(path);d&&!l.isContinuation&&(d.offset=r),d&&!d.isExpanded?r+=d.count:r=e(t,l.items,path,r,o),path.pop()}else r++}return r}},A=function e(t,n){var r=t.count||t.items.length;if(!t.count&&n>1){r=0;for(var i=0;i<t.items.length;i++)r+=e(t.items[i],n-1)}return r},{handleDataLoading:function(e){var t,n=e.storeLoadOptions,r=[],o=0,l=!1,h=e.loadOptions.group,v=0;if(function(e,t){if(t.group){var n=(0,f.normalizeSortingInfo)(t.group),r=(0,f.normalizeSortingInfo)(e.sort);e.sort=(0,m.arrangeSortingInfo)(n,r),delete t.group}}(n,e.loadOptions),e.group=e.group||h,!e.isCustomLoading){var C=(0,c.extend)({},n);C.skip=I(this,n.skip),C.skip&&C.take&&h&&(C.skip--,C.take++,l=!0),C.take&&h&&(t=C.take,C.take++),x(this,(function(e){if(e.offset>=C.skip+C.take+v)return!1;e.offset>=C.skip+v&&e.count&&(v+=e.count-1,r.push(e),o+=e.count)})),(0,d.each)(r,(function(){C.filter=function(path,e,t){for(var n=(0,f.normalizeSortingInfo)(t||e.group),filter=[],i=0;i<path.length;i++){for(var r=[],o=0;o<=i;o++)r.push([n[o].selector,i===o?"<>":"=",path[o]]);filter.push((0,f.combineFilters)(r))}return filter=(0,f.combineFilters)(filter,"or"),(0,f.combineFilters)([filter,e.filter])}(this.path,C,h)})),e.storeLoadOptions=C,e.collapsedGroups=r,e.collapsedItemsCount=o,e.skip=C.skip||0,e.skipFirstItem=l,e.take=t}},handleDataLoaded:function(e,t){var data=e.data,n=e.collapsedGroups,r=(0,f.normalizeSortingInfo)(e.group),l=r.length;function d(data,path,e,t,n){if(data&&path.length&&e.length){var r,i,l=(0,o.toComparable)(path[0],!0);for(i=0;i<data.length&&(r=(0,o.toComparable)(data[i].key,!0),!(n>=t.offset||l===r));i++)n+=A(data[i],e.length);data.length&&l===r||data.splice(i,0,{key:path[0],items:[],count:1===path.length?t.count:void 0}),d(data[i].items,path.slice(1),e.slice(1),t,n)}}if(e.collapsedItemsCount&&e.extra&&e.extra.totalCount>=0&&(e.extra.totalCount+=e.collapsedItemsCount),t(e),l){var c=(0,y.default)(data);if((0,m.multiLevelGroup)(c,r).enumerate().done((function(e){data=e})),n)for(var h=0;h<n.length;h++)d(data,n[h].path,r,n[h],e.skip);e.isCustomLoading||w(this,data,[],e.skip,e.skipFirstItem,e.take),e.data=data}},isGroupItemCountable:function(e){return null===e.items},updateTotalItemsCount:function(){var e=0;x(this,(function(t){t.count&&(e-=t.count-1)})),this.callBase(e)},changeRowExpand:function(path){var e,t=this,n=t._dataSource,r=n.beginPageIndex?n.beginPageIndex():n.pageIndex(),o=n.items(),l=I(t,r*n.pageSize()),d=t.findGroupInfo(path);return e=d&&!d.isExpanded?(new _.Deferred).resolve(d.count):D(n,{filter:(0,v.createGroupFilter)(path,{filter:n.filter(),group:n.group()})}),(0,_.when)(e).done((function(e){e=parseInt(e.length?e[0]:e),d?(S(t,o,[],l),d.isExpanded=!d.isExpanded,d.count=e):(S(t,o,[],l,d={offset:-1,count:e,path:path,isExpanded:!1}),d.offset>=0&&t.addGroupInfo(d)),t.updateTotalItemsCount()})).fail((function(){n._eventsStrategy.fireEvent("loadError",arguments)}))},allowCollapseAll:function(){return!1},refresh:function(e,t){var n=this,r=e.storeLoadOptions,o=n._dataSource;if(this.callBase.apply(this,arguments),t.reload)return x(n,(function(e){var t=D(o,{filter:(0,v.createGroupFilter)(e.path,r)}),l=D(o,{filter:(0,h.createOffsetFilter)(e.path,r)});return(0,_.when)(l,t).done((function(t,r){t=parseInt(t.length?t[0]:t),r=parseInt(r.length?r[0]:r),e.offset=t,e.count!==r&&(e.count=r,n.updateTotalItemsCount())}))}),!0)}}))},1705:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1706));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("masterDetail",o.default)},1738:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1739));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("validating",o.default)},1741:function(e,t,n){"use strict";var r=d(n(40)),o=d(n(426)),l=d(n(1742));function d(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("virtualScrolling",l.default),o.default.extend(l.default.extenders.dataSourceAdapter)},1749:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1750));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("headerFilter",o.default)},1762:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1763));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("search",o.default)},1764:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1765));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("pager",o.default)},1769:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1770));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("keyboardNavigation",o.default)},1771:function(e,t,n){"use strict";var r=G(n(0)),o=n(5),l=n(2),d=n(6),c=n(1),m=n(69),f=G(n(54)),h=G(n(40)),v=G(n(30)),C=G(n(426)),y=G(n(339)),_=G(n(1772)),x=G(n(151)),I=n(282),w=n(108);function G(e){return e&&e.__esModule?e:{default:e}}var S="groupFooter",A=function(e,t){var n=(0,r.default)(e),o=t.column,l=t.summaryItems,d=[];if(!o.command&&l){for(var i=0;i<l.length;i++){var c=l[i];d.push((0,r.default)("<div>").css("textAlign",c.alignment||o.alignment).addClass("dx-datagrid-summary-item").addClass("dx-datagrid-text-content").addClass(c.cssClass).toggleClass("dx-datagrid-group-text-content","group"===t.rowType).text(h.default.getSummaryText(c,t.summaryTexts)))}n.append(d)}},D=function(e,t){var n=e.option("summary.texts")||{};return{totalItem:t.row,summaryItems:t.row.summaryCells[t.columnIndex],summaryTexts:n}},E=function(data){return data.summary||data.aggregates||[]},O=function(e){return e.option("summary.recalculateWhileEditing")};t.FooterView=y.default.ColumnsView.inherit({_getRows:function(){return this._dataController.footerItems()},_getCellOptions:function(e){return(0,c.extend)(this.callBase(e),D(this,e))},_renderCellContent:function(e,t){A(e,t),this.callBase(e,t)},_renderCore:function(e){var t=this._dataController.footerItems()[0];e&&e.columnIndices||this.element().empty().addClass("dx-datagrid-total-footer").toggleClass("dx-datagrid-nowrap",!this.option("wordWrapEnabled")),t&&t.summaryCells&&t.summaryCells.length&&this._updateContent(this._renderTable({change:e}),e)},_updateContent:function(e,t){if(!t||"update"!==t.changeType||!t.columnIndices)return this.callBase.apply(this,arguments);var n=this.getTableElement().find(".dx-row"),r=e.find(".dx-row");this._updateCells(n,r,t.columnIndices[0])},_rowClick:function(e){var t=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",(0,c.extend)({},e,t))},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&this.callBase(e)},_handleDataChanged:function(e){var t=e.changeType;"update"===e.changeType&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():"refresh"!==t&&"append"!==t&&"prepend"!==t||this.render()},getHeight:function(){return this.getElementHeight()},isVisible:function(){return!!this._dataController.footerItems().length}});var k,B,M,T,L,R=function(){function e(t,n,r,path){path=path||[];for(var i=0;i<t.length;i++)path.push(t[i].key),1===n?r(path,t[i].items):e(t[i].items,n-1,r,path),path.pop()}return{init:function(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=o.noop},summaryGetter:function(e){if(!arguments.length)return this._summaryGetter;(0,l.isFunction)(e)&&(this._summaryGetter=e)},summary:function(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}},totalAggregates:function(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal:function(){var summary=this.summary(),e=summary&&summary.sortByGroups();return e&&e.length},sortLastLevelGroupItems:function(t,n,r){var o=(0,I.multiLevelGroup)((0,x.default)(t),n).toArray(),l=[];return r.forEach((function(path){e(o,n.length,(function(e,t){path.toString()===e.toString()&&(l=l.concat(t))}))})),l}}}(),F=(k=function e(data,t,n){return n?e(data,t.map((function(e){return{items:[e]}}),n-1)):data.concat(t)},B=function e(data,t,n){return n?data.map((function(data){var r={},o=e(data.items||[],t,n-1);return Object.defineProperty(r,"aggregates",{get:function(){return data.aggregates},set:function(e){data.aggregates=e}}),(0,c.extend)(r,data,{items:o})})):data.filter((function(data){return t.indexOf(data)<0}))},M=function(e,summary,data,t){var n;if(O(e)){var r=e.getController("editing");if(r){var o=r.getInsertedData();o.length&&(data=k(data,o,t));var l=r.getRemovedData();l.length&&(data=B(data,l,t))}}return summary&&(n=new _.default({totalAggregates:summary.totalAggregates,groupAggregates:summary.groupAggregates,data:data,groupLevel:t})).calculate(),n?n.totalAggregates():[]},T=function e(t,n,r){if(!t||!n.length)return t;var o,l=n[0],c=r[0];return l&&c&&c.length&&(o=(0,x.default)(t),(0,d.each)(c,(function(e){o=0===e?o.sortBy(this.selector,this.desc):o.thenBy(this.selector,this.desc)})),o.enumerate().done((function(e){t=e}))),n=n.slice(1),r=r.slice(1),n.length&&r.length&&(0,d.each)(t,(function(){this.items=e(this.items,n,r)})),t},L=function(data,e,summary){var t=summary&&summary.sortByGroups&&summary.sortByGroups();return t&&t.length?T(data,e,t):data},{_customizeRemoteOperations:function(e){var summary=this.summary();summary&&(e.remoteOperations.summary?e.isCustomLoading&&!e.storeLoadOptions.isLoadingAll||(e.storeLoadOptions.group&&(e.remoteOperations.grouping?e.storeLoadOptions.groupSummary=summary.groupAggregates:summary.groupAggregates.length&&(e.remoteOperations.paging=!1)),e.storeLoadOptions.totalSummary=summary.totalAggregates):(summary.totalAggregates.length||summary.groupAggregates.length&&e.storeLoadOptions.group)&&(e.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var t=e.cachedPagesData.extra;t&&t.summary&&!e.isCustomLoading&&(e.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore:function(e){var t,n=this,r=(0,w.normalizeSortingInfo)(e.storeLoadOptions.group||e.loadOptions.group||[]),o=e.remoteOperations||{},summary=n.summaryGetter()(o);e.isCustomLoading&&!e.storeLoadOptions.isLoadingAll||(o.summary?!o.paging&&r.length&&summary&&(o.grouping||M(n,{groupAggregates:summary.groupAggregates},e.data,r.length),e.data=L(e.data,r,summary)):o.paging||(t=M(n,summary,e.data,r.length),e.data=L(e.data,r,summary),e.extra=(0,l.isPlainObject)(e.extra)?e.extra:{},e.extra.summary=t)),e.isCustomLoading||(n._totalAggregates=e.extra&&e.extra.summary||n._totalAggregates),n.callBase(e)}});C.default.extend(R),C.default.extend(F),t.renderSummaryCell=A,h.default.registerModule("summary",{defaultOptions:function(){return{summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:v.default.getFormatter("dxDataGrid-summarySum"),sumOtherColumn:v.default.getFormatter("dxDataGrid-summarySumOtherColumn"),min:v.default.getFormatter("dxDataGrid-summaryMin"),minOtherColumn:v.default.getFormatter("dxDataGrid-summaryMinOtherColumn"),max:v.default.getFormatter("dxDataGrid-summaryMax"),maxOtherColumn:v.default.getFormatter("dxDataGrid-summaryMaxOtherColumn"),avg:v.default.getFormatter("dxDataGrid-summaryAvg"),avgOtherColumn:v.default.getFormatter("dxDataGrid-summaryAvgOtherColumn"),count:v.default.getFormatter("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}},views:{footerView:t.FooterView},extenders:{controllers:{data:{_isDataColumn:function(e){return e&&(!(0,l.isDefined)(e.groupIndex)||e.showWhenGrouped)},_isGroupFooterVisible:function(){for(var e=this.option("summary.groupItems")||[],i=0;i<e.length;i++){var t=e[i],n=this._columnsController.columnOption(t.showInColumn||t.column);if(t.showInGroupFooter&&this._isDataColumn(n))return!0}return!1},_processGroupItems:function(e,t,n){var data=n&&n.data,r=this.callBase.apply(this,arguments);return n&&(void 0===n.isGroupFooterVisible&&(n.isGroupFooterVisible=this._isGroupFooterVisible()),data&&data.items&&n.isGroupFooterVisible&&(n.collectContinuationItems||!data.isContinuationOnNextPage)&&r.push({rowType:S,key:n.path.slice(),data:data,groupIndex:n.path.length-1,values:[]})),r},_processGroupItem:function(e,t){var n=this;if(t.summaryGroupItems||(t.summaryGroupItems=n.option("summary.groupItems")||[]),"group"===e.rowType){var r=-1,o=-1;(0,d.each)(t.visibleColumns,(function(n){var l=t.visibleColumns[n-1];e.groupIndex===this.groupIndex&&(r=this.index),n>0&&"expand"===l.command&&"expand"!==this.command&&(o=this.index)})),e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,E(e.data),t.visibleColumns,(function(e,t){return e.showInGroupFooter?-1:e.alignByColumn&&t&&!(0,l.isDefined)(t.groupIndex)&&t.index!==o?t.index:r}))}return e.rowType===S&&(e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,E(e.data),t.visibleColumns,(function(e,t){return e.showInGroupFooter&&n._isDataColumn(t)?t.index:-1}))),e},_calculateSummaryCells:function(e,t,n,r){var o=this,m=[],f={};return(0,d.each)(e,(function(e,n){var d=o._columnsController.columnOption(n.column),m=n.showInColumn&&o._columnsController.columnOption(n.showInColumn)||d,v=r(n,m);if(v>=0){f[v]||(f[v]=[]);var C,y=t[e];y==y&&((0,l.isDefined)(n.valueFormat)?C=n.valueFormat:"count"!==n.summaryType&&(C=h.default.getFormatByDataType(d&&d.dataType)),f[v].push((0,c.extend)({},n,{value:(0,l.isString)(y)&&d&&d.deserializeValue?d.deserializeValue(y):y,valueFormat:C,columnCaption:d&&d.index!==v?d.caption:void 0})))}})),(0,l.isEmptyObject)(f)||(0,d.each)(n,(function(){m.push(f[this.index]||[])})),m},_getSummaryCells:function(e,t){var n=this,r=n._columnsController;return n._calculateSummaryCells(e,t,r.getVisibleColumns(),(function(e,t){return n._isDataColumn(t)?t.index:-1}))},_updateItemsCore:function(e){var t,n=this,r=n._dataSource,o=n._footerItems,l=o&&o[0]&&o[0].summaryCells,d=n.option("summary.totalItems");if(n._footerItems=[],r&&d&&d.length){var c=r.totalAggregates();t=n._getSummaryCells(d,c),e&&e.repaintChangesOnly&&l&&(e.totalColumnIndices=t.map((function(e,t){return JSON.stringify(e)!==JSON.stringify(l[t])?t:-1})).filter((function(e){return e>=0}))),t.length&&n._footerItems.push({rowType:"totalFooter",summaryCells:t})}n.callBase(e)},_prepareUnsavedDataSelector:function(e){if(O(this)){var t=this.getController("editing");if(t)return function(data){return data=t.getUpdatedData(data),e(data)}}return e},_prepareAggregateSelector:function(e,t){return e=this._prepareUnsavedDataSelector(e),"avg"===t||"sum"===t?function(data){var t=e(data);return(0,l.isDefined)(t)?Number(t):t}:e},_getAggregates:function(e,t){var n=this,r=n.getController("columns"),o=n.option("summary.calculateCustomSummary"),c=n.option("summary.skipEmptyValues");return(0,d.map)(e||[],(function(e){var d=r.columnOption(e.column),h=d&&d.calculateCellValue?d.calculateCellValue.bind(d):(0,m.compileGetter)(d?d.dataField:e.column),v=e.summaryType||"count",C=e.column,y=(0,l.isDefined)(e.skipEmptyValues)?e.skipEmptyValues:c;if(t)return{selector:e.column,summaryType:v};if(C=n._prepareAggregateSelector(h,v),"custom"===v){o||(f.default.log("E1026"),o=function(){});var _={component:n.component,name:e.name};o(_),_.summaryProcess="calculate",v={seed:function(e){return _.summaryProcess="start",_.totalValue=void 0,_.groupIndex=e,delete _.value,o(_),_.totalValue},step:function(e,t){return _.summaryProcess="calculate",_.totalValue=e,_.value=t,o(_),_.totalValue},finalize:function(e){return _.summaryProcess="finalize",_.totalValue=e,delete _.value,o(_),_.totalValue}}}return{selector:C,aggregator:v,skipEmptyValues:y}}))},_addSortInfo:function(e,t,n,r){if(t){var o=t.groupIndex;r=r||t.sortOrder,(0,l.isDefined)(o)&&(e[o]=e[o]||[],e[o].push({selector:n,desc:"desc"===r}))}},_findSummaryItem:function(e,t){var n=-1;return(0,l.isDefined)(t)&&(0,d.each)(e||[],(function(e){if(this.name===t||e===t||this.summaryType===t||this.column===t||(o=(r=this).summaryType,l=r.column,(o&&l&&o+"_"+l)===t))return n=e,!1;var r,o,l})),n},_getSummarySortByGroups:function(e,t){var n=this,r=n._columnsController,o=r.getGroupColumns(),c=[];if(t&&t.length)return(0,d.each)(e||[],(function(){var e=this.sortOrder,m=this.groupColumn,f=n._findSummaryItem(t,this.summaryItem);if(!(f<0)){var h=function(data){return E(data)[f]};(0,l.isDefined)(m)?(m=r.columnOption(m),n._addSortInfo(c,m,h,e)):(0,d.each)(o,(function(t,r){n._addSortInfo(c,r,h,e)}))}})),c},_createDataSourceAdapterCore:function(e,t){var n=this,r=this.callBase(e,t);return r.summaryGetter((function(e){return n._getSummaryOptions(e||t)})),r},_getSummaryOptions:function(e){var t=this,n=t.option("summary.groupItems"),r=t.option("summary.totalItems"),o=t.option("sortByGroupSummaryInfo"),l=t._getAggregates(n,e&&e.grouping&&e.summary),d=t._getAggregates(r,e&&e.summary);if(l.length||d.length)return{groupAggregates:l,totalAggregates:d,sortByGroups:function(){return t._getSummarySortByGroups(o,n)}}},publicMethods:function(){var e=this.callBase();return e.push("getTotalSummaryValue"),e},getTotalSummaryValue:function(e){var t=this._findSummaryItem(this.option("summary.totalItems"),e),n=this._dataSource.totalAggregates();if(n.length&&t>-1)return n[t]},optionChanged:function(e){"summary"!==e.name&&"sortByGroupSummaryInfo"!==e.name||(e.name="dataSource"),this.callBase(e)},init:function(){this._footerItems=[],this.callBase()},footerItems:function(){return this._footerItems}},editing:{_refreshSummary:function(){O(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addEditData:function(e){var t=this.callBase.apply(this,arguments);return e.type&&this._refreshSummary(),t},_removeEditDataItem:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e},cancelEditData:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e}}},views:{rowsView:{_createRow:function(e){var t=this.callBase(e);return e&&t.addClass(e.rowType===S?"dx-datagrid-group-footer":""),t},_renderCells:function(e,t){this.callBase.apply(this,arguments),"group"===t.row.rowType&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(e,t)},_hasAlignByColumnSummaryItems:function(e,t){return!(0,l.isDefined)(t.columns[e].groupIndex)&&t.row.summaryCells[e].length},_getAlignByColumnCellCount:function(e,t){for(var n=0,i=1;i<e;i++){var r=t.row.summaryCells.length-i;n=this._hasAlignByColumnSummaryItems(r,t)?i:n}return n},_renderGroupSummaryCells:function(e,t){var n=e.children().last(),r=Number(n.attr("colSpan"))||1,o=this._getAlignByColumnCellCount(r,t);this._renderGroupSummaryCellsCore(n,t,r,o)},_renderGroupSummaryCellsCore:function(e,t,n,r){if(r>0){e.attr("colSpan",n-r);for(var i=0;i<r;i++){var o=t.columns.length-r+i;this._renderCell(e.parent(),(0,c.extend)({column:t.columns[o],columnIndex:this._getSummaryCellIndex(o,t.columns)},t))}}},_getSummaryCellIndex:function(e){return e},_getCellTemplate:function(e){return!e.column.command&&!(0,l.isDefined)(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?A:this.callBase(e)},_getCellOptions:function(e){var t=this.callBase(e);return e.row.summaryCells?(0,c.extend)(t,D(this,e)):t}}}}})},1777:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1778));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("virtualColumns",o.default)},1794:function(e,t,n){"use strict";var r=l(n(40)),o=l(n(1795));function l(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("rowDragging",o.default)},625:function(e,t,n){"use strict";var r,o=n(70),l=(r=o)&&r.__esModule?r:{default:r},d=n(108);t.createGroupFilter=function(path,e){for(var t=(0,d.normalizeSortingInfo)(e.group),filter=[],i=0;i<path.length;i++)filter.push([t[i].selector,"=",path[i]]);return e.filter&&filter.push(e.filter),l.default.combineFilters(filter)}}}]);