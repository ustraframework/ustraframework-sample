(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1722:function(e,t,n){"use strict";var o=v(n(0)),l=v(n(14)),r=v(n(58)),d=n(2),c=n(1),h=v(n(1723)),f=v(n(30)),m=n(21);function v(e){return e&&e.__esModule?e:{default:e}}var C=(0,c.extend)({},h.default,{_createRow:function(e){var t=this,n=this.callBase(e);return"header"===e.rowType&&l.default.on(n,(0,m.addNamespace)(r.default.name,"dxDataGridColumnHeadersView"),"td",this.createAction((function(e){t._processHeaderAction(e.event,n)}))),n},_processHeaderAction:function(e,t){if((0,o.default)(e.currentTarget).parent().get(0)===t.get(0)){var n=this,l=null,r=(0,o.default)(e.currentTarget),c=r.parent().index(),h=-1;[].slice.call(n.getCellElements(c)).some((function(e,t){if(e===r.get(0))return h=t,!0}));var f=n._columnsController.getVisibleColumns(c)[h],m=n.getController("editing"),v=n.option("editing.mode");!(m&&m.isEditing()&&("batch"===v||"cell"===v))&&n._isSortableElement((0,o.default)(e.target))&&(!f||(0,d.isDefined)(f.groupIndex)||f.command||(e.shiftKey?l="shift":e.ctrlKey&&(l="ctrl"),setTimeout((function(){n._columnsController.changeSortOrder(f.index,l)}))))}},_renderCellContent:function(e,t){var n=this,o=t.column;o.command||"header"!==t.rowType||n._applyColumnState({name:"sort",rootElement:e,column:o,showColumnLines:n.option("showColumnLines")}),n.callBase(e,t)},_columnOptionChanged:function(e){var t=e.changeTypes;1===t.length&&t.sorting?this._updateIndicators("sort"):this.callBase(e)},optionChanged:function(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),x=(0,c.extend)({},h.default,{_createGroupPanelItem:function(e,t){var n=this,o=n.callBase.apply(n,arguments);return l.default.on(o,(0,m.addNamespace)(r.default.name,"dxDataGridHeaderPanel"),n.createAction((function(){n._processGroupItemAction(t.index)}))),n._applyColumnState({name:"sort",rootElement:o,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:"desc"===t.sortOrder?"desc":"asc"},showColumnLines:!0}),o},_processGroupItemAction:function(e){var t=this;setTimeout((function(){return t.getController("columns").changeSortOrder(e)}))},optionChanged:function(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}});e.exports={defaultOptions:function(){return{sorting:{mode:"single",ascendingText:f.default.format("dxDataGrid-sortingAscendingText"),descendingText:f.default.format("dxDataGrid-sortingDescendingText"),clearText:f.default.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}},extenders:{views:{columnHeadersView:C,headerPanel:x}}}},1723:function(e,t,n){"use strict";var o,l=n(2),r=n(0),d=(o=r)&&o.__esModule?o:{default:o};var c="dx-sort",h="dx-sort-none",f="dx-sort-index-icon";e.exports={_applyColumnState:function(e){var t,n,o=this,r=o.option("sorting.mode"),c=e.rootElement,h=e.column,m=o._getIndicatorContainer(c);if("sort"===e.name){c.find(".dx-sort").remove(),!m.children().length&&m.remove();var v=("single"===r||"multiple"===r)&&h.allowSorting;if(!(0,l.isDefined)(h.groupIndex)&&(v||(0,l.isDefined)(h.sortOrder)))t="asc"===h.sortOrder?"ascending":"descending",n=o.callBase(e).toggleClass("dx-sort-up","asc"===h.sortOrder).toggleClass("dx-sort-down","desc"===h.sortOrder),o.getController&&!!o.getController("columns").columnOption("sortIndex:1")&&o.option("sorting.showSortIndexes")&&h.sortIndex>=0&&((0,d.default)("<span>").addClass(f).text(h.sortIndex+1).appendTo(n),n.addClass("dx-sort-index")),e.rootElement.addClass(o.addWidgetPrefix("action"));return(0,l.isDefined)(h.sortOrder)?o.setAria("sort",t,c):o.setAria("sort","none",c),n}return o.callBase(e)},_getIndicatorClassName:function(e){return"sort"===e?c:"sortIndex"===e?f:this.callBase(e)},_renderIndicator:function(e){var t=e.column,n=e.container,o=e.indicator;if("sort"===e.name){var r=this.option("rtlEnabled");if((0,l.isDefined)(t.sortOrder)||o&&o.addClass(h),n.children().length&&(!r&&"left"===e.columnAlignment||r&&"right"===e.columnAlignment))return void n.prepend(o)}this.callBase(e)},_updateIndicator:function(e,t,n){if("sort"!==n||!(0,l.isDefined)(t.groupIndex))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(e,t){var n=this.callBase(e);return t?n:n&&n.not(".dx-sort-none")}}},1725:function(e,t,n){"use strict";var o=R(n(0)),l=n(20),r=R(n(14)),d=n(6),c=R(n(212)),h=n(2),f=n(10),m=n(1),v=n(75),C=n(120),x=n(70),_=n(71),w=R(n(343)),y=R(n(185)),S=R(n(335)),T=R(n(30)),I=R(n(50));function R(e){return e&&e.__esModule?e:{default:e}}var D,E="dx-group-row",k="dx-group-cell",B="dx-freespace-row",A="dx-column-lines",P="dx-row-alt",V="dx-last-row-border";function F(e){return e?e.scrollWidth()-e.clientWidth():0}e.exports={defaultOptions:function(){return{hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:T.default.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},rowTemplate:null,columnAutoWidth:!1,noDataText:T.default.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:w.default.ColumnsView.inherit((D=function(e,t){var n=(0,C.isEmpty)(t.text)&&"data"===t.rowType,text=t.text,o=e.get(0);n?(0,_.setEmptyText)(e):t.column.encodeHtml?o.textContent=text:o.innerHTML=text},{_getDefaultTemplate:function(e){switch(e.command){case"empty":return function(e){e.html("&nbsp;")};default:return D}},_getDefaultGroupTemplate:function(e){var t=this.option("summary.texts");return function(n,o){var data=o.data,text=o.column.caption+": "+o.text,l=n.get(0);o.summaryItems&&o.summaryItems.length&&(text+=" "+(0,_.getGroupRowSummaryText)(o.summaryItems,t)),data&&(o.groupContinuedMessage&&o.groupContinuesMessage?text+=" ("+o.groupContinuedMessage+". "+o.groupContinuesMessage+")":o.groupContinuesMessage?text+=" ("+o.groupContinuesMessage+")":o.groupContinuedMessage&&(text+=" ("+o.groupContinuedMessage+")")),n.addClass(k),e.encodeHtml?l.textContent=text:l.innerHTML=text}},_update:function(){},_getCellTemplate:function(e){var t=e.column;return"group"!==e.rowType||!(0,h.isDefined)(t.groupIndex)||t.showWhenGrouped||t.command?("data"===e.rowType||t.command)&&t.cellTemplate?t.cellTemplate:{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(t)}:t.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(t)}},_createRow:function(e){var t=this.callBase(e);if(e){var n="group"===e.rowType,o="data"===e.rowType;if(o&&t.addClass("dx-data-row"),o&&this.option("showRowLines")&&t.addClass("dx-row-lines"),this.option("showColumnLines")&&t.addClass(A),!1===e.visible&&t.hide(),n){t.addClass(E);var l=e.isExpanded;this.setAria("role","row",t),this.setAria("expanded",(0,h.isDefined)(l)&&l.toString(),t)}}return t},_rowPrepared:function(e,t,n){var o=this;"data"===t.rowType&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&e.addClass(P),t.watch&&t.watch((function(){return o._isAltRow(n)}),(function(t){e.toggleClass(P,t)}))),this._setAriaRowIndex(t,e),t.watch&&t.watch((function(){return t.rowIndex}),(function(){return o._setAriaRowIndex(t,e)}))),this.callBase.apply(this,arguments)},_setAriaRowIndex:function(e,t){var component=this.component,n="standard"===component.option("scrolling.mode")&&"virtual"!==component.option("scrolling.rowRenderingMode"),o=e.rowIndex+1;n?o=component.pageIndex()*component.pageSize()+o:o+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",o,t)},_afterRowPrepared:function(e){var t=this,n=e.args[0],o=this._dataController,l=o.getVisibleRows()[n.rowIndex],d=this.option("integrationOptions.watchMethod");if(n.data&&"data"===n.rowType&&!n.isNewRow&&this.option("twoWayBindingEnabled")&&d&&l){var c=d((function(){return o.generateDataValues(n.data,n.columns)}),(function(){o.repaintRows([l.rowIndex],t.option("repaintChangesOnly"))}),{deep:!0,skipImmediate:!0});r.default.on(n.rowElement,S.default,c)}},_renderScrollable:function(e){var t=this,n=t.element();if(n.children().length||n.append("<div>"),!e&&t._loadPanel||t._renderLoadPanel(n,n.parent(),t._dataController.isLocalStore()),(e||!t.getScrollable())&&t._dataController.isLoaded()){for(var o=t.getColumns(),l=!0,i=0;i<o.length;i++)if(!o[i].width&&!o[i].minWidth){l=!1;break}(t.option("columnAutoWidth")||t._hasHeight||l||t._columnsController._isColumnFixing())&&t._renderScrollableCore(n)}},_handleScroll:function(e){var t=this,n=t.option("rtlEnabled");t._isScrollByEvent=!!e.event,t._scrollTop=e.scrollOffset.top,t._scrollLeft=e.scrollOffset.left,n&&(this._scrollRight=F(e.component)-this._scrollLeft),t.scrollChanged.fire(e.scrollOffset,t.name)},_renderScrollableCore:function(e){var t=this,n=t._createScrollableOptions(),o=t._handleScroll.bind(t);n.onScroll=o,n.onStop=o,t._scrollable=t._createComponent(e,y.default,n),t._scrollableContainer=t._scrollable&&t._scrollable._$container},_renderLoadPanel:_.renderLoadPanel,_renderContent:function(e,t){return e.empty().append(t),this._findContentElement()},_updateContent:function(e,t){var n=this,o=n.getTableElement(),l=n._findContentElement(),r=t&&t.changeType,d=[],c=this.option("highlightChanges"),m=this.addWidgetPrefix("row-inserted-animation");switch(r){case"update":(0,f.each)(t.rowIndices,(function(l,r){var f=n._getRowElements(e).eq(l),v=t.changeTypes&&t.changeTypes[l],C=t.items&&t.items[l];d.push((function(){var e=n._getRowElements(),d=e.eq(r);switch(v){case"update":if(C){var x=t.columnIndices&&t.columnIndices[l];(0,h.isDefined)(C.visible)&&C.visible!==d.is(":visible")?d.toggle(C.visible):x?n._updateCells(d,f,x):d.replaceWith(f)}break;case"insert":if(e.length)d.length?f.insertBefore(d):f.insertAfter(e.last());else if(o){var _=f.is("tbody")?o:o.children("tbody");f.prependTo(_)}c&&t.isLiveUpdate&&f.addClass(m);break;case"remove":d.remove()}}))})),(0,f.each)(d,(function(){this()})),e.remove();break;default:n.setTableElement(e),l.addClass(n.addWidgetPrefix("content")),n._renderContent(l,e)}},_createEmptyRow:function(e,t,n){var o,l=this,r=l._createRow(),d=t?this.getFixedColumns():this.getColumns();r.addClass(e).toggleClass(A,l.option("showColumnLines"));for(var i=0;i<d.length;i++)o=l._createCell({column:d[i],rowType:"freeSpace",columnIndex:i,columns:d}),(0,h.isNumeric)(n)&&o.css("height",n),r.append(o);return l.setAria("role","presentation",r),r},_appendEmptyRow:function(e,t,n){var o=this._getBodies(e),l=!o.length||t.is("tbody"),r=l?e:o;if("top"===n){if(r.first().prepend(t),l){var d=r.children("colgroup");r.prepend(d)}}else r.last().append(t)},_renderFreeSpaceRow:function(e){var t=this._createEmptyRow(B);t=this._wrapRowIfNeed(e,t),this._appendEmptyRow(e,t)},_checkRowKeys:function(e){var t=this,n=t._getRows(e),o=t._dataController.store()&&t._dataController.store().key();o&&n.some((function(e){if("data"===e.rowType&&void 0===e.key)return t._dataController.fireError("E1046",o),!0}))},_needUpdateRowHeight:function(e){return e>0&&!this._rowHeight},_getRowsHeight:function(e){return e.children("tbody").children().not(".dx-virtual-row").not(".dx-freespace-row").toArray().reduce((function(e,t){return e+(0,v.getBoundingRect)(t).height}),0)},_updateRowHeight:function(){var e=this,t=e.getTableElement(),n=e._dataController.items().length;if(t&&e._needUpdateRowHeight(n)){var o=e._getRowsHeight(t);e._rowHeight=o/n}},_findContentElement:function(){var e=this.element(),t=this.getScrollable();if(e)return t&&(e=t.$content()),e.children().first()},_getRowElements:function(e){var t=this.callBase(e);return t&&t.not(".dx-freespace-row")},_getFreeSpaceRowElements:function(e){var t=e||this.getTableElements();return t&&t.children("tbody").children(".dx-freespace-row")},_getNoDataText:function(){return this.option("noDataText")},_rowClick:function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",(0,m.extend)({evaluate:function(e){return(0,x.compileGetter)(e)(t.data)}},e,t))},_rowDblClick:function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",(0,m.extend)({},e,t))},_getColumnsCountBeforeGroups:function(e){for(var i=0;i<e.length;i++)if("groupExpand"===e[i].type)return i;return 0},_getGroupCellOptions:function(e){var t=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+t;return{columnIndex:n,colspan:e.columns.length-n-1}},_renderCells:function(e,t){"group"===t.row.rowType?this._renderGroupedCells(e,t):t.row.values&&this.callBase(e,t)},_renderGroupedCells:function(e,t){for(var n,o,l=t.row,r=t.columns,d=l.rowIndex,c=this._getGroupCellOptions(t),i=0;i<=c.columnIndex;i++)i===c.columnIndex&&r[i].allowCollapsing&&"infinite"!==t.scrollingMode?(o=!!l.isExpanded,n=r[i]):(o=null,n={command:"expand",cssClass:r[i].cssClass}),this._renderCell(e,{value:o,row:l,rowIndex:d,column:n,columnIndex:i});var h=(0,v.getDefaultAlignment)(this.option("rtlEnabled")),f=(0,m.extend)({},r[c.columnIndex],{command:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:h});c.colspan>1&&(f.colspan=c.colspan),this._renderCell(e,{value:l.values[l.groupIndex],row:l,rowIndex:d,column:f,columnIndex:c.columnIndex})},_renderRows:function(e,t){var n=this,o=n.option("scrolling.mode");n.callBase(e,(0,m.extend)({scrollingMode:o},t)),n._checkRowKeys(t.change),n._renderFreeSpaceRow(e),n._hasHeight||n.updateFreeSpaceRowHeight(e)},_renderRow:function(e,t){var n=this,o=t.row,l=n.option("rowTemplate");"data"!==o.rowType&&"group"!==o.rowType||(0,h.isDefined)(o.groupIndex)||!l?n.callBase(e,t):n.renderTemplate(e,l,(0,m.extend)({columns:t.columns},o),!0)},_renderTable:function(e){var t=this,n=t.callBase(e);return(0,h.isDefined)(t.getTableElement())?t._renderScrollable():(t.setTableElement(n),t._renderScrollable(!0),t.resizeCompleted.add((function e(){var n=t.getScrollable();n&&t.element().closest((0,l.getWindow)().document).length&&(t.resizeCompleted.remove(e),n._visibilityChanged(!0))}))),n},_createTable:function(){var e=this.callBase.apply(this,arguments);return this.option("rowTemplate")&&e.appendTo(this.component.$element()),e},_renderCore:function(e){var t=this,n=t.element();n.addClass(t.addWidgetPrefix("rowsview")).toggleClass(t.addWidgetPrefix("nowrap"),!t.option("wordWrapEnabled")),n.toggleClass("dx-empty",0===t._dataController.items().length),t.setAria("role","presentation",n);var o=t._renderTable({change:e});t._updateContent(o,e),t.callBase(e),t._lastColumnWidths=null},_getRows:function(e){return e&&e.items||this._dataController.items()},_getCellOptions:function(e){var t=e.column,n=e.row,data=n.data,o=n&&n.summaryCells,l=e.value,r=(0,_.getDisplayValue)(t,l,data,n.rowType),d=this.callBase(e);if(d.value=l,d.oldValue=e.oldValue,d.displayValue=r,d.row=n,d.key=n.key,d.data=data,d.rowType=n.rowType,d.values=n.values,d.text=t.command?"":(0,_.formatValue)(r,t),d.rowIndex=n.rowIndex,d.summaryItems=o&&o[e.columnIndex],d.resized=t.resizedCallbacks,(0,h.isDefined)(t.groupIndex)&&!t.command){var c=this.option("grouping.texts"),f=this.option("scrolling.mode");"virtual"!==f&&"infinite"!==f&&(d.groupContinuesMessage=data&&data.isContinuationOnNextPage&&c&&c.groupContinuesMessage,d.groupContinuedMessage=data&&data.isContinuation&&c&&c.groupContinuedMessage)}return d},_setRowsOpacityCore:function(e,t,n,l){var r=this._columnsController,d=r.getColumns(),c=d&&d[n],m=c&&c.isBand&&c.index;(0,f.each)(e,(function(d,c){if(!(0,o.default)(c).hasClass(E))for(var i=0;i<t.length&&(!((0,h.isNumeric)(m)&&r.isParentBandColumn(t[i].index,m)||t[i].index===n)||(e.eq(d).children().eq(i).css({opacity:l}),(0,h.isNumeric)(m)));i++);}))},_getDevicePixelRatio:function(){return(0,l.getWindow)().devicePixelRatio},renderNoDataText:_.renderNoDataText,getCellOptions:function(e,t){var n,o,l=this._dataController.items()[e];return l&&(o=(0,h.isString)(t)?this._columnsController.columnOption(t):this._columnsController.getVisibleColumns()[t])&&(n=this._getCellOptions({value:o.calculateCellValue(l.data),rowIndex:l.rowIndex,row:l,column:o})),n},getRow:function(e){if(e>=0){var t=this._getRowElements();if(t.length>e)return(0,o.default)(t[e])}},updateFreeSpaceRowHeight:function(e){var t=this,n=this._dataController,o=n.items(!0).length,l=this._findContentElement(),r=this._getFreeSpaceRowElements(e);if(r&&l&&n.totalCount()>=0){var h=!1;if(o>0)if(this._hasHeight)r.hide(),(0,d.deferUpdate)((function(){var n=t.getScrollbarWidth(!0),o=t.element().height()-n,c=o-l.outerHeight()>0,f=t._getRowsHeight(l.children().first()),m=e||t.getTableElements(),v=o-f-Math.ceil(parseFloat(m.css("borderTopWidth")))-t._getHeightCorrection();c&&(0,d.deferRender)((function(){r.css("height",v),h=!0,r.show()})),(0,d.deferRender)((function(){return t._updateLastRowBorder(h)}))}));else{var f=n.pageSize()-o,m=this.option("scrolling.mode");f>0&&n.pageCount()>1&&"virtual"!==m&&"infinite"!==m&&(c.default.setHeight(r,f*this._rowHeight),h=!0),!h&&e?c.default.setHeight(r,0):r.toggle(h),this._updateLastRowBorder(h)}else r.css("height",0),r.show(),this._updateLastRowBorder(!0)}},_getHeightCorrection:function(){var e=I.default.webkit&&this._getDevicePixelRatio()>=2,t=I.default.mozilla&&I.default.version>=70&&!this.option("showRowLines");return e||t?1:0},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&(this.callBase(e),this._fireColumnResizedCallbacks())},getScrollable:function(){return this._scrollable},init:function(){var e=this,t=e.getController("data");e.callBase(),e._editorFactoryController=e.getController("editorFactory"),e._rowHeight=0,e._scrollTop=0,e._scrollLeft=-1,e._scrollRight=0,e._hasHeight=!1,t.loadingChanged.add((function(t,n){e.setLoading(t,n)})),t.dataSourceChanged.add((function(){e._scrollLeft>=0&&e._handleScroll({component:e.getScrollable(),scrollOffset:{top:e._scrollTop,left:e._scrollLeft}})}))},_handleDataChanged:function(e){switch(e.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,e);break;default:this._update(e)}},publicMethods:function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]},contentWidth:function(){return this.element().width()-this.getScrollbarWidth()},getScrollbarWidth:function(e){var t,n=this._scrollableContainer&&this._scrollableContainer.get(0),o=0;return n&&(e?(o=n.clientHeight?n.offsetHeight-n.clientHeight:0,o+=(t=this.getScrollable())?Math.ceil(parseFloat(t.$content().css("paddingBottom"))):0):o=n.clientWidth?n.offsetWidth-n.clientWidth:0),o>0?o:0},_fireColumnResizedCallbacks:function(){for(var e=this,t=e._lastColumnWidths||[],n=[],o=e.getColumns(),i=0;i<o.length;i++)n[i]=o[i].visibleWidth,o[i].resizedCallbacks&&!(0,h.isDefined)(o[i].groupIndex)&&t[i]!==n[i]&&o[i].resizedCallbacks.fire(n[i]);e._lastColumnWidths=n},_updateLastRowBorder:function(e){this.option("showBorders")&&this.option("showRowLines")&&!e?this.element().addClass(V):this.element().removeClass(V)},_updateScrollable:function(){var e=y.default.getInstance(this.element());e&&(e.update(),this._updateHorizontalScrollPosition())},_updateHorizontalScrollPosition:function(){var e=this.getScrollable(),t=e&&e.scrollOffset().left;if(this.option("rtlEnabled")){var n=F(e);n-t!==this._scrollRight&&(this._scrollLeft=n-this._scrollRight)}this._scrollLeft>=0&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})},_resizeCore:function(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),(0,d.deferRender)((function(){e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),(0,d.deferUpdate)((function(){e._updateScrollable()}))}))},scrollTo:function(e){var t=this.element(),n=t&&y.default.getInstance(t);n&&n.scrollTo(e)},height:function(e,t){var n=this,o=this.element();if(0===arguments.length)return o?o.outerHeight(!0):0;n._hasHeight=void 0===t?"auto"!==e:t,(0,h.isDefined)(e)&&o&&c.default.setHeight(o,e)},setLoading:function(e,t){var n=this,o=n._loadPanel,r=n._dataController,d=n.option("loadPanel")||{},c=r.isLoaded()?d.animation:null,h=n.element();if((0,l.hasWindow)()&&(!o&&void 0!==t&&r.isLocalStore()&&"auto"===d.enabled&&h&&(n._renderLoadPanel(h,h.parent()),o=n._loadPanel),o)){var f={message:t||d.text,animation:c,visible:e};clearTimeout(n._hideLoadingTimeoutID),o.option("visible")&&!e?n._hideLoadingTimeoutID=setTimeout((function(){o.option(f)}),200):o.option(f)}},setRowsOpacity:function(e,t){var n=this._getRowElements().not(".dx-group-row")||[];this._setRowsOpacityCore(n,this.getColumns(),e,t)},_getCellElementsCore:function(e){var t=this.callBase.apply(this,arguments);if(t){var n=t.filter(".dx-group-cell").index();if(n>=0&&t.length>n+1)return t.slice(0,n+1)}return t},getTopVisibleItemIndex:function(e){var t=this,n=0,o=0,l=0,r=t._scrollTop,d=t._findContentElement(),c=d&&d.offset().top,h=t._dataController.items(),f=t.getTableElement();if(h.length&&f){var m=t._getRowElements(f).filter(":visible");for(n=0;n<h.length;n++){o=l;var v=m.eq(n);if(v.length&&(l=v.offset().top-c)>r){n&&(e||2*r<Math.round(l+o))&&n--;break}}n&&n===h.length&&n--}return n},getTopVisibleRowData:function(){var e=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[e])return t[e].data},_scrollToElement:function(e,t){var n=this.getScrollable();n&&n.scrollToElement(e,t)},optionChanged:function(e){var t=this;switch(t.callBase(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"twoWayBindingEnabled":t._invalidate(!0,!0),e.handled=!0;break;case"scrolling":t._rowHeight=null,t._tableElement=null,e.handled=!0;break;case"rtlEnabled":t._rowHeight=null,t._tableElement=null;break;case"loadPanel":t._tableElement=null,t._invalidate(!0,"loadPanel.enabled"!==e.fullName),e.handled=!0;break;case"noDataText":t.renderNoDataText(),e.handled=!0}},dispose:function(){clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()},setScrollerSpacing:function(){}}))}}},1735:function(e,t,n){"use strict";var o,l=n(6),r=n(2),d=n(1),c=n(1736),h=(o=c)&&o.__esModule?o:{default:o},f=n(19);var m=function(e){var t=e.getController("columns"),n=e.getController("selection"),o=e.getController("export"),l=e.getController("data");t&&t.columnsChanged.add((function(){e.updateState({columns:t.getUserState()})})),n&&n.selectionChanged.add((function(t){e.updateState({selectedRowKeys:t.selectedRowKeys,selectionFilter:t.selectionFilter})})),l&&(e._initialPageSize=e.option("paging.pageSize"),e._initialFilterValue=e.option("filterValue"),l.changed.add((function(){var t=function(e){var t=e.getView("pagerView"),n=e.getController("data"),o={allowedPageSizes:t?t.getPageSizes():void 0,filterPanel:{filterEnabled:e.option("filterPanel.filterEnabled")},filterValue:e.option("filterValue"),focusedRowKey:e.option("focusedRowEnabled")?e.option("focusedRowKey"):void 0};return(0,d.extend)(o,n.getUserState())}(e);e.updateState(t)}))),o&&o.selectionOnlyChanged.add((function(){e.updateState({exportSelectionOnly:o.selectionOnly()})}))};e.exports={defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:h.default.StateStoringController},extenders:{views:{rowsView:{init:function(){var e=this,t=e.getController("data");e.callBase(),t.stateLoaded.add((function(){if(t.isLoaded()&&!t.getDataSource()){e.setLoading(!1),e.renderNoDataText();var n=e.component.getView("columnHeadersView");n&&n.render(),e.component._fireContentReadyAction()}}))}}},controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),m(this)},isLoading:function(){return this.callBase()||this.getController("data").isStateLoading()},state:function(e){var t=this.callBase.apply(this,arguments);return void 0!==e&&this.applyState((0,d.extend)({},e)),t},updateState:function(e){if(this.isEnabled()){var t=this.state(),n=(0,d.extend)({},t,e),o=(0,l.getKeyHash)(t),r=(0,l.getKeyHash)(n);(0,l.equalByValue)(o,r)||((0,d.extend)(this._state,e),this.save())}else(0,d.extend)(this._state,e)},applyState:function(e){var t=this,n=e.allowedPageSizes,o=e.searchText,l=e.selectedRowKeys,d=e.selectionFilter,c=t.getController("export"),h=t.getController("columns"),f=t.getController("data"),m=t.option("scrolling.mode"),v="virtual"===m||"infinite"===m,C=!0===t.option("pager.visible")&&t.option("pager.showPageSizeSelector");t.component.beginUpdate(),h&&h.setUserState(e.columns),c&&c.selectionOnly(e.exportSelectionOnly),l&&t.option("selectedRowKeys",l),t.option("selectionFilter",d),n&&"auto"===t.option("pager.allowedPageSizes")&&(t.option("pager").allowedPageSizes=n),t.option("focusedRowEnabled")&&void 0!==e.focusedRowKey&&t.option("focusedRowKey",e.focusedRowKey),t.component.endUpdate(),o&&t.option("searchPanel.text",o),t.option("filterValue",function(e,t){var n=e.getController("filterSync"),o=e.getController("columns"),l=t.columns||void 0!==t.filterValue;return n?l?t.filterValue||n.getFilterValueFromColumns(t.columns):e._initialFilterValue||n.getFilterValueFromColumns(o.getColumns()):null}(t,e)),t.option("filterPanel.filterEnabled",!e.filterPanel||e.filterPanel.filterEnabled),t.option("paging.pageSize",v&&!C||!(0,r.isDefined)(e.pageSize)?t._initialPageSize:e.pageSize),t.option("paging.pageIndex",e.pageIndex||0),f&&f.reset()}},columns:{getVisibleColumns:function(){var e=this.callBase.apply(this,arguments),t=this.getController("stateStoring");return t.isEnabled()&&!t.isLoaded()?[]:e}},data:{callbackNames:function(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource:function(){var e=this,t=this.callBase,n=this.getController("stateStoring");if(n.isEnabled()&&!n.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var o=new f.Deferred;return this._restoreStateTimeoutID=setTimeout((function(){n.load().always((function(){e._restoreStateTimeoutID=null})).done((function(){t.call(e),e.stateLoaded.fire(),o.resolve()})).fail((function(t){e.stateLoaded.fire(),e._handleLoadError(t||"Unknown error"),o.reject()}))})),o.promise()}this.isStateLoading()||t.call(this)},isLoading:function(){var e=this.getController("stateStoring");return this.callBase()||e.isLoading()},isStateLoading:function(){return(0,r.isDefined)(this._restoreStateTimeoutID)},isLoaded:function(){return this.callBase()&&!this.isStateLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged:function(e){var t=this.getController("stateStoring"),n=this.option("selection.deferred");t.isLoading()&&n||this.callBase.apply(this,arguments)}}}}}},1736:function(e,t,n){"use strict";var o=x(n(14)),l=n(20),r=x(n(76)),d=x(n(56)),c=x(n(50)),h=n(1062),f=n(1),m=n(10),v=n(2),C=n(19);function x(e){return e&&e.__esModule?e:{default:e}}var _,w,y=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,S=function e(t){t&&(0,m.each)(t,(function(n,o){if((0,v.isPlainObject)(o)||Array.isArray(o))e(o);else if("string"==typeof o){var l=y.exec(o);l&&(t[n]=new Date(Date.UTC(+l[1],+l[2]-1,+l[3],+l[4],+l[5],+l[6])))}}))};t.StateStoringController=r.default.ViewController.inherit((_=function(e){var t="sessionStorage"===e.type?(0,h.sessionStorage)():(0,l.getWindow)().localStorage;if(!t)throw"file:"===(0,l.getWindow)().location.protocol&&c.default.msie?new Error("E1038"):new Error("E1007");return t},w=function(e){return(0,v.isDefined)(e.storageKey)?e.storageKey:"storage"},{_loadState:function(){var e=this.option("stateStoring");if("custom"===e.type)return e.customLoad&&e.customLoad();try{return JSON.parse(_(e).getItem(w(e)))}catch(e){d.default.log(e.message)}},_saveState:function(e){var t=this.option("stateStoring");if("custom"!==t.type)try{_(t).setItem(w(t),JSON.stringify(e))}catch(e){d.default.log(e.message)}else t.customSave&&t.customSave(e)},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var e=this;return e._state={},e._isLoaded=!1,e._isLoading=!1,e._windowUnloadHandler=function(){void 0!==e._savingTimeoutID&&e._saveState(e.state())},o.default.on((0,l.getWindow)(),"unload",e._windowUnloadHandler),e},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){var e=this;this._isLoading=!0;var t=(0,C.fromPromise)(this._loadState());return t.always((function(){e._isLoaded=!0,e._isLoading=!1})).done((function(t){e.state(t)})),t},state:function(e){var t=this;if(!arguments.length)return(0,f.extend)(!0,{},t._state);t._state=(0,f.extend)({},e),S(t._state)},save:function(){var e=this;clearTimeout(e._savingTimeoutID),e._savingTimeoutID=setTimeout((function(){e._saveState(e.state()),e._savingTimeoutID=void 0}),e.option("stateStoring.savingTimeout"))},optionChanged:function(e){var t=this;switch(e.name){case"stateStoring":t.isEnabled()&&!t.isLoading()&&t.load(),e.handled=!0;break;default:t.callBase(e)}},dispose:function(){clearTimeout(this._savingTimeoutID),o.default.off((0,l.getWindow)(),"unload",this._windowUnloadHandler)}}))},1738:function(e,t,n){"use strict";var o=S(n(0)),l=S(n(14)),r=S(n(41)),d=n(71),c=n(2),h=n(10),f=n(1),m=S(n(127)),v=S(n(58)),C=S(n(30)),x=n(21),_=S(n(291)),w=S(n(1077)),y=n(19);function S(e){return e&&e.__esModule?e:{default:e}}var T,I,R="dx-editor-cell",D="dx-selection",E="dx-select-checkbox",k="dx-command-select",B="selection.showCheckBoxesMode",A="selection.mode",P=function(e,t){var n=e.getController("selection"),l=e.getView("rowsView"),r=(0,o.default)(t.target).closest(".dx-data-row"),d=l.getRowIndex(r);d<0||("onLongTap"===e.option(B)?n.isSelectionWithCheckboxes()?n.stopSelectionWithCheckboxes():n.startSelectionWithCheckboxes():("onClick"===e.option(B)&&n.startSelectionWithCheckboxes(),"always"!==e.option(B)&&n.changeItemSelection(d,{control:!0})))};t.SelectionController=r.default.Controller.inherit((T=function(e,t){var component=t.component,n=component.getView("rowsView");component.option("renderAsync")&&!component.option("selection.deferred")&&(t.value=component.isRowSelected(t.row.key)),n.renderSelectCheckBoxContainer((0,o.default)(e),t)},I=function(e,t){var n=t.column,l=(0,o.default)(e),r=t.component.getView("columnHeadersView");l.addClass(R),r._renderSelectAllCheckBox(l,n),r._attachSelectAllCheckBoxClickEvent(l)},{init:function(){this._dataController=this.getController("data"),this._selectionMode=this.option(A),this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_getSelectionConfig:function(){var e=this,t=e._dataController,n=e.option("selection")||{};return{selectedKeys:e.option("selectedRowKeys"),mode:e._selectionMode,deferred:n.deferred,maxFilterLengthInRequest:n.maxFilterLengthInRequest,selectionFilter:e.option("selectionFilter"),key:function(){return t&&t.key()},keyOf:function(e){return t&&t.keyOf(e)},dataFields:function(){return t.dataSource()&&t.dataSource().select()},load:function(e){return t.dataSource()&&t.dataSource().load(e)||(new y.Deferred).resolve([])},plainItems:function(){return t.items(!0)},isItemSelected:function(e){return e.selected},isSelectableItem:function(e){return e&&"data"===e.rowType&&!e.isNewRow},getItemData:function(e){return e&&(e.oldData||e.data||e)},filter:function(){return t.getCombinedFilter(!0)},totalCount:function(){return t.totalCount()},onSelectionChanged:e._updateSelectedItems.bind(this)}},_updateSelectColumn:function(){var e=this.getController("columns"),t=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:t,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:k,width:"auto",cellTemplate:T,headerCellTemplate:I}),e.columnOption("command:select","visible",t)},_createSelection:function(){var e=this._getSelectionConfig();return new w.default(e)},_fireSelectionChanged:function(e){e&&this.executeAction("onSelectionChanged",e);var t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t)},_updateCheckboxesState:function(e){var t=e.isDeferredMode,n=e.selectionFilter,o=e.selectedItemKeys,l=e.removedItemKeys;"onClick"===this.option(B)&&((t?n&&function(e,t){var n=0,o=e._dataController.store(),l=o&&o.key(),r=Array.isArray(l);if(!t.length)return!1;if(r&&Array.isArray(t[0])&&"and"===t[1]){for(var i=0;i<t.length;i++)if(Array.isArray(t[i])){if(t[i][0]!==l[n]||"="!==t[i][1])return!0;n++}return!1}return l!==t[0]}(this,n):o.length>1)?this.startSelectionWithCheckboxes():(t?n&&!n.length:0===o.length&&l.length)&&this.stopSelectionWithCheckboxes())},_updateSelectedItems:function(e){var t,n=this,o=n.option("selection.deferred"),l=n._selection.selectionFilter(),r=n._dataController,d=r.items();if(d){var c=n.isSelectionWithCheckboxes(),h=n.getChangedItemIndexes(d);n._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:l,isDeferredMode:o}),(h.length||c!==n.isSelectionWithCheckboxes())&&r.updateItems({changeType:"updateSelection",itemIndexes:h}),o?(n.option("selectionFilter",l),t={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(n._selectedItemsInternalChange=!0,n.option("selectedRowKeys",e.selectedItemKeys.slice(0)),n._selectedItemsInternalChange=!1,t={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),n._fireSelectionChanged(t)}},getChangedItemIndexes:function(e){for(var t=[],n=this.option("selection.deferred"),i=0,o=e.length;i<o;i++){var l=e[i],r=this.isRowSelected(n?l.data:l.key);this._selection.isDataItem(l)&&l.isSelected!==r&&t.push(i)}return t},callbackNames:function(){return["selectionChanged"]},optionChanged:function(e){var t=this;switch(t.callBase(e),e.name){case"selection":var n=t._selectionMode;t.init();var o=t._selectionMode,l=t.option("selectedRowKeys");n!==o&&("single"===o?l.length>1&&(l=[l[0]]):"multiple"!==o&&(l=[])),t.selectRows(l).always((function(){t._fireSelectionChanged()})),t.getController("columns").updateColumns(),e.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":var r=e.value||[];!Array.isArray(r)||t._selectedItemsInternalChange||!t.component.getDataSource()&&r.length||t.selectRows(r),e.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(e){return this._selection.isItemSelected(e)},isSelectColumnVisible:function(){return"multiple"===this.option(A)&&("always"===this.option(B)||"onClick"===this.option(B)||this._isSelectionWithCheckboxes)},_isOnePageSelectAll:function(){return"page"===this.option("selection.selectAllMode")},isSelectAll:function(){return this._selection.getSelectAllState(this._isOnePageSelectAll())},selectAll:function(){return"onClick"===this.option(B)&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())},deselectAll:function(){return this._selection.deselectAll(this._isOnePageSelectAll())},clearSelection:function(){return this.selectedItemKeys([])},refresh:function(){var e=this.option("selectedRowKeys")||[];return!this.option("selection.deferred")&&e.length?this.selectedItemKeys(e):(new y.Deferred).resolve().promise()},selectedItemKeys:function(e,t,n,o){return this._selection.selectedItemKeys(e,t,n,o)},getSelectedRowKeys:function(){return this._selection.getSelectedItemKeys()},selectRows:function(e,t){return this.selectedItemKeys(e,t)},deselectRows:function(e){return this.selectedItemKeys(e,!0,!0)},selectRowsByIndexes:function(e){var t=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),(0,h.each)(e,(function(){var e=t[this];e&&"data"===e.rowType&&n.push(e.key)})),this.selectRows(n)},getSelectedRowsData:function(){return this._selection.getSelectedItems()},changeItemSelection:function(e,t){return t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0),this._selection.changeItemSelection(this._dataController.getRowIndexDelta()+e,t)},focusedItemIndex:function(e){if(!(0,c.isDefined)(e))return this._selection._focusedItemIndex;this._selection._focusedItemIndex=e},isSelectionWithCheckboxes:function(){return"multiple"===this.option(A)&&("always"===this.option(B)||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){var e=this;return"multiple"===e.option(A)&&!e.isSelectionWithCheckboxes()&&(e._isSelectionWithCheckboxes=!0,e._updateSelectColumn(),!0)},stopSelectionWithCheckboxes:function(){var e=this;return!!e._isSelectionWithCheckboxes&&(e._isSelectionWithCheckboxes=!1,e._updateSelectColumn(),!0)}})),e.exports={defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}},controllers:{selection:t.SelectionController},extenders:{controllers:{data:{init:function(){var e=this.getController("selection"),t=this.option("selection.deferred");this.callBase.apply(this,arguments),t&&e._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource:function(){var e=this;return e.callBase().done((function(){e.getController("selection").refresh()}))},_processDataItem:function(e,t){var n=this,o=n.getController("selection"),l=o.isSelectColumnVisible(),r=t.isDeferredSelection=void 0===t.isDeferredSelection?this.option("selection.deferred"):t.isDeferredSelection,d=this.callBase.apply(this,arguments);if(d.isSelected=o.isRowSelected(r?d.data:d.key),l&&d.values)for(var i=0;i<t.visibleColumns.length;i++)if("select"===t.visibleColumns[i].command){d.values[i]=d.isSelected;break}return d},refresh:function(e){var t=this,n=new y.Deferred;return this.callBase.apply(this,arguments).done((function(){!e||e.selection?t.getController("selection").refresh().done(n.resolve).fail(n.reject):n.resolve()})).fail(n.reject),n.promise()},_handleDataChanged:function(e){this.callBase.apply(this,arguments),e&&"refresh"!==e.changeType||this._repaintChangesOnly||this.getController("selection").focusedItemIndex(-1)},_applyChange:function(e){var t=this;if(!e||"updateSelection"!==e.changeType)return this.callBase.apply(this,arguments);e.items.forEach((function(e,n){var o=t._items[n];o&&(o.isSelected=e.isSelected,o.values=e.values)}))},_endUpdateCore:function(){var e=this._changes,t=e.length>1&&e.every((function(e){return"updateSelection"===e.changeType}));if(t){var n=e.map((function(e){return e.itemIndexes||[]})).reduce((function(a,b){return a.concat(b)}));this._changes=[{changeType:"updateSelection",itemIndexes:n}]}this.callBase.apply(this,arguments)},push:function(e){this.callBase.apply(this,arguments);var t=e.filter((function(e){return"remove"===e.type})).map((function(e){return e.key}));t.length&&this.getController("selection").deselectRows(t)}},contextMenu:{_contextMenuPrepared:function(e){var t=e.event;t.originalEvent&&"dxhold"!==t.originalEvent.type||e.items&&e.items.length>0||P(this,t)}}},views:{columnHeadersView:{init:function(){var e=this;e.callBase(),e.getController("selection").selectionChanged.add(e._updateSelectAllValue.bind(e))},_updateSelectAllValue:function(){var e=this,t=e.element(),n=t&&t.find(".dx-select-checkbox");t&&n.length&&"multiple"===e.option("selection.mode")&&n.dxCheckBox("instance").option({visible:!e.getController("data").isEmpty(),value:e.getController("selection").isSelectAll()})},_handleDataChanged:function(e){this.callBase(e),e&&"refresh"!==e.changeType||this._updateSelectAllValue()},_renderSelectAllCheckBox:function(e,t){var n=this,l=n.getController("selection"),r=n.getController("data").isEmpty(),d=(0,o.default)("<div>").appendTo(e).addClass(E);return n.setAria("label",C.default.format("dxDataGrid-ariaSelectAll"),e),n.getController("editorFactory").createEditor(d,(0,f.extend)({},t,{parentType:"headerRow",dataType:"boolean",value:l.isSelectAll(),editorOptions:{visible:!r&&(n.option("selection.allowSelectAll")||!1!==l.isSelectAll())},tabIndex:n.option("useLegacyKeyboardNavigation")?-1:n.option("tabIndex")||0,setValue:function(e,t){var o=n.option("selection.allowSelectAll");t.component.option("visible",o||!1!==t.component.option("value")),t.event&&l.isSelectAll()!==e&&(t.value&&!o?t.component.option("value",!1):t.value?l.selectAll():l.deselectAll(),t.event.preventDefault())}})),d},_attachSelectAllCheckBoxClickEvent:function(e){l.default.on(e,v.default.name,this.createAction((function(e){var t=e.event;(0,o.default)(t.target).closest(".dx-select-checkbox").length||l.default.trigger((0,o.default)(t.currentTarget).children(".dx-select-checkbox"),v.default.name),t.preventDefault()})))}},rowsView:{renderSelectCheckBoxContainer:function(e,t){"data"!==t.rowType||t.row.isNewRow?(0,d.setEmptyText)(e):(e.addClass(R),this._attachCheckBoxClickEvent(e),this.setAria("label",C.default.format("dxDataGrid-ariaSelectRow"),e),this._renderSelectCheckBox(e,t))},_renderSelectCheckBox:function(e,t){var n=(0,o.default)("<div>").addClass(E).appendTo(e);return this.getController("editorFactory").createEditor(n,(0,f.extend)({},t.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:t.value,setValue:function(e,t){var n;"keydown"===(null==t||null===(n=t.event)||void 0===n?void 0:n.type)&&l.default.trigger(t.element,v.default.name,t)},row:t.row})),n},_attachCheckBoxClickEvent:function(e){l.default.on(e,v.default.name,this.createAction((function(e){var t=this.getController("selection"),n=e.event,l=this.getRowIndex((0,o.default)(n.currentTarget).closest(".dx-row"));l>=0&&(t.startSelectionWithCheckboxes(),t.changeItemSelection(l,{shift:n.shiftKey}),(0,o.default)(n.target).closest(".dx-select-checkbox").length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[l]}))})))},_update:function(e){var t=this,n=t.getTableElements();"updateSelection"===e.changeType?n.length>0&&((0,h.each)(n,(function(n,l){(0,h.each)(e.itemIndexes||[],(function(n,r){var d;if(e.items[r]&&(d=t._getRowElements((0,o.default)(l)).eq(r)).length){var c=e.items[r].isSelected;d.toggleClass(D,void 0!==c&&c).find(".dx-select-checkbox").dxCheckBox("option","value",c),t.setAria("selected",c,d)}}))})),t._updateCheckboxesClass()):t.callBase(e)},_createTable:function(){var e=this,t=e.option("selection.mode"),n=e.callBase.apply(e,arguments);return"none"!==t&&("onLongTap"!==e.option(B)&&m.default.touch||l.default.on(n,(0,x.addNamespace)(_.default.name,"dxDataGridRowsView"),".dx-data-row",e.createAction((function(t){P(e.component,t.event),t.event.stopPropagation()}))),l.default.on(n,"mousedown selectstart",e.createAction((function(e){var t=e.event;t.shiftKey&&t.preventDefault()})))),n},_createRow:function(e){var t=this.callBase(e);if(e){var n=!!e.isSelected;n&&t.addClass(D),this.setAria("selected",n,t)}return t},_rowClick:function(e){var t=this,n=e.event,l=(0,o.default)(n.target).closest(".dx-selection-disabled").length;t.isClickableElement((0,o.default)(n.target))||(l||"multiple"===t.option(A)&&"always"===t.option(B)||t.getController("selection").changeItemSelection(e.rowIndex,{control:(0,x.isCommandKeyPressed)(n),shift:n.shiftKey})&&(n.preventDefault(),e.handled=!0),t.callBase(e))},isClickableElement:function(e){return!!e.closest(".dx-command-select").length},_renderCore:function(e){this.callBase(e),this._updateCheckboxesClass()},_updateCheckboxesClass:function(){var e=this.getTableElements(),t=this.getController("selection"),n=t.isSelectColumnVisible()&&!t.isSelectionWithCheckboxes();(0,h.each)(e,(function(e,t){(0,o.default)(t).toggleClass("dx-select-checkboxes-hidden",n)}))}}}}}},1804:function(e,t,n){"use strict";var o=v(n(0)),l=v(n(27)),r=n(2),d=n(70),c=n(10),h=n(71),f=v(n(30)),m=v(n(153));function v(e){return e&&e.__esModule?e:{default:e}}var C,x="search-panel",_="search-text";function w(e){return(0,r.isDefined)(e.allowSearch)?e.allowSearch:e.allowFiltering}function y(e,text){var t=e.lookup;return e.parseValue?t?e.parseValue.call(t,text):e.parseValue(text):text}e.exports={defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:f.default.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}},extenders:{controllers:{data:{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var e=this,filter=e.callBase(),t=function(e,text){var i,t,n,o=e._columnsController.getColumns(),l=e.option("searchPanel.searchVisibleColumnsOnly"),r=[];if(!text)return null;function c(e){for(var o=(0,d.compileGetter)(n.valueExpr),l=0;l<e.length;l++){var c=o(e[l]);r.push(t.createFilterExpression(c,null,"search"))}}for(i=0;i<o.length;i++)if(t=o[i],(!l||t.visible)&&w(t)&&t.calculateFilterExpression){n=t.lookup;var f=y(t,text);n&&n.items?(0,m.default)(n.items).filter(t.createFilterExpression.call({dataField:n.displayExpr,dataType:n.dataType,calculateFilterExpression:t.calculateFilterExpression},f,null,"search")).enumerate().done(c):void 0!==f&&r.push(t.createFilterExpression(f,null,"search"))}return(0,h.combineFilters)(r,"or")}(e,e.option("searchPanel.text"));return(0,h.combineFilters)([filter,t])},searchByText:function(text){this.option("searchPanel.text",text)},optionChanged:function(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}},views:{headerPanel:(C=function(e){return e.option("searchPanel")},{_getToolbarItems:function(){var e=this.callBase();return this._prepareSearchItem(e)},_prepareSearchItem:function(e){var t=this,n=t.getController("data"),l=C(t);if(l&&l.visible){var r={template:function(data,e,r){var d=(0,o.default)("<div>").addClass(t.addWidgetPrefix(x)).appendTo(r);t.getController("editorFactory").createEditor(d,{width:l.width,placeholder:l.placeholder,parentType:"searchPanel",value:t.option("searchPanel.text"),updateValueTimeout:700,setValue:function(e){n.searchByText(e)},editorOptions:{inputAttr:{"aria-label":f.default.format("dxDataGrid-ariaSearchInGrid")}}}),t.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(r)}return e},getSearchTextEditor:function(){var e=this,t=e.element(),n=t.find("."+e.addWidgetPrefix(x)).filter((function(){return(0,o.default)(this).closest("."+e.addWidgetPrefix("header-panel")).is(t)}));return n.length?n.dxTextBox("instance"):null},isVisible:function(){var e=C(this);return this.callBase()||e&&e.visible},optionChanged:function(e){if("searchPanel"===e.name){if("searchPanel.text"===e.fullName){var t=this.getSearchTextEditor();t&&t.option("value",e.value)}else this._invalidate();e.handled=!0}else this.callBase(e)}}),rowsView:{init:function(){this.callBase.apply(this,arguments),this._searchParams=[]},_getFormattedSearchText:function(e,t){var n=y(e,t),o=(0,h.getFormatOptionsByColumn)(e,"search");return(0,h.formatValue)(n,o)},_getStringNormalizer:function(){var e=this.option("searchPanel.highlightCaseSensitive");return function(t){return e?t:t.toLowerCase()}},_findHighlightingTextNodes:function(e,t,n){var l,r,d=t.parent(),c=this._getStringNormalizer(),h=c(n);if(d.length){if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)r=t;else{var f=this._columnsController.getVisibleIndex(e.index);r=d.children("td").eq(f).find("*")}}else d=(0,o.default)("<div>").append(t);return r=(r=null!==(l=r)&&void 0!==l&&l.length?r:d.find("*")).filter((function(e,element){for(var t=(0,o.default)(element).contents(),i=0;i<t.length;i++){var n=t.get(i);return 3===n.nodeType&&c(n.textContent||n.nodeValue).indexOf(h)>-1}}))},_highlightSearchTextCore:function(e,t){var n=(0,o.default)("<span>").addClass(this.addWidgetPrefix(_)),text=e.text(),r=e[0],d=this._getStringNormalizer(),c=d(text).indexOf(d(t));if(c>=0)return r.textContent?r.textContent=text.substr(0,c):r.nodeValue=text.substr(0,c),e.after(n.text(text.substr(c,t.length))),e=(0,o.default)(l.default.createTextNode(text.substr(c+t.length))).insertAfter(n),this._highlightSearchTextCore(e,t)},_highlightSearchText:function(e,t,n){var l=this,r=this._getStringNormalizer(),d=l.option("searchPanel.text");if(t&&n&&(d=d&&l._getFormattedSearchText(n,d)),d&&l.option("searchPanel.highlightSearchText")){var h=l._findHighlightingTextNodes(n,e,d);(0,c.each)(h,(function(e,element){(0,c.each)((0,o.default)(element).contents(),(function(e,n){t?r((0,o.default)(n).text())===r(d)&&(0,o.default)(this).replaceWith((0,o.default)("<span>").addClass(l.addWidgetPrefix(_)).text((0,o.default)(n).text())):l._highlightSearchTextCore((0,o.default)(n),d)}))}))}},_renderCore:function(){this.callBase.apply(this,arguments),this.option("rowTemplate")&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){this._highlightSearchText(this.getTableElement())}.bind(this))):this._highlightSearchText(this.getTableElement()))},_updateCell:function(e,t){var n=t.column,o="string"!==(n.lookup&&n.lookup.dataType||n.dataType);w(n)&&!t.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){this._searchParams.forEach(function(e){this._highlightSearchText.apply(this,e)}.bind(this)),this._searchParams=[]}.bind(this))),this._searchParams.push([e,o,n])):this._highlightSearchText(e,o,n)),this.callBase(e,t)},dispose:function(){clearTimeout(this._highlightTimer),this.callBase()}}}}}},1836:function(e,t,n){"use strict";var o=h(n(0)),l=n(1),r=h(n(1091)),d=n(71),c=h(n(50));function h(e){return e&&e.__esModule?e:{default:e}}var f="dx-command-drag",m="dx-sortable-without-handle",v={init:function(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering:function(){var e=this.option("rowDragging");return!(!e||!(e.allowReordering||e.allowDropInsideItem||e.group))},_updateHandleColumn:function(){var e=this.option("rowDragging"),t=this._allowReordering(),n=this._columnsController,o=t&&e.showDragIcons;n&&n.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",cssClass:f,width:"auto",cellTemplate:this._getHandleTemplate(),visible:o}),n.columnOption("type:drag","visible",o)},_renderContent:function(){var e=this,t=this.option("rowDragging"),n=this._allowReordering(),o=this.callBase.apply(this,arguments),d=this._isFixedTableRendering,h="_sortable",v="_sortableFixed",C=d?v:h,x=d?h:v,_=function(t){var n;null===(n=e[v])||void 0===n||n.$element().css("pointerEvents",t?"auto":"")};return(n||this[C])&&o.length&&(this[C]=this._createComponent(o,r.default,(0,l.extend)({component:this.component,contentTemplate:null,filter:"> table > tbody > .dx-row:not(.dx-freespace-row):not(.dx-virtual-row)",dragTemplate:this._getDraggableRowTemplate(),handle:t.showDragIcons&&".".concat(f),dropFeedbackMode:"indicate"},t,{onDragStart:function(e){var o,l=e.component.getVisibleRows()[e.fromIndex];e.itemData=l&&l.data;var r=l&&"data"===l.rowType;e.cancel=!n||!r,null===(o=t.onDragStart)||void 0===o||o.call(t,e)},onDragEnter:function(){_(!0)},onDragLeave:function(){_(!1)},onDragEnd:function(e){var n;_(!1),null===(n=t.onDragEnd)||void 0===n||n.call(t,e)},dropFeedbackMode:c.default.msie?"indicate":t.dropFeedbackMode,onOptionChanged:function(t){e[v]&&("fromIndex"!==t.name&&"toIndex"!==t.name||e[x].option(t.name,t.value))}})),o.toggleClass(m,n&&!t.showDragIcons)),o},_getDraggableGridOptions:function(e){var t=this.option(),n=this.getColumns(),l=(0,o.default)(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:!1},pager:{visible:!1},loadingTimeout:void 0,columnFixing:t.columnFixing,columnAutoWidth:t.columnAutoWidth,showColumnLines:t.showColumnLines,columns:n.map((function(e){return{width:e.width||e.visibleWidth,fixed:e.fixed,fixedPosition:e.fixedPosition}})),onRowPrepared:function(e){var t=e.component.getView("rowsView");(0,o.default)(e.rowElement).replaceWith(l.eq(t._isFixedTableRendering?1:0).clone())}}},_getDraggableRowTemplate:function(){var e=this;return function(t){var n=e.component.$element(),l=(0,o.default)("<div>").width(n.width()),r=e._dataController.items(),d=r&&r[t.fromIndex],c=e._getDraggableGridOptions(d);return e._createComponent(l,e.component.NAME,c),l.find(".dx-gridbase-container").children(":not(.".concat(e.addWidgetPrefix("rowsview"),")")).hide(),l}},_getHandleTemplate:function(){var e=this;return function(t,n){if("data"===n.rowType)return(0,o.default)(t).addClass("dx-cell-focus-disabled"),(0,o.default)("<span>").addClass(e.addWidgetPrefix("drag-icon"));(0,d.setEmptyText)((0,o.default)(t))}},optionChanged:function(e){"rowDragging"===e.name&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),this.callBase.apply(this,arguments)}};e.exports={defaultOptions:function(){return{rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}},extenders:{views:{rowsView:v}}}},71:function(e,t,n){"use strict";var o=I(n(0)),l=n(2),r=n(19),d=n(342),c=n(120),h=n(10),f=n(1),m=n(75),v=n(70),C=n(6),x=I(n(1086)),_=n(109),w=I(n(727)),y=n(222),S=n(20),T=I(n(14));function I(e){return e&&e.__esModule?e:{default:e}}var R={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}};e.exports=function(){var t=function(){var data=arguments[1],e=this.calculateCellValue(data);if(!(0,l.isDefined)(e))return null;if(n(this.dataType)){var t=arguments[0];return R[t](e)}if("number"===this.dataType){var o=arguments[0];return Math.floor(Number(e)/o)*o}};function n(e){return"date"===e||"datetime"===e}var I=function(e){e.get(0).textContent=" "},D=function(e){var t=e.data&&e.data(),n=t&&t.dxComponents,o=n&&n[0];return o&&t[o]};return{renderNoDataText:function(e){if(e=e||this.element()){var t=this.addWidgetPrefix("nodata"),n=e.find("."+t).last(),l=this._dataController.isEmpty(),r=this._dataController.isLoading();n.length||(n=(0,o.default)("<span>").addClass(t).appendTo(e)),l&&!r?n.removeClass("dx-hidden").text(this._getNoDataText()):n.addClass("dx-hidden")}},renderLoadPanel:function(e,t,n){var l,r=this;r._loadPanel&&r._loadPanel.$element().remove(),(l=r.option("loadPanel"))&&("auto"===l.enabled?!n:l.enabled)?(l=(0,f.extend)({shading:!1,message:l.text,position:function(){var t=(0,o.default)((0,S.getWindow)());return e.height()>t.height()?{of:t,boundary:e,collision:"fit"}:{of:e}},container:t},l),r._loadPanel=r._createComponent((0,o.default)("<div>").appendTo(t),x.default,l)):r._loadPanel=null},getIndexByKey:function(e,t,n){var o=-1;if(void 0!==e&&Array.isArray(t)){n=arguments.length<=2?"key":n;for(var i=0;i<t.length;i++){var r=(0,l.isDefined)(n)?t[i][n]:t[i];if((0,C.equalByValue)(e,r)){o=i;break}}}return o},combineFilters:function(e,t){var n=[];t=t||"and";for(var i=0;i<e.length;i++)e[i]&&(n.length&&n.push(t),n.push(e[i]));if(1===n.length&&(n=n[0]),n.length)return n},checkChanges:function(e,t){for(var n=0,i=0;i<t.length;i++)e[t[i]]&&n++;return e.length&&e.length===n},equalFilterParameters:function(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!e.exports.equalFilterParameters(t[i],n[i]))return!1;return!0}return(0,l.isFunction)(t)&&t.columnIndex>=0&&(0,l.isFunction)(n)&&n.columnIndex>=0?t.columnIndex===n.columnIndex&&(0,v.toComparable)(t.filterValue)===(0,v.toComparable)(n.filterValue):(0,v.toComparable)(t)==(0,v.toComparable)(n)},proxyMethod:function(e,t,n){e[t]||(e[t]=function(){var e=this._dataSource;return e?e[t].apply(e,arguments):n})},formatValue:function(e,t){var n=w.default.format(e,t.format)||e&&e.toString()||"",o={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(n):n,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,o):o.valueText},getFormatOptionsByColumn:function(e,t){return{format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:t,trueText:e.trueText,falseText:e.falseText}},getDisplayValue:function(e,t,data,n){return e.displayValueMap&&void 0!==e.displayValueMap[t]?e.displayValueMap[t]:e.calculateDisplayValue&&data&&"group"!==n?e.calculateDisplayValue(data):!e.lookup||"group"===n&&(e.calculateGroupValue||e.calculateDisplayValue)?t:e.lookup.calculateCellValue(t)},getGroupRowSummaryText:function(t,n){for(var o="(",i=0;i<t.length;i++){var l=t[i];o+=(i>0?", ":"")+e.exports.getSummaryText(l,n)}return o+")"},getSummaryText:function(e,t){var n=e.displayFormat||e.columnCaption&&t[e.summaryType+"OtherColumn"]||t[e.summaryType];return this.formatValue(e.value,{format:e.valueFormat,getDisplayFormat:function(t){return n?(0,c.format)(n,t,e.columnCaption):t},customizeText:e.customizeText})},normalizeSortingInfo:function(e){e=e||[];for(var t=(0,_.normalizeSortingInfo)(e),i=0;i<e.length;i++)e&&e[i]&&void 0!==e[i].isExpanded&&(t[i].isExpanded=e[i].isExpanded),e&&e[i]&&void 0!==e[i].groupInterval&&(t[i].groupInterval=e[i].groupInterval);return t},getFormatByDataType:function(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime"}},getHeaderFilterGroupParameters:function(e,n){var o=[],l=e.dataField||e.name,r=(0,d.getGroupInterval)(e);return r?((0,h.each)(r,(function(d,c){o.push(n?{selector:l,groupInterval:c,isExpanded:d<r.length-1}:t.bind(e,c))})),o):(n?o=[{selector:l,isExpanded:!1}]:(o=function(data){var t=e.calculateCellValue(data);return void 0!==t&&""!==t||(t=null),t},e.sortingMethod&&(o=[{selector:o,compare:e.sortingMethod.bind(e)}])),o)},equalSortParameters:function(t,n,o){if(t=e.exports.normalizeSortingInfo(t),n=e.exports.normalizeSortingInfo(n),Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(r=t[i].selector,d=n[i].selector,!((0,l.isFunction)(r)&&(0,l.isFunction)(d)&&r.originalCallback&&d.originalCallback?r.originalCallback===d.originalCallback&&r.columnIndex===d.columnIndex:r===d)||t[i].desc!==n[i].desc||t[i].groupInterval!==n[i].groupInterval||!o&&Boolean(t[i].isExpanded)!==Boolean(n[i].isExpanded))return!1;return!0}return(!t||!t.length)==(!n||!n.length);var r,d},getPointsByColumns:function(e,t,n,o){for(var l,r,d,c=e.length,h=!1,f=o||0,v=[],i=0;i<=c;i++){i<c&&(r=(l=e.eq(i)).offset(),d="rtl"===l.css("direction"));var C={index:f,x:r?r.left+(!n&&d^i===c?(0,m.getBoundingRect)(l[0]).width:0):0,y:r?r.top+(n&&i===c?(0,m.getBoundingRect)(l[0]).height:0):0,columnIndex:f};if(!n&&i>0){var x=e.eq(i-1).offset();x.top<C.y&&(C.y=x.top)}t&&(h=t(C)),h||v.push(C),f++}return v},createObjectWithChanges:function(e,t){var n=e?Object.create(Object.getPrototypeOf(e)):{},o=(0,f.extendFromObject)({},e);return(0,y.deepExtendArraySafe)(n,o,!0,!0),(0,y.deepExtendArraySafe)(n,t,!0,!0)},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(e,t){var n=(0,o.default)(e);if(!(0,l.isDefined)(t.value)||t.data&&t.data.isContinuation||t.row.isNewRow)I(n);else{var r=t.component.getView("rowsView");n.addClass("dx-datagrid-expand").addClass("dx-selection-disabled"),(0,o.default)("<div>").addClass(t.value?"dx-datagrid-group-opened":"dx-datagrid-group-closed").appendTo(n),r.setAria("label",t.value?r.localize("dxDataGrid-ariaCollapse"):r.localize("dxDataGrid-ariaExpand"),n)}}}},setEmptyText:I,isDateType:n,getSelectionRange:function(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch(e){}return{}},setSelectionRange:function(e,t){try{e&&e.setSelectionRange&&e.setSelectionRange(t.selectionStart,t.selectionEnd)}catch(e){}},focusAndSelectElement:function(component,e){T.default.trigger(e,"focus");var t=component.option("editing.selectTextOnEditStart"),n=component.getController("keyboardNavigation"),o=n&&n._isFastEditingStarted(),element=e.get(0);if(t&&!o&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){var l=D(e.closest(".dx-texteditor"));(0,r.when)(l&&l._loadItemDeferred).done((function(){element.select()}))}},getWidgetInstance:D,getLastResizableColumnIndex:function(e,t){var n,o=e.some((function(e){return e&&!e.command&&!e.fixed&&!1!==e.allowResizing}));for(n=e.length-1;e[n];n--){var l=e[n],r=t&&t[n],d=!o||!1!==l.allowResizing;if(!l.command&&!l.fixed&&"adaptiveHidden"!==r&&d)break}return n},isElementInCurrentGrid:function(e,t){return!(!t||!t.length)&&t.closest("."+e.getWidgetContainerClass()).parent().is(e.component.$element())}}}()}}]);