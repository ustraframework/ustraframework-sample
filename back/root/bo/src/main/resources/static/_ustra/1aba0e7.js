(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleNameKeys=void 0,function(e){e.AUTH_CHECK_MODULE="AUTH_CHECK_MODULE"}(t.ModuleNameKeys||(t.ModuleNameKeys={}))},1211:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(1169);t.default=function(e,t){return n(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:if(!e.isClient)return[3,7];if(!e.store)return[2];r.label=1;case 1:return r.trys.push([1,3,,7]),[4,e.store.dispatch("nuxtClientInit",e)];case 2:return r.sent(),[3,7];case 3:return t=r.sent(),l.RedirectError.isEquals(t)?[4,e.$ustra.nuxt.onReady((function(){e.redirect({path:t.args.path,query:t.args.query})}))]:[3,5];case 4:return r.sent(),[3,6];case 5:e.$auth&&e.$auth.isAuthenticationError(t),r.label=6;case 6:return[3,7];case 7:return[2]}}))}))}},1684:function(e,t,r){"use strict";var n=r(11);r(12),r(24);var o,l=this&&this.__extends||(o=function(e,b){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__decorate||function(e,t,r,desc){var o,l=arguments.length,c=l<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(l<3?o(c):l>3?o(t,r,c):o(t,r))||c);return l>3&&c&&Object.defineProperty(t,r,c),c},f=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var d=r(17),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.onDisabledChanged=function(e,t){this.$emit("disabled-changed",e)},c([d.Prop({default:!1}),f("design:type",Boolean)],t.prototype,"disabled",void 0),c([d.Watch("disabled",{immediate:!0}),f("design:type",Function),f("design:paramtypes",[Boolean,Boolean]),f("design:returntype",void 0)],t.prototype,"onDisabledChanged",null),t=c([d.Component],t)}(d.Vue);t.default=h},1894:function(e,t,r){r(25),r(48),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(s){var e=this;do{if(e.matches(s))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("after")||Object.defineProperty(e,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var r=e instanceof Node;t.appendChild(r?e:document.createTextNode(String(e)))})),this.parentNode.insertBefore(t,this.nextSibling)}})})),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach)},1897:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(r(108));t.default={name:"default",middleware:function(e){return c(void 0,void 0,void 0,(function(){var t,option;return f(this,(function(r){return e.$ustra.definedStore.core.serverError?(t=e.$ustra.definedStore.core.serverError,e.error({statusCode:t.status?t.status:500,message:t.message}),[2]):((option=d.getRouteOption(e.route))&&option.config?e.app.config=e.$ustra.utils.core.deepMerge({},option.config):e.app.config={},[2])}))}))}}},1898:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setupVueConfig=void 0;var o=n(r(16)),l=r(95),c=n(r(1899));t.setupVueConfig=function(e){o.default.config.silent=!e.isDev,o.default.config.performance=e.isDev,o.default.config.devtools=e.isDev,o.default.config.productionTip=e.isDev,o.default.config.errorHandler=function(e,t,r){l.logger().error("detected component error",e),o.default.nextTick((function(){setTimeout((function(){c.default.emit({err:e,vm:t,info:r,receivedCnt:0})}),0)}))}}},1900:function(e,t,r){"use strict";r(32);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=c(r(323)),d=l(r(393));t.default=function(e){if(!e){var t=d.getProperties();t&&t.logger&&(e=t.logger.name)}return f.default(e)}},1901:function(e,t,r){"use strict";var n=r(11);r(3),r(5),r(7),r(13),r(8),r(9);var o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return l(t,e),t},f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},d=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},h=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)l.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return l},v=this&&this.__spreadArray||function(e,t){for(var i=0,r=t.length,n=e.length;i<r;i++,n++)e[n]=t[i];return e},y=this&&this.__values||function(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},w=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApiPlugin=void 0;var m=w(r(851)),_=w(r(1162)),x=r(95),P=r(658),k=r(118),O=w(r(412)),C=c(r(1933)),M=r(333),j=r(618),T=r(411),$=r(1934),S=r(439),E=r(1938),R=w(r(1167)),A="__AXIOS_INSTANCE__",N=new O.default({samesite:"Lax",secure:!1,path:"/",httponly:!1,valueConverter:null,keyConverter:null,pure:!0,maxAge:-1}),I=function(){function e(e){var t=this;void 0===e&&(e=null),this.$ustra=null,this.createdInstance=!1,this.addRequestInterceptor=function(e){return x.axiosUtils.addRequestInterceptor(e,t.createdInstance?t.getAxios():null)},this.addResponseInterceptor=function(e){return x.axiosUtils.addResponseInterceptor(e,t.createdInstance?t.getAxios():null)},this.completedCheckTimer=null,this.$ustra=e}return e.prototype.addInterceptor=function(){this.applyResCodeCheckingInterceptor(this.$ustra.env.appProp.nuxt),this.applyGlobalRequestInterceptor()},e.prototype.getApiRequestOption=function(){var e,t;try{if(!(null===(t=null===(e=this.$ustra)||void 0===e?void 0:e.env)||void 0===t?void 0:t.appProp))return null;var r=this.$ustra.env.appProp.nuxt;return r&&r.api?r.api:null}catch(e){return null}},e.prototype.normalizeCallOption=function(option){var e=x.coreUtils.deepMerge({data:null,url:null,method:k.HttpMethod.GET,tranId:x.coreUtils.uuid(),timeout:2e4,headers:{},showLoading:x.webUtils.isBrowser(),passOnResponseError:!1,passOnResponseCode:[],jsonp:!1,excludeAuthValidation:!1},this.getApiRequestOption()||{url:void 0},option);return{axiosInstance:this.getAxios(),url:e.url,data:e.data,method:e.method,timeout:e.timeout,baseURL:e.baseUrl,headers:e.headers,responseType:e.responseType,showLoading:e.showLoading,passOnResponseError:e.passOnResponseError,passOnResponseCode:e.passOnResponseCode,jsonp:e.jsonp,params:e.params,excludeAuthValidation:e.excludeAuthValidation}},e.prototype.getAxios=function(){var e=j.globalStorage.getItem(A);return e||(e=this.createAxiosInstance(),this.createdInstance=!0,j.globalStorage.setItem(A,e),x.logger().debug("created axios instance")),e},e.prototype.createAxiosInstance=function(){var e=M.DebugInterceptorMode.ONLY_ERROR;return x.axiosUtils.createInstance({debugInterceptorMode:e,httpsAgent:new m.default.Agent({rejectUnauthorized:!1})})},e.prototype.call=function(option){return f(this,void 0,Promise,(function(){var e;return d(this,(function(t){switch(t.label){case 0:e=this.normalizeCallOption("string"==typeof option?{url:option}:option),t.label=1;case 1:return t.trys.push([1,,3,4]),e.showLoading&&R.default.emit({show:!0}),[4,x.axiosUtils.call(e)];case 2:return[2,t.sent()];case 3:return e.showLoading&&R.default.emit({show:!1}),[7];case 4:return[2]}}))}))},e.prototype.createUrlEncodedParameter=function(e,t){for(var r in void 0===t&&(t=!1),e)"object"===n(e[r])&&(e[r]=JSON.stringify(e[r])),t&&(e[r]=S.base64Converter.convert(e[r]));return _.default.stringify(e)},e.prototype.urlBuilder=function(e){return new E.UrlBuilder(e)},e.prototype.sse=function(option){return C.connect(option)},e.prototype.addRequestCompletedCallback=function(e){var t=this;if(this.completedCheckTimer)try{clearInterval(this.completedCheckTimer)}catch(e){}N.setItem("RES_ATTATCHED","0"),this.completedCheckTimer=setInterval((function(){var r=N.getItem("RES_ATTATCHED");"1"!==r&&1!==r||(clearInterval(t.completedCheckTimer),e())}),500)},e.prototype.applyResCodeCheckingInterceptor=function(e){var t,r=this;(null===(t=e.api)||void 0===t?void 0:t.occurErrorwhenReceivedApiErrCode)&&this.addResponseInterceptor({key:"api-res-error-process-interceptor",scope:M.InterceptorScope.BOTH,processAllError:!0,onFulfilled:function(t){var n,o,l,c=r.$ustra.env.appProp.logger.level>=T.LogLevel.Debug;if((null===(l=e.api)||void 0===l?void 0:l.ignoreErrorUrlPatterns)&&P.isMatchPatterns.apply(void 0,v([t.config.url],h(e.api.ignoreErrorUrlPatterns))))return t;if(t&&t.data&&t.data.resultCode&&!t.config.passOnResponseError&&"0000"!==t.data.resultCode&&!t.config.passOnResponseCode.some((function(e){return e===t.data.resultCode}))){var f=t.data.resultMessage;if(c&&t.data.errors)try{for(var d=y(t.data.errors),w=d.next();!w.done;w=d.next()){f+="/"+w.value}}catch(e){n={error:e}}finally{try{w&&!w.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}var m=new $.HttpNetworkError(new Error(f),t.data.resultCode,t.config);throw console.log({error:m}),m}return t},onRejected:function(e){throw e.message=x.axiosUtils.getAxiosErrorMessage(e),console.log(null==e?void 0:e.config,e),new $.HttpNetworkError(e,null==e?void 0:e.errorCode,null==e?void 0:e.config)}})},e.prototype.applyGlobalRequestInterceptor=function(){var e=this;this.addRequestInterceptor({key:"api-global-request-interceptor",scope:M.InterceptorScope.BOTH,onFulfilled:function(t){var r;if((null===(r=e.$ustra.env)||void 0===r?void 0:r.appProp)&&(t.headers.c=e.$ustra.env.encryptedProfile,t.data&&t.data.header))try{t.headers["rest-api-header"]=JSON.stringify(t.data.header)}catch(e){}}})},e}();t.ApiPlugin=I},1939:function(e,t,r){"use strict";r(32);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=t.EventBus=void 0;var f=r(95),d=l(r(178)),h=l(r(224)),v=l(r(1940)),y=l(r(658)),w=l(r(1168)),m=l(r(357)),_=l(r(1941)),x=l(r(1942)),P=l(r(294)),k=l(r(108)),O=l(r(428)),C=l(r(1943)),M=c(r(226));t.EventBus=M.default;var j=function(){this.browser=f.browserUtils,this.location=f.locationUtils,this.number=f.numberUtils,this.web=f.webUtils,this.dom=C,this.model=f.modelUtils,this.core=f.coreUtils,this.function=d,this.json=f.jsonUtils,this.date=h,this.string=y,this.validate=v,this.component=P,this.nuxt=k,this.render=O,this.random=w,this.message=_,this.mobileApp=x,this.masking=m,this.eventBus=function(e,t,r,n){void 0===n&&(n=!0),t.on(r),n&&e.$on("hook:beforeDestroy",(function(){t.off(),e.$logger().debug("off event bus",t.name())}))},this.eventBusWithType=function(e,t,r,n,o){void 0===o&&(o=!0),t.on((function(data){data.type&&data.type===r&&n(data)})),o&&e.$on("hook:beforeDestroy",(function(){t.off(),e.$logger().debug("off event bus",t.name())}))}};t.Utils=j,t.default=j},1944:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1945)),l=n(r(1946)),c=function(){function e(e){this.context=null,this.progress=new o.default,this.dialog=new l.default,this.context=e,this.init()}return e.prototype.init=function(){this.context.isClient&&(window.toast=this.dialog.toast,this.context.$ustra.env.appProp.nuxt.ui.replaceDialogFunctions&&(window.originAlert=window.alert,window.originConfirm=window.confirm,window.alert=this.dialog.alert,window.confirm=this.dialog.confirm))},e}();t.default=c},1945:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1167)),l=function(){this.show=function(){return o.default.emit({show:!0})},this.hide=function(){return o.default.emit({show:!1})},this.on=function(e){return o.default.on(e)},this.off=function(){return o.default.off()}};t.default=l},1946:function(e,t,r){"use strict";r(3);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1947)),l=function(){function e(){this.on=function(e){return o.default.on(e)},this.off=function(){return o.default.off()}}return e.prototype.alert=function(e,title){return new Promise((function(t){o.default.emit({type:"alert",msg:e,title:title,action:t})}))},e.prototype.confirm=function(e,title){return new Promise((function(t){o.default.emit({type:"confirm",msg:e,title:title,action:t})}))},e.prototype.toast=function(e,t){return void 0===t&&(t=3e3),new Promise((function(r){o.default.emit({type:"toast",msg:e,displayTime:t,action:r})}))},e}();t.default=l},1948:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=this&&this.__values||function(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var h=l(r(90)),v=l(r(133)),y=r(1169),w=function(){function e(e){var t=this;this.readyFns=[],this.isReady=!1,this.isReadyExecuted=!1,this.readyCallback=null,this.executeTimer=null,this.context=e,h.isBrowser()&&v.getGlobalObject().onNuxtReady&&v.getGlobalObject().onNuxtReady((function(){return c(t,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.isReady=!0,[4,this.excutedReady()];case 1:return e.sent(),this.isReadyExecuted=!0,[2]}}))}))}))}return e.prototype.excutedReady=function(e){return void 0===e&&(e=null),c(this,void 0,void 0,(function(){var t,r,n,o,l,c;return f(this,(function(f){switch(f.label){case 0:if(t=e?[e]:this.readyFns,!e&&this.isReadyExecuted)return[2];f.label=1;case 1:f.trys.push([1,6,7,8]),r=d(t),n=r.next(),f.label=2;case 2:return n.done?[3,5]:[4,(0,n.value)()];case 3:f.sent(),f.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return o=f.sent(),l={error:o},[3,8];case 7:try{n&&!n.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 8:return this.readyCallback&&(this.readyCallback(),this.readyCallback=null),[2]}}))}))},e.prototype.onReady=function(e){var t=this;return new Promise((function(r){t.isReady?t.excutedReady(e).then(r):(t.readyCallback=r,t.readyFns.push(e),t.executeTimer||(t.executeTimer=setTimeout((function(){return t.excutedReady()}),5e3)))}))},e.prototype.isStoreThrowError=function(e){return!!y.RedirectError.isEquals(e)||!!this.context.$ustra.auth.isAuthenticationError(e)},e}();t.default=w},1949:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerDirectives=void 0;var o=n(r(16)),l=r(1950),c=n(r(1951)),f=r(1952);t.registerDirectives=function(){o.default.directive("byteLength",l.byteLengthDirective),o.default.directive("clickOutside",c.default),o.default.directive("scroll",f.scrollDirective)}},1953:function(e,t,r){"use strict";r(38);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerFilters=void 0;var o=n(r(16)),l=n(r(1954)),c=n(r(1955)),f=n(r(1956)),d=n(r(1957)),h=n(r(1958)),v=n(r(1959)),y=n(r(1960)),w=n(r(1961));t.registerFilters=function(){o.default.filter("currencyFormat",l.default),o.default.filter("capitalize",c.default),o.default.filter("dateFormat",f.default),o.default.filter("cardNo",d.default),o.default.filter("corpRegNo",h.default),o.default.filter("fileSizeFormat",v.default),o.default.filter("masking",y.default),o.default.filter("jsonFormat",w.default)}},1954:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(95);t.default=function(e,t){return void 0===t&&(t=0),"number"!=typeof e?e:n.numberUtils.formatCurrency(e,t)}},1955:function(e,t,r){"use strict";r(3),r(55),r(48),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""}},1956:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=l(r(224));t.default=function(e,t){return void 0===t&&(t="yyyy-MM-dd"),"number"==typeof e||c.isDate(e)?c.format(e,t):e}},1957:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(345);t.default=function(e){return n.cardNo(e)}},1958:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(345);t.default=function(e){return n.corpRegNo(e)}},1959:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(345);t.default=function(e){return n.formatFileSize(e)}},1960:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(357);t.default=function(e,t){void 0===t&&(t=n.MaskingType.NAME);var r=n.getMaskingFunctionByType(t);return r?r(e):e}},1961:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1054);t.default=function(e,t){return void 0===t&&(t=4),n.format(e,t)}},1962:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9),r(1170);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Env=void 0;var h=l(r(619)),v=l(r(90)),y=l(r(333)),w=d(r(412)),m=l(r(621)),_=r(133),x=r(1963),P=function(){function e(e){var t=this;this.context=null,this.encryptedProfileString=null,this.isMobileRequest=!1,this.isAndroidRequest=!1,this.isIOsRequest=!1,this.appProp=null,this.enableConsole=function(e){var r;t.context.isClient&&!(null===(r=t.appProp.logger)||void 0===r?void 0:r.disableBrowserConsole)&&e.originConsole&&(e.console=e.originConsole)},this.context=e}return e.prototype.init=function(){return c(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),this.disableConsole(_.getGlobalObject()),[4,this.getConfigEnv()];case 1:return e=t.sent(),h.utils.updateCurrentProfile(e),this.context.isClient&&x.removeClientProfileInfo(this.context),this.isMobileRequest=v.isMobileRequest(this.context.req),this.isAndroidRequest=v.isAndroidRequest(this.context.req),this.isIOsRequest=v.isIOsRequest(this.context.req),this.appProp=Object.freeze(this.getProperties(this.currentProfile)),this.context.$ustra.contextPath=this.appProp.server.contextPath||"/",[3,3];case 2:return this.enableConsole(_.getGlobalObject()),[7];case 3:return[2]}}))}))},e.prototype.getConfigEnv=function(){return c(this,void 0,void 0,(function(){var e,t;return f(this,(function(r){switch(r.label){case 0:if(!this.context.isStatic)return[3,6];r.label=1;case 1:return r.trys.push([1,4,,5]),e=new w.default({keyConverter:null,valueConverter:null}),(t=e.getItem("c",this.context.req,this.context.res))?[3,3]:[4,y.call({url:"/api/current-profile"})];case 2:t=r.sent().data,r.label=3;case 3:return[2,m.decryptAes256(m.decryptAes256(t,"Z3NjLWNyeXB0by1rZXkxMQ=="),"Z3NjLWNyeXB0by1rZXkxMQ==")];case 4:return r.sent(),[2,x.getConfigEnv()];case 5:return[3,7];case 6:return[2,x.getConfigEnv()];case 7:return[2]}}))}))},e.prototype.getProperties=function(e){return this.context.isStatic?x.getProfileProperties(e):x.getProperties()},Object.defineProperty(e.prototype,"currentProfile",{get:function(){return h.utils.currentProfile()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"encryptedProfile",{get:function(){if(!this.currentProfile)return null;if(!this.encryptedProfileString){var e=h.utils.getServerProfileName(this.currentProfile);this.encryptedProfileString=m.encryptAes256(m.encryptAes256(e,"Z3NjLWNyeXB0by1rZXkxMQ=="),"Z3NjLWNyeXB0by1rZXkxMQ==")}return this.encryptedProfileString},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isProduction",{get:function(){return h.utils.isProduction()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDev",{get:function(){return h.utils.isDev()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStaging",{get:function(){return h.utils.isStaging()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLocal",{get:function(){return h.utils.isLocal()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDevServer",{get:function(){return h.utils.isDevServer()},enumerable:!1,configurable:!0}),e.prototype.disableConsole=function(e){this.context.isClient&&(e.originConsole||(e.originConsole=e.console),e.console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},dir:function(){}})},e}();t.Env=P},1964:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9),r(32),r(662),r(202);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=void 0;var h=d(r(1967)),v=d(r(1968)),y=d(r(1164)),w=r(95),m=r(333),_=l(r(90)),x=l(r(621)),P=l(r(1185)),k=r(154),O=r(1997),C=d(r(1998)),M=d(r(1187)),j=l(r(108)),T=r(1188),$=r(118),S=function(){function e(e,t,r){var n=this;this.ws=null,this.middleware=null,this.moduleMap=null,this.logout=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!0),c(n,void 0,void 0,(function(){return f(this,(function(r){switch(r.label){case 0:return M.default.emit({logout:!0}),t?[4,this.store.setAuthInfo(null)]:[3,3];case 1:return r.sent(),[4,this.store.reloadToken({context:this.$ustra.context,accessToken:null,refreshToken:null})];case 2:r.sent(),r.label=3;case 3:return e&&this.goLoginPage(!1),this.ws&&this.ws.close(),[2]}}))}))},this.getToken=function(){return n.store.token},this.getTokenClaim=function(){return n.store.tokenClaim},this.goLoginPage=function(e){void 0===e&&(e=!1);var t=n.$ustra.env.appProp.app.auth.loginUrl;if(t&&t!==n.$ustra.context.route.path){var r={type:"redirect",url:t,query:{rtnUrl:n.$ustra.context.route.fullPath}};n.$ustra.context.redirect(r.url,r.query),e&&n.$ustra.nuxt.onReady((function(){return n.$ustra.context.redirect(r.url,r.query)}))}},this.doFailureAuth=function(e,t,r,source){return void 0===e&&(e=null),void 0===t&&(t=!1),void 0===r&&(r="check"),void 0===source&&(source=null),c(n,void 0,void 0,(function(){var n;return f(this,(function(o){switch(o.label){case 0:return this.$ustra.context.$logger().info("doFailureAuth",r,source),n=this.$ustra.env.appProp.app.auth,"check"!==r?[3,1]:(M.default.emit({failure:!0,route:e||this.$ustra.context.route,context:this.$ustra.context,failureType:r,apiUrl:source}),"redirect"===n.failProcessType?[2,this.goLoginPage(t)]:("error"===n.failProcessType&&this.$ustra.context.error({statusCode:n.errorStatusCode||401,path:n.errorUrl}),[3,7]));case 1:return"event"!==n.expiredProcessType?[3,3]:[4,M.default.emitPromise({failure:!0,route:e||this.$ustra.context.route,context:this.$ustra.context,failureType:r,apiUrl:source})];case 2:return o.sent(),[3,4];case 3:M.default.emit({failure:!0,route:e||this.$ustra.context.route,context:this.$ustra.context,failureType:r,apiUrl:source}),o.label=4;case 4:return"logout"!==n.expiredProcessType?[3,6]:[4,this.logout()];case 5:return o.sent(),[3,7];case 6:"error"===n.expiredProcessType&&this.$ustra.context.error({statusCode:n.errorStatusCode||401,path:n.errorUrl}),o.label=7;case 7:return[2]}}))}))},this.isAuthenticated=function(){return n.$ustra.store.auth().authenticated},this.isAuthenticationError=function(e){return e&&e.response&&(401===e.response.status||409===e.response.status)},this.isExcludeUrlPattern=function(e){if(!e)return!0;var t=n.$ustra.env.appProp.app.auth;return!!t.excludeUrlPatterns&&y.default.isMatch(e,t.excludeUrlPatterns)},this.consumeAuthenticationProvider=function(e,t,r){var o,l,c,f,d;if(e){var h=n.$ustra.env.appProp.app.auth,v=(null===(o=h.jwt)||void 0===o?void 0:o.duplicationCheckUrl)||(null===(l=h.jwt)||void 0===l?void 0:l.webSocketUrl);v?"websocket"===(null===(f=h.jwt)||void 0===f?void 0:f.duplicationCheckType)?n.checkByWebSocket(e,t,r,v):"polling"===(null===(d=h.jwt)||void 0===d?void 0:d.duplicationCheckType)&&n.checkByPolling(v):"none"!==(null===(c=h.jwt)||void 0===c?void 0:c.duplicationCheckType)&&n.$ustra.logger().warn("duplicationCheckUrl is empty.")}},this.pollingExecuted=!1,this.serverTokens={getAccessToken:function(){return j.namedContextHolder.get("accessToken")},setAccessToken:function(e){return j.namedContextHolder.set("accessToken",e)},getRefreshToken:function(){return j.namedContextHolder.get("refreshToken")},setRefreshToken:function(e){return j.namedContextHolder.set("refreshToken",e)}},this.$ustra=e,this.middleware=t,this.moduleMap=r,this.init()}return Object.defineProperty(e.prototype,"store",{get:function(){return this.$ustra.store.auth()},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;k.addModules(this.$ustra.context,{auth:O.AuthModule}),this.middleware&&(this.middleware[C.default.name]=C.default.middleware),this.$ustra.context.isClient||k.callback.registerBeforeServerInit((function(t){if("auth"===t){var r=j.contextHolder.get(),n=e.$ustra.env.appProp;if(n.app.auth.jwt.useCookie){var o=r.$cookie.get(n.app.auth.jwt.accessTokenKey),l=r.$cookie.get(n.app.auth.jwt.refreshTokenKey);e.serverTokens.setAccessToken(o),e.serverTokens.setRefreshToken(l)}else e.serverTokens.setAccessToken(""),e.serverTokens.setRefreshToken("")}})),this.$ustra.api.addRequestInterceptor({key:"auth-req-interceptor",scope:m.InterceptorScope.BOTH,onFulfilled:function(t){var r=j.contextHolder.get(),n=e.$ustra.env.appProp;if(t.headers[n.app.auth.jwt.accessTokenKey]||t.headers[n.app.auth.jwt.refreshTokenKey])return t;var o=null,l=null;_.isBrowser()?(o=r.$ustra.store.auth().accessToken,l=r.$ustra.store.auth().refreshToken):(o=e.serverTokens.getAccessToken(),l=e.serverTokens.getRefreshToken()),o&&(t.headers[n.app.auth.jwt.accessTokenKey]=o),l&&(t.headers[n.app.auth.jwt.refreshTokenKey]=l)}}),this.$ustra.api.addResponseInterceptor({key:"auth-res-interceptor",scope:m.InterceptorScope.BOTH,onFulfilled:function(t){return c(e,void 0,void 0,(function(){var e,r,n,o,l,c,d,v;return f(this,(function(f){switch(f.label){case 0:return e=j.contextHolder.get(),r=e.$ustra.env.appProp,this.isExcludeUrlPattern(null===(d=null==t?void 0:t.config)||void 0===d?void 0:d.url)?[2,t]:t.config&&t.config.excludeAuthValidation?[2,t]:t.headers?(n=e.$ustra.store.auth().authenticated,o=t.headers[h.default(r.app.auth.jwt.accessTokenKey)]||null,l=t.headers[h.default(r.app.auth.jwt.refreshTokenKey)]||null,_.isBrowser()?[4,e.$ustra.store.auth().reloadToken({context:e,accessToken:o,refreshToken:l})]:[3,2]):[3,6];case 1:return f.sent(),[3,4];case 2:return e.$ustra.auth.serverTokens.setAccessToken(o),e.$ustra.auth.serverTokens.setRefreshToken(l),[4,e.$ustra.store.auth().reloadToken({context:e,accessToken:o,refreshToken:l})];case 3:f.sent(),f.label=4;case 4:return n?(c=P.getClaim(o))&&c.sub?[3,6]:[4,e.$ustra.auth.doFailureAuth(e.route,!1,"released",null===(v=null==t?void 0:t.config)||void 0===v?void 0:v.url)]:[3,6];case 5:f.sent(),f.label=6;case 6:return[2,t]}}))}))},onRejected:function(t){return c(e,void 0,void 0,(function(){var e,r,n,o,l,c,d,h;return f(this,(function(f){switch(f.label){case 0:if((e=j.contextHolder.get()).$logger().warn("auth plugin ajax error",null==t?void 0:t.response),e.$ustra.auth.isExcludeUrlPattern(null===(n=null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.config)||void 0===n?void 0:n.url))throw w.logger().warn("is exclude auth pattern",null===(l=null===(o=null==t?void 0:t.response)||void 0===o?void 0:o.config)||void 0===l?void 0:l.url),t;return e.$ustra.auth.isAuthenticationError(t)&&e.$ustra.env.appProp.app.auth.enabled?[4,e.$ustra.auth.doFailureAuth(e.route,!1,409===(null===(c=null==t?void 0:t.response)||void 0===c?void 0:c.status)?"duplicated":"expired",null===(h=null===(d=null==t?void 0:t.response)||void 0===d?void 0:d.config)||void 0===h?void 0:h.url)]:[3,2];case 1:return f.sent(),[2,null];case 2:throw t}}))}))}})},e.prototype.checkByWebSocket=function(e,t,r,n){var o=this;this.$ustra.env.appProp.app.auth;if(!this.ws||this.ws.readyState!==WebSocket.OPEN&&this.ws.readyState!==WebSocket.CONNECTING)try{var param=this.$ustra.api.createUrlEncodedParameter({k:x.encryptAes256(JSON.stringify({UserKey:e,RefreshToken:t,ProcId:r}),"Z3NjLWNyeXB0by1rZXkxMQ==")}),l=n+"?"+param;try{this.ws&&this.ws.close()}catch(e){}this.ws=new v.default(l,null,{timeout:1e4,sessionId:function(){return r}}),this.ws.onmessage=function(e){return c(o,void 0,void 0,(function(){var data,t;return f(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),"DUPLICATED_AUTHENTICATION"!==(data=JSON.parse(x.decryptAes256(e.data,"Z3NjLWNyeXB0by1rZXkxMQ=="))).commandType?[3,2]:[4,this.doFailureAuth(this.$ustra.context.route,!1,"duplicated",n)];case 1:return r.sent(),[3,4];case 2:return"EXPIRED_AUTHENTICATION"!==data.commandType?[3,4]:[4,this.doFailureAuth(this.$ustra.context.route,!1,"expired",n)];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return t=r.sent(),w.logger().error(t),[3,6];case 6:return[2]}}))}))}}catch(e){}else if(this.ws.readyState===WebSocket.OPEN)try{this.ws.send(x.encryptAes256(JSON.stringify({commandType:"REFRESH_TOKEN_UPDATED",UserKey:e,RefreshToken:t,ProcId:r}),"Z3NjLWNyeXB0by1rZXkxMQ=="))}catch(e){w.logger().error(e)}},e.prototype.checkByPolling=function(e){var t=this,r=this.$ustra.env.appProp.app.auth,n=null;if(!this.pollingExecuted){this.pollingExecuted=!0,r.excludeUrlPatterns.some((function(p){return p.startsWith(e)}))||r.excludeUrlPatterns.push("**"+e+"**");!function o(){var l;if(!t.isAuthenticated())return n&&clearTimeout(n),void(t.pollingExecuted=!1);var param=t.$ustra.api.createUrlEncodedParameter({k:x.encryptAes256(JSON.stringify({UserKey:t.getTokenClaim().sub,RefreshToken:null===(l=t.getToken())||void 0===l?void 0:l.refreshToken,ProcId:t.getTokenClaim().procId}),"Z3NjLWNyeXB0by1rZXkxMQ==")}),d=e+"?"+param;t.$ustra.api.call({url:d,method:$.HttpMethod.GET,showLoading:!1,passOnResponseError:!0}).then((function(l){return c(t,void 0,void 0,(function(){var t,c;return f(this,(function(f){switch(f.label){case 0:return"FS01"!==(null===(t=null==l?void 0:l.data)||void 0===t?void 0:t.resultCode)?[3,2]:[4,this.doFailureAuth(this.$ustra.context.route,!1,"duplicated",e)];case 1:f.sent(),f.label=2;case 2:return"FS10"!==(null===(c=null==l?void 0:l.data)||void 0===c?void 0:c.resultCode)?[3,4]:[4,this.doFailureAuth(this.$ustra.context.route,!1,"expired",e)];case 3:f.sent(),f.label=4;case 4:return n=setTimeout((function(){return o()}),r.jwt.pollingDurationMilliSec||1e4),[2]}}))}))})).catch((function(e){return n=setTimeout((function(){return o()}),r.jwt.pollingDurationMilliSec||1e4)}))}()}},e.prototype.getCheckModuleFunction=function(){var e;return(null===(e=this.moduleMap[T.ModuleNameKeys.AUTH_CHECK_MODULE])||void 0===e?void 0:e.default)||this.moduleMap[T.ModuleNameKeys.AUTH_CHECK_MODULE]},e}();t.Auth=S},1998:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(95);t.default={name:"auth",middleware:function(e){return n(void 0,void 0,void 0,(function(){var t,r,n,c,f;return o(this,(function(o){switch(o.label){case 0:return t=e.$ustra.env.appProp,r=e.app.config,n=r&&(null===(f=r.auth)||void 0===f?void 0:f.required),"jwt"!==t.app.auth.type||t.app.auth.jwt.useCookie||l.webUtils.isBrowser()?[3,2]:[4,e.$ustra.auth.store.setNeedAuthCheckClient(n)];case 1:return o.sent(),[2];case 2:return[4,e.$ustra.store.auth().applyToken(e)];case 3:return o.sent(),n&&!e.$ustra.store.auth().authenticated&&e.$ustra.auth.doFailureAuth(e.route,!1),e.$ustra.auth&&n?(c=e.$ustra.auth.getCheckModuleFunction())&&"function"==typeof c?[4,c(e,r)]:[3,5]:[3,5];case 4:o.sent()||e.$ustra.auth.doFailureAuth(e.route,!1),o.label=5;case 5:return[2]}}))}))}}},1999:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9),r(159);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Interfaces=void 0;var l=function(){function e(e){var t=this;this.getOutboundInterface=function(e,r){void 0===r&&(r=null);var n=t.context.$ustra.definedStore.interfaces.interfaces;return n?n.find((function(i){return i.id===e&&"OUTBOUND"===i.direction&&(!r||i.type===r)})):null},this.getInboundInterface=function(e,r){void 0===r&&(r=null);var n=t.context.$ustra.definedStore.interfaces.interfaces;return n?n.find((function(i){return i.id===e&&"INBOUND"===i.direction&&(!r||i.type===r)})):null},this.getInterfaces=function(){return t.context.$ustra.definedStore.interfaces.interfaces||[]},this.getInterfaceInfo=function(e,r){void 0===r&&(r="1.0");var n=t.context.$ustra.definedStore.interfaces.interfaces;return n?n.find((function(i){return i.id===e&&i.version===r})):null},this.context=e}return e.prototype.addRequestLogging=function(e){var t,r;return n(this,void 0,void 0,(function(){var n;return o(this,(function(o){switch(o.label){case 0:if(!(n=null===(r=null===(t=this.context.$ustra.env.appProp.nuxt.interfaces)||void 0===t?void 0:t.apiLogging)||void 0===r?void 0:r.reqLoggingUrl))return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),e.requestContent&&(e.requestContent="string"==typeof e.requestContent?e.requestContent:JSON.stringify(e.requestContent)),[4,this.context.$ustra.api.call({url:n,data:e})];case 2:return[2,o.sent().data.body];case 3:return o.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.addResponseLogging=function(e){var t,r,n=null===(r=null===(t=this.context.$ustra.env.appProp.nuxt.interfaces)||void 0===t?void 0:t.apiLogging)||void 0===r?void 0:r.resLoggingUrl;n&&e.loggingId&&this.context.$ustra.api.call({url:n,data:e})},e}();t.Interfaces=l},2e3:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9),r(89),r(93),r(55),r(53),r(31),r(38),r(25);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=this&&this.__values||function(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MobileBridge=t.Mobile=void 0;var v=h(r(1055)),y=h(r(174)),w=r(90),m=r(133),_=l(r(1168)),x=r(439),P=h(r(2001)),k=function(){function e(e){if(this.context=e,this.mobileProp=this.context.$ustra.env.appProp.nuxt.mobile,this.context.isClient&&this.mobileProp.hybrid.bridge.enabled){var t=this.context.$ustra.env.appProp.nuxt.mobile.hybrid.bridge.useTokenSecurity;this.bridge=new O(this.context,t)}}return Object.defineProperty(e.prototype,"isIosNativeRequest",{get:function(){return!!this.context.$ustra.env.isIOsRequest&&(!this.mobileProp.hybrid.nativeAgent.ios||w.getUserAgent(this.context.req).includes(this.mobileProp.hybrid.nativeAgent.ios))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroidNativeRequest",{get:function(){return!!this.context.$ustra.env.isAndroidRequest&&(!this.mobileProp.hybrid.nativeAgent.android||w.getUserAgent().includes(this.mobileProp.hybrid.nativeAgent.android))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNativeRequest",{get:function(){return this.isIosNativeRequest||this.isAndroidNativeRequest},enumerable:!1,configurable:!0}),e}();t.Mobile=k;var O=function(){function e(e,t){var r=this;this.nativeListeners={},this.staticFunctions={notifyLoaded:function(){var e=r.context.$ustra.env.appProp.nuxt.mobile.hybrid.bridge.staticBridgeNames.notifyLoaded;e&&r.callNative({id:e})},toast:function(e){var t=r.context.$ustra.env.appProp.nuxt.mobile.hybrid.bridge.staticBridgeNames.toast;t&&r.callNative({id:t,data:{message:e}})},currentTime:function(){var e=r.context.$ustra.env.appProp.nuxt.mobile.hybrid.bridge.staticBridgeNames.currentTime;return new Promise((function(t){e&&r.context.$ustra.mobile.isNativeRequest?r.callNative({id:e,callback:function(e){e.timeout||"0000"!==e.resCode?t(new Date):t(r.context.$ustra.utils.date.parse(e.data.datetime,"yyyyMMddHHmmss"))}}):t(new Date)}))},storage:function(){return r.appStorage}},this.context=e,this.useTokenSecurity=t,this.context.$ustra.nuxt.onReady((function(){return r.registerNativeInboundFuntions()})),this.context.$ustra.env.appProp.nuxt.mobile.hybrid.bridge.staticBridgeNames.toast&&(window.toast=this.staticFunctions.toast);var n=this.context.$ustra.env.appProp.nuxt.mobile.hybrid.bridge.staticBridgeNames.storage;n&&(this.appStorage=new P.default(this.context,n))}return e.prototype.createToken=function(){return c(this,void 0,void 0,(function(){var e,t,r,n,o,l,c,d,i,h;return f(this,(function(f){switch(f.label){case 0:return[4,this.staticFunctions.currentTime()];case 1:for(e=f.sent(),t=this.context.$ustra.utils.date.format(e,"yyyyMMddHHmmss"),r=_.max(9e3),n=v.default(r.toString(),6,"0"),o=t+n,l=0,i=0;i<o.length;i++)l+=y.default(o.charAt(i));for(c=17-l%17+3,d="",i=0;i<n.length;i++)(h=9-y.default(n.charAt(i)))&&c?(h=Math.min(c,h),d+=y.default(n.charAt(i))+h,c-=h):d+=n.charAt(i);return o=t+d,[2,x.base64Converter.convert(o)]}}))}))},e.prototype.validateToken=function(e){return c(this,void 0,void 0,(function(){var t,r,n,o,i;return f(this,(function(l){switch(l.label){case 0:if(!this.context.$ustra.env.appProp.nuxt.mobile.hybrid.bridge.useTokenSecurity)return[2,!0];if(!e)return[2,!1];l.label=1;case 1:return l.trys.push([1,3,,4]),e=x.base64Converter.deConvert(e),[4,this.staticFunctions.currentTime()];case 2:if(t=l.sent(),r=e.substring(0,14),n=this.context.$ustra.utils.date.parse(r,"yyyyMMddHHmmss"),this.context.$ustra.utils.date.getMilliDuration(t,n)>1e4)return[2,!1];for(o=0,i=0;i<e.length;i++)o+=y.default(e.charAt(i));return o%17!=3?[2,!1]:[3,4];case 3:return l.sent(),[2,!1];case 4:return[2,!0]}}))}))},e.prototype.callTimeCallback=function(e){if(window[e]&&!0!==window[e].called&&window[e].callback){this.context.$logger().error("mobile app interface timeout : "+window[e].callInterfaceId),window[e].called=!0;var param=window[e].param;param.data=null,param.timeout=!0,window[e].callback(param),window[e].ifHistId}},e.prototype.callNative=function(option){var e;return c(this,void 0,void 0,(function(){var t,r,n,o,l,c,d,h,v=this;return f(this,(function(f){switch(f.label){case 0:if(option=m.deepMerge({},C,option),this.useTokenSecurity||(option.useToken=!1),!(t=this.context.$ustra.interfaces.getOutboundInterface(option.id,"MOBILE_BRIDGE")))throw new Error("인터페이스 정보를 찾을 수 없습니다. : "+option.id);return r=option.id.replace(/-/g,"_"),n=option.callbackName||r+"_callback",h={},option.useToken?[4,this.createToken()]:[3,2];case 1:return l=f.sent(),[3,3];case 2:l=null,f.label=3;case 3:return h.token=l,h.callbackName=option.callback?n:void 0,h.data=option.data,o=h,[4,this.context.$ustra.interfaces.addRequestLogging({id:t.id,version:t.version,requestContent:o})];case 4:return c=f.sent(),o.loggingId=c,option.callback?(this.callTimeCallback(n),(null===(e=window[n])||void 0===e?void 0:e.timer)&&clearTimeout(window[n].timer),window[n]=this.context.$ustra.utils.function.wrap(option.callback,(function(e){for(var r,o,l,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];if((null===(r=window[n])||void 0===r?void 0:r.timer)&&clearTimeout(window[n].timer),window[n]&&!window[n].called){window[n].called=!0,v.context.$logger().debug("callback native interface",t,f);try{"string"==typeof f[0]&&(f[0]=JSON.parse(f[0])),e()}finally{window[n]=void 0,v.context.$ustra.interfaces.addResponseLogging({loggingId:c,resCode:null===(o=f[0])||void 0===o?void 0:o.resCd,responseContent:f[0],success:"0000"===(null===(l=f[0])||void 0===l?void 0:l.resCd)})}}})),window[n].called=!1,window[n].param=o,window[n].loggingId=c,window[n].callInterfaceId=r,window[n].callback=option.callback):this.context.$ustra.interfaces.addResponseLogging({loggingId:c,success:!0}),this.context.$logger().debug("call native interface",r,o,t),this.context.$ustra.utils.mobileApp.callNative(r,o),option.callback&&option.timeout>0&&(d=setTimeout((function(){try{v.callTimeCallback(n)}finally{window[n]=void 0}}),option.timeout),window[n].timer=d),[2]}}))}))},e.prototype.addNativeListener=function(e,t){this.nativeListeners[e]||(this.nativeListeners[e]=[]),this.nativeListeners[e].push(t)},e.prototype.clearNativeListeners=function(e){this.nativeListeners[e]=[]},e.prototype.registerNativeInboundFuntions=function(){var e=this;this.context.$ustra.interfaces.getInterfaces().filter((function(i){return"INBOUND"===i.direction&&"MOBILE_BRIDGE"===i.type})).forEach((function(t){var r=t.id.replace(/-/g,"_");window[r]=function(param){return c(e,void 0,void 0,(function(){var e,n,o,l,c,h,v,y,w,m;return f(this,(function(f){switch(f.label){case 0:return param&&"string"==typeof param&&(param=JSON.parse(param)),this.context.$logger().debug("receive native interface",r,param),e={data:null,resCode:"0000",token:param.token},param?[3,1]:(e.resCode="5001",e.resMessage="유효하지 않은 요청입니다.",[3,18]);case 1:return[4,this.validateToken(param.token)];case 2:return f.sent()?[3,3]:(e.resCode="5003",e.resMessage="유효하지 않은 인터페이스 토큰",[3,18]);case 3:return n=null,t?[4,this.context.$ustra.interfaces.addRequestLogging({id:t.id,version:t.version,requestContent:param})]:[3,5];case 4:n=f.sent(),f.label=5;case 5:return t?[3,6]:(e.resCode="5005",e.resMessage="유효하지 않은 인터페이스 아이디.",[3,17]);case 6:return!t.allowedAuthenticated||this.context.$ustra.auth.isAuthenticated()?[3,7]:(e.resCode="0401",e.resMessage="인터페이스 호출 권한 없음.",[3,17]);case 7:if(!this.nativeListeners[t.id])return[3,17];f.label=8;case 8:f.trys.push([8,15,16,17]),o=d(this.nativeListeners[t.id]),l=o.next(),f.label=9;case 9:if(l.done)return[3,14];c=l.value,f.label=10;case 10:return f.trys.push([10,12,,13]),[4,c(param)];case 11:return(h=f.sent())&&(e.data=h),[3,13];case 12:return v=f.sent(),this.context.$logger().error("mobile api error",v),e.resCode=v.errorCode||"9999",e.resMessage=v.message,[3,14];case 13:return l=o.next(),[3,9];case 14:return[3,17];case 15:return y=f.sent(),w={error:y},[3,17];case 16:try{l&&!l.done&&(m=o.return)&&m.call(o)}finally{if(w)throw w.error}return[7];case 17:n&&this.context.$ustra.interfaces.addResponseLogging({loggingId:n,resCode:e.resCode,success:"0000"===e.resCode,responseContent:e}),f.label=18;case 18:return param.callbackFnName&&this.context.$ustra.utils.mobileApp.callNative(param.callbackFnName,e),this.context.$logger().debug("receive callback native interface : ",r,e),[2,e]}}))}))},e.context.$logger().debug("register native interface : "+(null==t?void 0:t.id))}))},e}();t.MobileBridge=O;var C={id:void 0,timeout:0,useToken:!0}},2002:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9),r(32),r(202);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},l=this&&this.__values||function(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var c=r(108),f=function(){function e(e){this.context=null,this.context=e,this.init()}return e.prototype.init=function(){var e=this;this.context.app.router.afterEach((function(t,r){e.applyConfigCache(t,r)}))},e.prototype.applyConfigCache=function(e,t){var r,n;if(null==t?void 0:t.name){var o=c.getMatchedComponents(t);if(o&&!(o.length<1)){var l=o[o.length-1],f=null===(n=null===(r=c.getRouteOption(t))||void 0===r?void 0:r.config)||void 0===n?void 0:n.cache,d=void 0===(null==f?void 0:f.includeCache)||(null==f?void 0:f.includeCache),h=void 0!==(null==f?void 0:f.clearCache)&&(null==f?void 0:f.clearCache);"function"==typeof d&&(d=d.call(l,e,t)),"function"==typeof h&&(h=h.call(l,e,t)),!0===h?(this.clear(),this.context.$logger().info("clear cache")):!1===d&&(this.remove((function(e){return e===t.path||e.startsWith(t.path+"?")}),!1),this.context.$logger().info("remove cache",t))}}},e.prototype.remove=function(e,t){return void 0===t&&(t=!0),n(this,void 0,void 0,(function(){var r,n,c,f,d,h,v,y,w,m,_,x,P;return o(this,(function(o){switch(o.label){case 0:r=this.findKeepAliveComponents(),n=[];try{for(c=l(r),f=c.next();!f.done;f=c.next())d=f.value,(!t||t&&!0===d._inactive)&&e(d.$vnode.data.key)&&n.push(d)}catch(e){m={error:e}}finally{try{f&&!f.done&&(_=c.return)&&_.call(c)}finally{if(m)throw m.error}}o.label=1;case 1:o.trys.push([1,8,9,10]),h=l(n),v=h.next(),o.label=2;case 2:if(v.done)return[3,7];y=v.value,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,y.$destroy()];case 4:return o.sent(),[3,6];case 5:return o.sent(),[3,6];case 6:return v=h.next(),[3,2];case 7:return[3,10];case 8:return w=o.sent(),x={error:w},[3,10];case 9:try{v&&!v.done&&(P=h.return)&&P.call(h)}finally{if(x)throw x.error}return[7];case 10:return[2]}}))}))},e.prototype.clear=function(e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){var t,r,n,c,f,d,h,v,y,w,m,_,x;return o(this,(function(o){switch(o.label){case 0:t=this.findKeepAliveComponents(),r=[];try{for(n=l(t),c=n.next();!c.done;c=n.next())f=c.value,(!e||e&&!0===f._inactive)&&r.push(f)}catch(e){w={error:e}}finally{try{c&&!c.done&&(m=n.return)&&m.call(n)}finally{if(w)throw w.error}}o.label=1;case 1:o.trys.push([1,8,9,10]),d=l(r),h=d.next(),o.label=2;case 2:if(h.done)return[3,7];v=h.value,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,v.$destroy()];case 4:return o.sent(),[3,6];case 5:return o.sent(),[3,6];case 6:return h=d.next(),[3,2];case 7:return[3,10];case 8:return y=o.sent(),_={error:y},[3,10];case 9:try{h&&!h.done&&(x=d.return)&&x.call(d)}finally{if(_)throw _.error}return[7];case 10:return[2]}}))}))},e.prototype.findKeepAliveComponents=function(){var e,t,r,n,o=this.findKeepAliveParentComponents(),c=[];try{for(var f=l(o),d=f.next();!d.done;d=f.next()){var component=d.value;try{for(var h=(r=void 0,l(component.$children)),v=h.next();!v.done;v=h.next()){var y=v.value;c.push(y)}}catch(e){r={error:e}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return c},e.prototype.isInactivatedComponent=function(component){for(;component;){if(!0===component._inactive)return!0;component=component.$parent}return!1},e.prototype.findKeepAliveParentComponents=function(){var e=[];return function t(r){var n,o;if(r)try{for(var c=l(r),f=c.next();!f.done;f=c.next()){var d=f.value;!0===d.keepAlive&&e.push(d),t(d.$children)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}(window.$nuxt.$children),e},e}();t.Cache=f},2003:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9),r(32),r(119),r(53),r(31),r(202),r(64);var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var c=l(r(16)),f=r(133),d=r(108),h=function(){function e(e){var t=this;this.popStateDetected=!1,this._histories=[],this.gobackState=!1,this.isBackState=!1,this.history={includeHistory:!0,lastHistory:function(){return t.histories.length<1?null:t.histories[t.histories.length-1]},add:function(e,r){var n,o,l,c;if(t.history.includeHistory){var h=d.getMatchedComponents(e);if(!(h.length<1)){var v=null===(o=null===(n=d.getRouteOption(e))||void 0===n?void 0:n.config)||void 0===o?void 0:o.route,y=(null==v?void 0:v.depth)||2,w=null===(c=null===(l=d.getRouteOption(r))||void 0===l?void 0:l.config)||void 0===c?void 0:c.route,m=null===r.name?0:(null==w?void 0:w.depth)||2,_=null==v?void 0:v.clearHistory;"function"==typeof _&&(e=f.deepMerge({},e,{depth:y}),r=f.deepMerge({},r,{depth:m}),_=_.call(h[h.length-1],e,r));var x=void 0===(null==v?void 0:v.includeHistory)?function(e,t){return e.depth>t.depth}:null==v?void 0:v.includeHistory;if(_)x=!0;else if("function"==typeof x&&(e=f.deepMerge({},e,{depth:y}),r=f.deepMerge({},r,{depth:m}),x=x.call(h[h.length-1],e,r)),!x)return;t.isEqual(t.history.lastHistory(),e)||(t.histories.push({path:e.path,query:e.query,depth:y}),t.context.$logger().debug("add history",t.histories)),_&&(t.history.clear(),t.context.$logger().debug("clear history",t.histories))}}},remove:function(e,r){var n=t.history.lastHistory();n&&t.isEqual(n,r)&&(t.histories.splice(-1),t.context.$logger().debug("remove history",t.histories))},removeCurrentSameRouteHistory:function(){var e=t.history.lastHistory();e&&t.isEqualCurrentPath(e)&&t.histories.splice(-1)},clear:function(){var e=t.history.lastHistory();e&&(t.histories=[e])}},this.context=e,this.init()}return Object.defineProperty(e.prototype,"histories",{get:function(){return this._histories},set:function(e){this._histories=e},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;this.popStateDetected=!1,window.addEventListener("popstate",(function(){e.popStateDetected=!0})),this.context.app.router.beforeEach((function(t,r,n){var o=e.popStateDetected||e.gobackState;e.popStateDetected=!1,e.isBackState=o,n()})),this.context.app.router.afterEach((function(t,r){e.isBackState?e.history.remove(t,r):e.history.add(t,r),e.isBackState=!1,e.gobackState=!1,e.history.includeHistory=!0}))},e.prototype.push=function(e,t,r){return void 0===t&&(t=!0),void 0===r&&(r=!0),n(this,void 0,void 0,(function(){var n=this;return o(this,(function(o){switch(o.label){case 0:return[4,c.default.nextTick()];case 1:return o.sent(),[2,new Promise((function(o){if(n.history.includeHistory=r,"string"==typeof e&&(e={path:e}),e.query=e.query||{},e=n.context.$ustra.utils.core.deepMerge({},e),t)"string"==typeof e&&(e={path:e}),e.query=e.query||{},e.query.t=(new Date).getTime();else if(n.isEqualCurrentPath(e))return void o();n.context.app.router.push(e),o()}))]}}))}))},e.prototype.back=function(e){var t=this;void 0===e&&(e=!1),c.default.nextTick((function(){var r=t.history.lastHistory();if(r){if(t.isEqualCurrentPath(r)){if(t.histories.length<=1)return;r=t.histories[t.histories.length-2]}r&&(t.gobackState=!0,t.push(r,e,!1))}}))},e.prototype.replace=function(e,t){void 0===t&&(t=!0),this.history.removeCurrentSameRouteHistory(),this.push(e,t,!0)},e.prototype.reload=function(){this.push(this.context.route,!0,!1)},e.prototype.getRouteUrl=function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")||e.startsWith(this.context.$ustra.contextPath)||(e=this.context.$ustra.contextPath+(e.startsWith("/")?e.substring(1):e)),e},e.prototype.isEqual=function(e,t){if(!e||!t)return!1;if(e.path!==t.path)return!1;var r=this.context.$ustra.utils.core.deepMerge({},e.query),n=this.context.$ustra.utils.core.deepMerge({},t.query);if(delete r.t,delete n.t,Object.keys(r).length!==Object.keys(n).length)return!1;for(var o in r)if(r[o]!==n[o])return!1;return!0},e.prototype.isEqualCurrentPath=function(e){return this.isEqual(this.context.route,e)},e}();t.Router=h},2004:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var n=r(154),o=r(2005),l=function(){function e(e){this.context=e,this.init()}return e.prototype.init=function(){n.addModules(this.context,{modal:o.ModalModule})},Object.defineProperty(e.prototype,"store",{get:function(){return this.context.$ustra.store.modal()},enumerable:!1,configurable:!0}),e}();t.Modal=l},2006:function(e,t,r){"use strict";var n=r(11);r(12),r(24);var o,l=this&&this.__extends||(o=function(e,b){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__decorate||function(e,t,r,desc){var o,l=arguments.length,c=l<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(l<3?o(c):l>3?o(t,r,c):o(t,r))||c);return l>3&&c&&Object.defineProperty(t,r,c),c},f=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var d=r(17),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.hide=function(){},t.prototype._showModal=function(){this.disallowDuplication&&this.$ustra.modal.store.currentModalComponent&&this._uid!==this.$ustra.modal.store.currentModalComponent._uid&&this.$ustra.modal.store.currentModalComponent.hide(),this.$ustra.modal.store.setCurrentModalComponent(this)},t.prototype._hideModal=function(){this.$ustra.modal.store.setCurrentModalComponent(null)},c([d.Prop({default:!1}),f("design:type",Object)],t.prototype,"disallowDuplication",void 0),t=c([d.Component],t)}(d.Vue);t.default=h},2007:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectError=void 0;t.detectError=function(e){var t;if(e.context.isStatic){var data=e.utils.nuxt.getStaticServerData();(null===(t=null==data?void 0:data.serverData)||void 0===t?void 0:t.hasError)&&(e.logger().error("server error detected..",data.serverData),e.definedStore.core.setServerError({status:500,message:data.serverData.resultMessage}))}}},641:function(e,t,r){"use strict";var n=r(11);r(12);var o,l=this&&this.__extends||(o=function(e,b){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__decorate||function(e,t,r,desc){var o,l=arguments.length,c=l<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(l<3?o(c):l>3?o(t,r,c):o(t,r))||c);return l>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(t,"__esModule",{value:!0});var f=r(17),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._defaultOption=null,t}return l(t,e),Object.defineProperty(t.prototype,"defaultOption",{get:function(){return this.$ustra.utils.core.deepMergeWithNull({},this._defaultOption,this.$data,this.$props)},enumerable:!1,configurable:!0}),t.prototype.created=function(){this._defaultOption=this.$options.config.defaultOption||{}},t=c([f.Component],t)}(f.Vue);t.default=d},675:function(e,t,r){"use strict";r(3),r(5),r(7),r(13),r(8),r(9),r(32);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function f(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,f)}d((n=n.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UstraPlugin=t.install=t.Consola=void 0;var h=r(816);Object.defineProperty(t,"Consola",{enumerable:!0,get:function(){return h.Consola}});var v=d(r(16)),y=d(r(192)),w=r(589),m=d(r(62)),_=l(r(90)),x=r(224),P=r(154),k=r(1895),O=r(1896),C=l(r(108)),M=d(r(1897)),j=r(1898),T=d(r(1900)),$=r(1901),S=d(r(1939)),E=d(r(1944)),R=d(r(1948)),A=r(1949),N=r(1953),I=r(1962),D=r(1964),U=r(1999),B=r(2e3),L=r(2002),H=r(2003),F=r(2004),K=r(2007);v.default.use(y.default);var W=null;t.install=function(e){m.default.registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]),N.registerFilters(),A.registerDirectives(),e&&(W=e,e[M.default.name]=M.default.middleware)};var G=function(){function e(e,t){this.moduleMap=null,this.context=null,this.env=null,this.logger=T.default,this.api=null,this.store=P.getStoreModules(),this.ui=null,this.utils=new S.default,this.nuxt=null,this.auth=null,this.middleware=null,this.interfaces=null,this.mobile=null,this.cache=null,this.router=null,this.modal=null,this.contextPath="/",this.definedStore={get auth(){return P.getStoreModules().auth()},get core(){return P.getStoreModules().core()},get interfaces(){return P.getStoreModules().interfaces()}},this.context=e,this.moduleMap=t,C.contextHolder.set(e)}return e.prototype.init=function(){return c(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return _.isBrowser()&&(window.console||(window.console={log:function(){},debug:function(){},warn:function(){},error:function(){},info:function(){}}),x.patchConvertJsonWithCurrentZone()),P.addModules(this.context,{core:k.CoreModule,interfaces:O.InterfaceModule}),this.middleware=W,this.env=new I.Env(this.context),[4,this.env.init()];case 1:return e.sent(),this.nuxt=new R.default(this.context),this.api=new $.ApiPlugin(this),this.env.appProp.app.auth.enabled&&(this.auth=new D.Auth(this,W,this.moduleMap)),this.api.addInterceptor(),this.ui=new E.default(this.context),this.interfaces=new U.Interfaces(this.context),this.env.appProp.nuxt.mobile.enabled&&(this.mobile=new B.Mobile(this.context)),this.context.isClient&&(this.cache=new L.Cache(this.context),this.router=new H.Router(this.context),this.modal=new F.Modal(this.context)),[2]}}))}))},e}();t.UstraPlugin=G,t.default=function(e,t,r){return c(void 0,void 0,void 0,(function(){var n,o;return f(this,(function(l){switch(l.label){case 0:return n=e,o=new G(e,r),n.$ustra=o,[4,o.init()];case 1:return l.sent(),n.$logger=o.logger,o.logger().debug("$ustra plugin load started..."),j.setupVueConfig(e),w.isEmpty(o.store)&&(o.store=P.getStoreModules()),n.$logger=o.logger,t("ustra",o),t("logger",o.logger),y.default.Store.prototype.$ustra=o,y.default.Store.prototype.$logger=o.logger,o.logger().debug("$ustra plugin loaded..."),K.detectError(o),[2]}}))}))}}}]);