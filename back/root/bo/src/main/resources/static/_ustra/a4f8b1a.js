(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{2129:function(t,e,r){"use strict";var n=r(1).extend,o=r(10).each,l=r(6).noop,h=r(20),c=h.getWindow(),d=r(2444),_=n,f=r(2).isDefined,m=r(2099).normalizeEnum,v=Math,x=v.round,y=v.floor,V=v.ceil,w="canvas_position_default";t.exports={deleteLabel:function(){this._label.dispose(),this._label=null},_hasGraphic:function(){return this.graphic},clearVisibility:function(){var t=this.graphic;t&&t.attr("visibility")&&t.attr({visibility:null})},isVisible:function(){return this.inVisibleArea&&this.series.isVisible()},setInvisibility:function(){var t=this,e=t.graphic;e&&"hidden"!==e.attr("visibility")&&e.attr({visibility:"hidden"}),t._errorBar&&t._errorBar.attr({visibility:"hidden"}),t._label.draw(!1)},clearMarker:function(){var t=this.graphic;t&&t.attr(this._emptySettings)},_createLabel:function(){this._label=new d.Label({renderer:this.series._renderer,labelsGroup:this.series._labelsGroup,point:this})},_updateLabelData:function(){this._label.setData(this._getLabelFormatObject())},_updateLabelOptions:function(){!this._label&&this._createLabel(),this._label.setOptions(this._options.label)},_checkImage:function(image){return f(image)&&("string"==typeof image||f(image.url))},_fillStyle:function(){this._styles=this._options.styles},_checkSymbol:function(t,e){var r=t.symbol,n=e.symbol,o="circle"===r&&"circle"!==n||"circle"!==r&&"circle"===n,l=this._checkImage(t.image)!==this._checkImage(e.image);return!(!o&&!l)},_populatePointShape:function(symbol,t){switch(symbol){case"square":return function(t){return[-t,-t,t,-t,t,t,-t,t,-t,-t]}(t);case"polygon":return function(t){var e=V(t);return[-e,0,0,-e,e,0,0,e,-e,0]}(t);case"triangle":case"triangleDown":return function(t){return[-t,-t,t,-t,0,t,-t,-t]}(t);case"triangleUp":return function(t){return[-t,t,t,t,0,-t,-t,t]}(t);case"cross":return function(t){var e=V(t),r=y(e/2),n=V(e/2);return[-e,-r,-r,-e,0,-n,r,-e,e,-r,n,0,e,r,r,e,0,n,-r,e,-e,r,-n,0]}(t)}},hasCoords:function(){return null!==this.x&&null!==this.y},correctValue:function(t){var e=this,r=e.series.getValueAxis();e.hasValue()&&(e.value=e.properValue=r.validateUnit(e.initialValue.valueOf()+t.valueOf()),e.minValue=r.validateUnit(t))},resetCorrection:function(){this.value=this.properValue=this.initialValue,this.minValue=w},resetValue:function(){var t=this;t.hasValue()&&(t.value=t.properValue=t.initialValue=0,t.minValue=0,t._label.setDataField("value",t.value))},_getTranslates:function(t){var e=this.x,r=this.y;return t&&(this._options.rotated?e=this.defaultX:r=this.defaultY),{x:e,y:r}},_createImageMarker:function(t,e,r){var n=r.width||20,o=r.height||20;return t.image(-x(.5*n),-x(.5*o),n,o,r.url?r.url.toString():r.toString(),"center").attr({translateX:e.translateX,translateY:e.translateY,visibility:e.visibility})},_createSymbolMarker:function(t,e){var marker,symbol=this._options.symbol;return"circle"===symbol?(delete e.points,marker=t.circle().attr(e)):"square"!==symbol&&"polygon"!==symbol&&"triangle"!==symbol&&"triangleDown"!==symbol&&"triangleUp"!==symbol&&"cross"!==symbol||(marker=t.path([],"area").attr(e).sharp()),marker},_createMarker:function(t,e,image,r){var n=this,marker=n._checkImage(image)?n._createImageMarker(t,r,image):n._createSymbolMarker(t,r);return marker&&marker.data({"chart-data-point":n}).append(e),marker},_getSymbolBBox:function(t,e,r){return{x:t-r,y:e-r,width:2*r,height:2*r}},_getImageBBox:function(t,e){var image=this._options.image,r=image.width||20,n=image.height||20;return{x:t-x(r/2),y:e-x(n/2),width:r,height:n}},_getGraphicBBox:function(){var t=this,e=t._options,r=t.x,n=t.y;return e.visible?t._checkImage(e.image)?t._getImageBBox(r,n):t._getSymbolBBox(r,n,e.styles.normal.r):{x:r,y:n,width:0,height:0}},hideInsideLabel:l,_getShiftLabelCoords:function(label){var t=this._addLabelAlignmentAndOffset(label,this._getLabelCoords(label));return this._checkLabelPosition(label,t)},_drawLabel:function(){var t=this,e=t._getCustomLabelVisibility(),label=t._label,r=t._showForZeroValues()&&t.hasValue()&&!1!==e&&(t.series.getLabelVisibility()||e);label.draw(!!r)},correctLabelPosition:function(label){var t=this,e=t._getShiftLabelCoords(label);t.hideInsideLabel(label,e)||(label.setFigureToDrawConnector(t._getLabelConnector(label.pointPosition)),label.shift(x(e.x),x(e.y)))},_showForZeroValues:function(){return!0},_getLabelConnector:function(t){var e=this._getGraphicBBox(t),r=e.width/2,h2=e.height/2;return{x:e.x+r,y:e.y+h2,r:this._options.visible?Math.max(r,h2):0}},_getPositionFromLocation:function(){return{x:this.x,y:this.y}},_isPointInVisibleArea:function(t,e){return t.minX<=e.x+e.width&&t.maxX>=e.x&&t.minY<=e.y+e.height&&t.maxY>=e.y},_checkLabelPosition:function(label,t){var e=this,r=e._getVisibleArea(),n=label.getBoundingRect(),o=e._getGraphicBBox(label.pointPosition),l=e._getGraphicBBox(),h="inside"===label.getLayoutOptions().position;return e._isPointInVisibleArea(r,l)&&(e._options.rotated?(r.minX>t.x&&(t.x=h?r.minX:o.x+o.width+10),r.maxX<t.x+n.width&&(t.x=h?r.maxX-n.width:o.x-10-n.width),r.minY>t.y&&(t.y=r.minY),r.maxY<t.y+n.height&&(t.y=r.maxY-n.height)):(r.minX>t.x&&(t.x=r.minX),r.maxX<t.x+n.width&&(t.x=r.maxX-n.width),r.minY>t.y&&(t.y=h?r.minY:o.y+o.height+10),r.maxY<t.y+n.height&&(t.y=h?r.maxY-n.height:o.y-n.height-10))),t},_addLabelAlignmentAndOffset:function(label,t){var e=label.getBoundingRect(),r=label.getLayoutOptions();return this._options.rotated||("left"===r.alignment?t.x+=e.width/2:"right"===r.alignment&&(t.x-=e.width/2)),t.x+=r.horizontalOffset,t.y+=r.verticalOffset,t},_getLabelCoords:function(label){return this._getLabelCoordOfPosition(label,this._getLabelPosition(label.pointPosition))},_getLabelCoordOfPosition:function(label,t){var e=label.getBoundingRect(),r=this._getGraphicBBox(label.pointPosition),n=r.height/2-e.height/2,o=r.width/2-e.width/2,l=r.x,h=r.y;switch(t){case"left":l-=e.width+10,h+=n;break;case"right":l+=r.width+10,h+=n;break;case"top":l+=o,h-=e.height+10;break;case"bottom":l+=o,h+=r.height+10;break;case"inside":l+=o,h+=n}return{x:l,y:h}},_drawMarker:function(t,e,r){var n=this,o=n._options,l=n._getTranslates(r),style=n._getStyle();n.graphic=n._createMarker(t,e,o.image,_({translateX:l.x,translateY:l.y,points:n._populatePointShape(o.symbol,style.r)},style))},_getErrorBarSettings:function(){return{visibility:"visible"}},_getErrorBarBaseEdgeLength:function(){return 2*this.getPointRadius()},_drawErrorBar:function(t,e){if(this._options.errorBars){var r,n=this,l=n._options,h=l.errorBars,c=[],d=n._errorBarPos,_=n._highErrorCoord,v=n._lowErrorCoord,x=m(h.displayMode),V="high"===x,w="low"===x,L=(V||!f(v))&&f(_)&&!w,k=(w||!f(_))&&f(v)&&!V,C=h.edgeLength;C<=1&&C>0&&(C=this._getErrorBarBaseEdgeLength()*h.edgeLength),C=y(parseInt(C)/2),L&&(v=n._baseErrorBarPos),k&&(_=n._baseErrorBarPos),"none"!==x&&f(_)&&f(v)&&f(d)?(!k&&c.push([d-C,_,d+C,_]),c.push([d,_,d,v]),!L&&c.push([d+C,v,d-C,v]),l.rotated&&o(c,(function(t,p){p.reverse()})),r=n._getErrorBarSettings(h),n._errorBar?(r.points=c,n._errorBar.attr(r)):n._errorBar=t.path(c,"line").attr(r).append(e)):n._errorBar&&n._errorBar.attr({visibility:"hidden"})}},getTooltipParams:function(){var t=this,e=t.graphic;return{x:t.x,y:t.y,offset:e?e.getBBox().height/2:0}},setPercentValue:function(t,e,r,n){var o=this,l=o.value/t||0,h=o.minValue/t||0,c=l-h;o._label.setDataField("percent",c),o._label.setDataField("total",e),o.series.isFullStackedSeries()&&o.hasValue()&&(o.leftHole&&(o.leftHole/=t-r,o.minLeftHole/=t-r),o.rightHole&&(o.rightHole/=t-n,o.minRightHole/=t-n),o.value=o.properValue=l,o.minValue=h||o.minValue)},_storeTrackerR:function(){var t=this,e=c.navigator,r=t._options.styles.normal.r,n=h.hasProperty("ontouchstart")||e.msPointerEnabled&&e.msMaxTouchPoints||e.pointerEnabled&&e.maxTouchPoints?20:6;return t._options.trackerR=r<n?n:r,t._options.trackerR},_translateErrorBars:function(){var t=this,e=t._options,r=e.rotated,n=e.errorBars,o=t._getValTranslator();n&&(f(t.lowError)&&(t._lowErrorCoord=o.translate(t.lowError)),f(t.highError)&&(t._highErrorCoord=o.translate(t.highError)),t._errorBarPos=y(r?t.vy:t.vx),t._baseErrorBarPos="stdDeviation"===n.type?t._lowErrorCoord+(t._highErrorCoord-t._lowErrorCoord)/2:r?t.vx:t.vy)},_translate:function(){var t=this,e=t._getValTranslator(),r=t._getArgTranslator();t._options.rotated?(t.vx=t.x=e.translate(t.value),t.vy=t.y=r.translate(t.argument),t.minX=e.translate(t.minValue),t.defaultX=e.translate(w)):(t.vy=t.y=e.translate(t.value),t.vx=t.x=r.translate(t.argument),t.minY=e.translate(t.minValue),t.defaultY=e.translate(w)),t._translateErrorBars(),t._calculateVisibility(t.x,t.y)},_updateData:function(data){var t=this;t.value=t.properValue=t.initialValue=t.originalValue=data.value,t.minValue=t.initialMinValue=t.originalMinValue=f(data.minValue)?data.minValue:w},_getImageSettings:function(image){return{href:image.url||image.toString(),width:image.width||20,height:image.height||20}},getCrosshairData:function(){var t=this,e=t._options.rotated,r=t.properValue,n=t.argument;return{x:t.vx,y:t.vy,xValue:e?r:n,yValue:e?n:r,axis:t.series.axis}},getPointRadius:function(){var style=this._getStyle(),t=this._options,e=style.r,symbol=t.symbol,r="square"===symbol,n="triangle"===symbol||"triangleDown"===symbol||"triangleUp"===symbol;return t.visible&&!t.image&&e?(r||n?1.4*e:e)+style["stroke-width"]/2:0},_updateMarker:function(t,style){var e,r=this,n=r._options,image=n.image,o=r.isVisible()?{}:{visibility:"hidden"};e=r._checkImage(image)?_({},{visibility:style.visibility},o,r._getImageSettings(image)):_({},style,o,{points:r._populatePointShape(n.symbol,style.r)}),t||(e.translateX=r.x,e.translateY=r.y),r.graphic.attr(e).sharp()},_getLabelFormatObject:function(){var t=this;return{argument:t.initialArgument,value:t.initialValue,originalArgument:t.originalArgument,originalValue:t.originalValue,seriesName:t.series.name,lowErrorValue:t.lowError,highErrorValue:t.highError,point:t}},_getLabelPosition:function(){var t=this._options.rotated;return this.initialValue>0?t?"right":"top":t?"left":"bottom"},_getFormatObject:function(t){var e=this,r=e._label.getData();return _({},r,{argumentText:t.formatValue(e.initialArgument,"argument"),valueText:t.formatValue(e.initialValue)},f(r.percent)?{percentText:t.formatValue(r.percent,"percent")}:{},f(r.total)?{totalText:t.formatValue(r.total)}:{})},getMarkerVisibility:function(){return this._options.visible},coordsIn:function(t,e){var r=this._storeTrackerR();return t>=this.x-r&&t<=this.x+r&&e>=this.y-r&&e<=this.y+r},getMinValue:function(t){var e=this._options.errorBars;if(e&&!t){var r=e.displayMode,n="high"!==r&&f(this.lowError)?this.lowError:this.value,o="low"!==r&&f(this.highError)?this.highError:this.value;return n<o?n:o}return this.value},getMaxValue:function(t){var e=this._options.errorBars;if(e&&!t){var r=e.displayMode,n="high"!==r&&f(this.lowError)?this.lowError:this.value,o="low"!==r&&f(this.highError)?this.highError:this.value;return n>o?n:o}return this.value}}},2147:function(t,e,r){"use strict";var n=r(1).extend,o=Math,l=o.floor,h=o.abs,c=r(2129),d="right",_="top";function f(t){var e=t.initialValue,r=t._getValTranslator().getBusinessRange().invert,n="discrete"===t.series.valueAxisType,o=t.series.isFullStackedSeries();return!n&&(e>=0&&!r||e<0&&r)||n&&!r||o?_:"bottom"}t.exports=n({},c,{correctCoordinates:function(t){var e=this,r=l(t.offset-t.width/2);e._options.rotated?(e.height=t.width,e.yCorrection=r,e.xCorrection=null):(e.width=t.width,e.xCorrection=r,e.yCorrection=null)},_getGraphicBBox:function(t){var e={x:this.x,y:this.y,width:this.width,height:this.height};if(t){var r="top"===t;this._options.rotated?(e.x=r?e.x+e.width:e.x,e.width=0):(e.y=r?e.y:e.y+e.height,e.height=0)}return e},_getLabelConnector:function(t){return this._getGraphicBBox(t)},_getLabelPosition:function(){var t=f(this);return this._options.rotated&&(t=t===_?d:"left"),t},_getLabelCoords:function(label){var t=this;return 0===t.initialValue&&t.series.isFullStackedSeries()?this._options.rotated?t._getLabelCoordOfPosition(label,d):t._getLabelCoordOfPosition(label,_):"inside"===label.getLayoutOptions().position?t._getLabelCoordOfPosition(label,"inside"):c._getLabelCoords.call(this,label)},_drawLabel:function(){this._label.pointPosition="inside"!==this._label.getLayoutOptions().position&&f(this),c._drawLabel.call(this)},hideInsideLabel:function(label,t){var e=this._getGraphicBBox(),r=label.getBoundingRect();return!(!this._options.resolveLabelsOverlapping||!(t.y<=e.y&&t.y+r.height>=e.y+e.height||t.x<=e.x&&t.x+r.width>=e.x+e.width)||t.y>e.y+e.height||t.y+r.height<e.y||t.x>e.x+e.width||t.x+r.width<e.x)&&(label.draw(!1),!0)},_showForZeroValues:function(){return this._options.label.showForZeroValues||this.initialValue},_drawMarker:function(t,e,r){var n=this,style=n._getStyle(),o=n._options.cornerRadius,l=n._options.rotated,h=n.getMarkerCoords(),c=h.x,d=h.y,_=h.width,f=h.height;r&&(l?(_=0,c=n.defaultX):(f=0,d=n.defaultY)),n.graphic=t.rect(c,d,_,f).attr({rx:o,ry:o}).smartAttr(style).data({"chart-data-point":n}).append(e)},_getSettingsForTracker:function(){var t=this,e=t.y,r=t.height,n=t.x,o=t.width;return t._options.rotated?1===o&&(o=9,n-=4):1===r&&(r=9,e-=4),{x:n,y:e,width:o,height:r}},getGraphicSettings:function(){var t=this.graphic;return{x:t.attr("x"),y:t.attr("y"),height:t.attr("height"),width:t.attr("width")}},_getEdgeTooltipParams:function(){var t,e,r=this.value>=0,n=this._getValTranslator().getBusinessRange().invert,o=this.x,l=this.y,h=this.width,c=this.height;return this._options.rotated?(e=l+c/2,t=n?r?o:o+h:r?o+h:o):(t=o+h/2,e=n?r?l+c:l:r?l:l+c),{x:t,y:e,offset:0}},getTooltipParams:function(t){if("edge"===t)return this._getEdgeTooltipParams();var e=this.getCenterCoord();return e.offset=0,e},getCenterCoord:function(){var t=this.width,e=this.height;return{x:this.x+t/2,y:this.y+e/2}},_truncateCoord:function(t,e){return null===t?t:t<e[0]?e[0]:t>e[1]?e[1]:t},_getErrorBarBaseEdgeLength:function(){return this._options.rotated?this.height:this.width},_translateErrorBars:function(t){c._translateErrorBars.call(this),(this._errorBarPos<t[0]||this._errorBarPos>t[1])&&(this._errorBarPos=void 0)},_translate:function(){var t,e,r,n=this,o=n._options.rotated,l=o?"x":"y",c=o?"y":"x",d=o?"width":"height",_=o?"height":"width",f=n._getArgTranslator(),m=n._getValTranslator(),v=n.series.getArgumentAxis().getVisibleArea(),x=n.series.getValueAxis().getVisibleArea();t=f.translate(n.argument),n[c]=t=null===t?t:t+(n[c+"Correction"]||0),e=m.translate(n.value,1),r=m.translate(n.minValue),n["v"+l]=e,n["v"+c]=t+n[_]/2,e=n._truncateCoord(e,x),r=n._truncateCoord(r,x),n[d]=h(e-r),e=e<r?e:r,n._calculateVisibility(o?e:t,o?t:e,n.width,n.height),n[l]=null===e?e:e+(n[l+"Correction"]||0),n["min"+l.toUpperCase()]=null===r?r:r+(n[l+"Correction"]||0),n["default"+l.toUpperCase()]=m.translate("canvas_position_default"),n._translateErrorBars(v),n.inVisibleArea&&null!==n[c]&&(n[c]<v[0]&&(n[_]=n[_]-(v[0]-n[c]),n[c]=v[0]),n[c]+n[_]>v[1]&&(n[_]=v[1]-n[c]))},_updateMarker:function(t,style){this.graphic.smartAttr(n({},style,t?{}:this.getMarkerCoords()))},getMarkerCoords:function(){var t=this,e=t.x,r=t.y,n=t.width,o=t.height,l=t.series.getArgumentAxis(),h=t._options.rotated;if(l.getAxisPosition){var c=l.getOptions(),d=Math.round(c.width/2),_=l.getAxisPosition();if(c.visible)if(h){var f=t.minX===t.defaultX&&t.minX===_-l.getAxisShift();e+=f?d:0,(n-=f?d:0)<0&&(n=0)}else(o-=t.minY===t.defaultY&&t.minY===_-l.getAxisShift()?d:0)<0&&(o=0)}return{x:e,y:r,width:n,height:o}},coordsIn:function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height}})},2444:function(t,e,r){"use strict";var n=r(727),o=r(2099),l=r(10),h=r(1),c=Math,d=c.round,_=c.floor,f=c.abs;function m(t,e){var r,n=1/0;return(0,l.each)(e,(function(e,o){var l=t[0]-o[0],h=t[1]-o[1],c=l*l+h*h;c<n&&(n=c,r=o)})),[_(r[0]),_(r[1])]}function v(rect,t,e){return(t-rect[0+e])/(rect[2+e]-rect[0+e])*(rect[3-e]-rect[1-e])+rect[1-e]}var x={isLabelInside:function(t,figure){var e=t.x+t.width/2,r=t.y+t.height/2;return figure.x<=e&&e<=figure.x+figure.width&&figure.y<=r&&r<=figure.y+figure.height},prepareLabelPoints:function(t,e,r,n,o){var l=e.x,h=l+e.width/2,c=l+e.width-1,d=e.y,_=d+e.height/2,m=d+e.height-1,x=f(n)%90==0;return o[0]>l&&o[0]<c?x?[[o[0],f(o[1]-d)<f(o[1]-m)?d:m]]:[[o[0],v([l,d,c,m],o[0],0)]]:o[1]>d&&o[1]<m?x?[[f(o[0]-l)<f(o[0]-c)?l:c,o[1]]]:[[v([l,d,c,m],o[1],1),o[1]]]:x?[[l,d],[r?l:h,r?_:d],[c,d],[l,m],[r?c:h,r?_:m],[c,m]]:[[h,_]]},isHorizontal:function(t,figure){return t.x>figure.x+figure.width||t.x+t.width<figure.x},getFigureCenter:function(figure){return[_(figure.x+figure.width/2),_(figure.y+figure.height/2)]},findFigurePoint:function(figure,t){var e=x.getFigureCenter(figure);return m(t,[[figure.x,e[1]],[e[0],figure.y+figure.height],[figure.x+figure.width,e[1]],[e[0],figure.y]])},adjustPoints:function(t){var e=f(t[1]-t[3])<=1;return f(t[0]-t[2])<=1&&(t[0]=t[2]),e&&(t[1]=t[3]),t}},y={isLabelInside:function(){return!1},prepareLabelPoints:x.prepareLabelPoints,isHorizontal:function(t,figure){return t.x>figure.x+figure.r||t.x+t.width<figure.x-figure.r},getFigureCenter:function(figure){return[figure.x,figure.y]},findFigurePoint:function(figure,t){var e=Math.atan2(figure.y-t[1],t[0]-figure.x);return[d(figure.x+figure.r*Math.cos(e)),d(figure.y-figure.r*Math.sin(e))]},adjustPoints:x.adjustPoints},V={isLabelInside:function(t,e,r){return!r},prepareLabelPoints:function(t,e,r,n){var l=t.x,h=l+t.width,c=l+d(t.width/2),_=t.y,f=_+t.height,m=_+d(t.height/2),v=[[[l,_],[h,_]],[[h,_],[h,f]],[[h,f],[l,f]],[[l,f],[l,_]]],x=(0,o.getCosAndSin)(n);return v=0===n?r?[[l,m],[h,m]]:[[c,_],[c,f]]:v.map((function(t){return t.map((function(t){return[d((t[0]-c)*x.cos+(t[1]-m)*x.sin+c),d(-(t[0]-c)*x.sin+(t[1]-m)*x.cos+m)]}))})).reduce((function(t,e){var n=e[0][0],o=e[0][1],l=e[1][0],h=e[1][1];return r?(o>=m&&m>=h||o<=m&&m<=h)&&t.push([(m-o)*(l-n)/(h-o)+n,m]):(n>=c&&c>=l||n<=c&&c<=l)&&t.push([c,(c-n)*(h-o)/(l-n)+o]),t}),[])},isHorizontal:function(t,figure){return t.x>figure.x||figure.x>t.x+t.width},getFigureCenter:y.getFigureCenter,findFigurePoint:function(figure,t,e){if(!e)return[figure.x,figure.y];var r=t[0],n=d(figure.x+(figure.y-t[1])/Math.tan((0,o.degreesToRadians)(figure.angle))),l=[figure.x,figure.y,n,t[1]];return figure.x<=n&&n<=r||r<=n&&n<=figure.x||(f(figure.x-r)<12?l=[figure.x,figure.y]:figure.x<=r?l[2]=figure.x+12:l[2]=figure.x-12),l},adjustPoints:function(t){return t}};function w(figure){return void 0!==figure.angle&&V||void 0!==figure.r&&y||x}function L(t,e){t[e]&&t[e].dispose(),t[e]=null}function k(t){return t&&(t.fill&&"none"!==t.fill||t["stroke-width"]>0&&t.stroke&&"none"!==t.stroke)}function C(t){return t&&t["stroke-width"]>0&&t.stroke&&"none"!==t.stroke}function P(t){this._renderer=t.renderer,this._container=t.labelsGroup,this._point=t.point,this._strategy=t.strategy,this._rowCount=1}P.prototype={constructor:P,setColor:function(t){this._color=t},setOptions:function(t){this._options=t},setData:function(data){this._data=data},setDataField:function(t,e){this._data=this._data||{},this._data[t]=e},getData:function(){return this._data},setFigureToDrawConnector:function(figure){this._figure=figure},dispose:function(){var t=this;L(t,"_group"),t._data=t._options=t._textContent=t._visible=t._insideGroup=t._text=t._background=t._connector=t._figure=null},_setVisibility:function(t,e){this._group&&this._group.attr({visibility:t}),this._visible=e},isVisible:function(){return this._visible},hide:function(t){this._holdVisibility=!!t,this._hide()},_hide:function(){this._setVisibility("hidden",!1)},show:function(t){var e=!this._drawn;this._point.hasValue()&&(this._holdVisibility=!!t,this._show(),e&&this._point.correctLabelPosition(this))},_show:function(){var t=this,e=t._renderer,r=t._container,l=t._options||{},text=t._textContent=function(data,t){var e=t.format;return data.valueText=(0,n.format)(data.value,e),data.argumentText=(0,n.format)(data.argument,t.argumentFormat),void 0!==data.percent&&(data.percentText=(0,n.format)(data.percent,{type:"percent",precision:e&&e.percentPrecision})),void 0!==data.total&&(data.totalText=(0,n.format)(data.total,e)),void 0!==data.openValue&&(data.openValueText=(0,n.format)(data.openValue,e)),void 0!==data.closeValue&&(data.closeValueText=(0,n.format)(data.closeValue,e)),void 0!==data.lowValue&&(data.lowValueText=(0,n.format)(data.lowValue,e)),void 0!==data.highValue&&(data.highValueText=(0,n.format)(data.highValue,e)),void 0!==data.reductionValue&&(data.reductionValueText=(0,n.format)(data.reductionValue,e)),t.customizeText?t.customizeText.call(data,data):data.valueText}(t._data,t._options)||null;text?(t._group||(t._group=e.g().append(r),t._insideGroup=e.g().append(t._group),t._text=e.text("",0,0).append(t._insideGroup)),t._text.css(l.attributes?(0,o.patchFontOptions)(l.attributes.font):{}),k(l.background)?(t._background=t._background||e.rect().append(t._insideGroup).toBackground(),t._background.attr(l.background),t._color&&t._background.attr({fill:t._color})):L(t,"_background"),C(l.connector)?(t._connector=t._connector||e.path([],"line").sharp().append(t._group).toBackground(),t._connector.attr(l.connector),t._color&&t._connector.attr({stroke:t._color})):L(t,"_connector"),t._text.attr({text:text,align:l.textAlignment,class:l.cssClass}),t._updateBackground(t._text.getBBox()),t._setVisibility("visible",!0),t._drawn=!0):t._hide()},_getLabelVisibility:function(t){return this._holdVisibility?this.isVisible():t},draw:function(t){return this._getLabelVisibility(t)?(this._show(),this._point&&this._point.correctLabelPosition(this)):(this._drawn=!1,this._hide()),this},_updateBackground:function(t){var e=this;e._background&&(t.x-=8,t.y-=4,t.width+=16,t.height+=8,e._background.attr(t)),e._bBoxWithoutRotation=(0,h.extend)({},t);var r=e._options.rotationAngle||0;e._insideGroup.rotate(r,t.x+t.width/2,t.y+t.height/2),t=(0,o.rotateBBox)(t,[t.x+t.width/2,t.y+t.height/2],-r),e._bBox=t},getFigureCenter:function(){var figure=this._figure;return(this._strategy||w(figure)).getFigureCenter(figure)},_getConnectorPoints:function(){var t,e,r=this,figure=r._figure,n=r._options,o=r._strategy||w(figure),l=r._shiftBBox(r._bBoxWithoutRotation),h=r.getBoundingRect(),c=[];if(!o.isLabelInside(l,figure,"inside"!==n.position)){e=o.isHorizontal(l,figure);var d=r.getFigureCenter();t=m(d,c=o.prepareLabelPoints(l,h,e,-n.rotationAngle||0,d)),c=(c=o.findFigurePoint(figure,t,e)).concat(t)}return o.adjustPoints(c)},fit:function(t){var e=this._background?16:0,r=!1;if(this._text){var n=this._text.setMaxSize(t-e,void 0,this._options),o=n.rowCount;0===o&&(o=1),o!==this._rowCount&&(r=!0,this._rowCount=o),n.textIsEmpty&&L(this,"_background")}return this._updateBackground(this._text.getBBox()),r},resetEllipsis:function(){this._text&&this._text.restoreText(),this._updateBackground(this._text.getBBox())},setTrackerData:function(t){this._text.data({"chart-data-point":t}),this._background&&this._background.data({"chart-data-point":t})},hideInsideLabel:function(t){return this._point.hideInsideLabel(this,t)},getPoint:function(){return this._point},shift:function(t,e){var r=this;return r._textContent&&(r._insideGroup.attr({translateX:r._x=d(t-r._bBox.x),translateY:r._y=d(e-r._bBox.y)}),r._connector&&r._connector.attr({points:r._getConnectorPoints()})),r},getBoundingRect:function(){return this._shiftBBox(this._bBox)},_shiftBBox:function(t){return this._textContent?{x:t.x+this._x,y:t.y+this._y,width:t.width,height:t.height}:{}},getLayoutOptions:function(){var t=this._options;return{alignment:t.alignment,background:k(t.background),horizontalOffset:t.horizontalOffset,verticalOffset:t.verticalOffset,radialOffset:t.radialOffset,position:t.position,connectorOffset:(C(t.connector)?12:0)+(k(t.background)?8:0)}}},e.Label=P},2445:function(t,e,r){"use strict";var n=r(1).extend,o=r(2129),l=n,h=Math.round,c=Math.sqrt,d=Math.acos,_=180/Math.PI,f=Math.abs,m=r(2099),v=m.normalizeAngle,x=m.getCosAndSin,y=r(2).isDefined,V=m.getVerticallyShiftedAngularCoords,w=r(2128).radialLabelIndent;t.exports=l({},o,{_updateData:function(data,t){var e=this;o._updateData.call(this,data),!t&&y(e._visible)||(e._visible=!0),e.minValue=e.initialMinValue=e.originalMinValue=y(data.minValue)?data.minValue:0},animate:function(t,e,r){var n=this;n.graphic.animate({x:n.centerX,y:n.centerY,outerRadius:n.radiusOuter,innerRadius:n.radiusInner,startAngle:n.toAngle,endAngle:n.fromAngle},{delay:r,partitionDuration:e},t)},correctPosition:function(t){var e=this;e.correctRadius(t),e.correctLabelRadius(t.radiusOuter+w),e.centerX=t.centerX,e.centerY=t.centerY},correctRadius:function(t){this.radiusInner=t.radiusInner,this.radiusOuter=t.radiusOuter},correctLabelRadius:function(t){this.radiusLabels=t},correctValue:function(t,e,base){var r=this;r.value=(base||r.normalInitialValue)+t,r.minValue=t,r.percent=e,r._label.setDataField("percent",e)},_updateLabelData:function(){this._label.setData(this._getLabelFormatObject())},_getShiftLabelCoords:function(){var t=this,e=t._label.getBoundingRect(),r=t._getLabelCoords(t._label),n=t._getVisibleArea();return t._isLabelDrawingWithoutPoints?t._checkLabelPosition(r,e,n):t._getLabelExtraCoord(r,t._checkVerticalLabelPosition(r,e,n),e)},_getLabelPosition:function(t){return t.position},_getLabelCoords:function(label){var t,e,r=this,n=label.getBoundingRect(),o=label.getLayoutOptions(),l=x(r.middleAngle),c=r._getLabelPosition(o),d=r.radiusInner,_=r.radiusOuter,f=r.radiusLabels,m="columns"===c;return"inside"===c?(t=d+(_-d)/2+o.radialOffset,e=r.centerX+t*l.cos-n.width/2):(t=f+o.radialOffset,e=l.cos>.1||m&&l.cos>=0?r.centerX+t*l.cos:l.cos<-.1||m&&l.cos<0?r.centerX+t*l.cos-n.width:r.centerX+t*l.cos-n.width/2),{x:e,y:h(r.centerY-t*l.sin-n.height/2)}},_correctLabelCoord:function(t,e){var r=this,label=r._label,n=label.getBoundingRect().width,o=label.getLayoutOptions(),l=r._getVisibleArea(),h=l.maxX-n,c=l.minX,d=v(r.middleAngle),_=r.centerX,f=o.connectorOffset,m=t.x;return"columns"===o.position?(m=d<=90||d>=270?h:c,t.x=m):"inside"!==o.position&&e&&(d<=90||d>=270?m-f<_&&(m=_+f):m+n+f>_&&(m=_-n-f),t.x=m),t},drawLabel:function(){this.translate(),this._isLabelDrawingWithoutPoints=!0,this._drawLabel(),this._isLabelDrawingWithoutPoints=!1},updateLabelCoord:function(t){var e=this,r=e._label.getBoundingRect(),n=e._correctLabelCoord(r,t);n=e._checkHorizontalLabelPosition(n,r,e._getVisibleArea()),e._label.shift(h(n.x),h(r.y))},_checkVerticalLabelPosition:function(t,e,r){var n=t.x,o=t.y;return t.y+e.height>r.maxY?o=r.maxY-e.height:t.y<r.minY&&(o=r.minY),{x:n,y:o}},_getLabelExtraCoord:function(t,e,r){return t.y!==e.y?V({x:t.x,y:t.y,width:r.width,height:r.height},e.y-t.y,{x:this.centerX,y:this.centerY}):t},_checkHorizontalLabelPosition:function(t,e,r){var n=t.x,o=t.y;return t.x+e.width>r.maxX?n=r.maxX-e.width:t.x<r.minX&&(n=r.minX),{x:n,y:o}},applyWordWrap:function(t){var e=this,label=e._label,r=label.getBoundingRect(),n=e._getVisibleArea(),o=label.getLayoutOptions().position,l=r.width,h=!1;return"columns"===o&&e.series.index>0?l=n.maxX-e.centerX-e.radiusLabels:"inside"===o?l>n.maxX-n.minX&&(l=n.maxX-n.minX):t&&r.x<e.centerX&&r.width+r.x>e.centerX?l=Math.floor((n.maxX-n.minX)/2):r.x+l>n.maxX?l=n.maxX-r.x:r.x<n.minX&&(l=r.x+l-n.minX),l<r.width&&(h=label.fit(l)),h},setLabelTrackerData:function(){this._label.setTrackerData(this)},_checkLabelPosition:function(t,e,r){return t=this._checkHorizontalLabelPosition(t,e,r),this._checkVerticalLabelPosition(t,e,r)},_getLabelConnector:function(){var t=this,e=t.radiusOuter,r=t._options.styles.normal,n=r["stroke-width"]/2,o=t.series.getOptions().containerBackgroundColor===r.stroke?h(n):h(-n),l=x(h(t.middleAngle));return{x:h(t.centerX+(e-o)*l.cos),y:h(t.centerY-(e-o)*l.sin),angle:t.middleAngle}},_drawMarker:function(t,e,r,n){var o=this,l=o.radiusOuter,h=o.radiusInner,c=o.fromAngle,d=o.toAngle;r&&(h=l=0,n||(c=d=o.shiftedAngle)),o.graphic=t.arc(o.centerX,o.centerY,h,l,d,c).attr({"stroke-linejoin":"round"}).smartAttr(o._getStyle()).data({"chart-data-point":o}).sharp().append(e)},getTooltipParams:function(){var t=this,e=x(t.middleAngle),r=t.radiusInner,n=t.radiusOuter;return{x:t.centerX+(r+(n-r)/2)*e.cos,y:t.centerY-(r+(n-r)/2)*e.sin,offset:0}},_translate:function(){var t=this,e=t.shiftedAngle||0,r=t.value,n=t.minValue,o=t._getValTranslator();t.fromAngle=o.translate(n)+e,t.toAngle=o.translate(r)+e,t.middleAngle=o.translate((r-n)/2+n)+e,t.isVisible()||(t.middleAngle=t.toAngle=t.fromAngle=t.fromAngle||e)},getMarkerVisibility:function(){return!0},_updateMarker:function(t,style,e,r){var n=this;t||(style=l({x:n.centerX,y:n.centerY,outerRadius:n.radiusOuter,innerRadius:n.radiusInner,startAngle:n.toAngle,endAngle:n.fromAngle},style)),n.graphic.smartAttr(style).sharp(),r&&r()},getLegendStyles:function(){return this._styles.legendStyles},isInVisibleArea:function(){return!0},hide:function(){var t=this;t._visible&&(t._visible=!1,t.hideTooltip(),t._options.visibilityChanged())},show:function(){var t=this;t._visible||(t._visible=!0,t._options.visibilityChanged())},setInvisibility:function(){this._label.draw(!1)},isVisible:function(){return this._visible},_getFormatObject:function(t){var e=o._getFormatObject.call(this,t),r=this.percent;return e.percent=r,e.percentText=t.formatValue(r,"percent"),e},getColor:function(){return this._styles.normal.fill},coordsIn:function(t,e){var r,n=this,o=t-n.centerX,l=e-n.centerY,h=c(o*o+l*l),m=n.fromAngle%360,v=n.toAngle%360;return!(h<n.radiusInner||h>n.radiusOuter||0===h)&&((r=d(o/h)*_*(l>0?-1:1))<0&&(r+=360),m===v&&f(n.toAngle-n.fromAngle)>1e-4||(m>=v?r<=m&&r>=v:!(r>=m&&r<=v)))}})},2446:function(t,e,r){"use strict";var n=r(10).each,o=r(1).extend,l=r(6).noop,h=r(2444),c=r(2129),d=o,_=r(2).isDefined,f=Math,m=f.abs,v=f.min,x=f.max,y=f.round;t.exports=d({},c,{deleteLabel:function(){var t=this;t._topLabel.dispose(),t._topLabel=null,t._bottomLabel.dispose(),t._bottomLabel=null},hideMarker:function(t){var e=this.graphic,marker=e&&e[t+"Marker"],label=this["_"+t+"Label"];marker&&"hidden"!==marker.attr("visibility")&&marker.attr({visibility:"hidden"}),label.draw(!1)},setInvisibility:function(){this.hideMarker("top"),this.hideMarker("bottom")},clearVisibility:function(){var t=this.graphic,e=t&&t.topMarker,r=t&&t.bottomMarker;e&&e.attr("visibility")&&e.attr({visibility:null}),r&&r.attr("visibility")&&r.attr({visibility:null})},clearMarker:function(){var t=this.graphic,e=t&&t.topMarker,r=t&&t.bottomMarker,n=this._emptySettings;e&&e.attr(n),r&&r.attr(n)},_getLabelPosition:function(t){var e="inside"===this._options.label.position;return this._options.rotated?"top"===t^e?"right":"left":"top"===t^e?"top":"bottom"},_getLabelMinFormatObject:function(){var t=this;return{index:0,argument:t.initialArgument,value:t.initialMinValue,seriesName:t.series.name,originalValue:t.originalMinValue,originalArgument:t.originalArgument,point:t}},_updateLabelData:function(){var t=this._getLabelFormatObject();t.index=1,this._topLabel.setData(t),this._bottomLabel.setData(this._getLabelMinFormatObject())},_updateLabelOptions:function(){var t=this,e=this._options.label;(!t._topLabel||!t._bottomLabel)&&t._createLabel(),t._topLabel.setOptions(e),t._bottomLabel.setOptions(e)},_createLabel:function(){var t={renderer:this.series._renderer,labelsGroup:this.series._labelsGroup,point:this};this._topLabel=new h.Label(t),this._bottomLabel=new h.Label(t)},_getGraphicBBox:function(t){var e=this._options,r=this._getImage(e.image),image="top"===t?this._checkImage(r.top):this._checkImage(r.bottom),n=this._getPositionFromLocation(t);return e.visible?image?this._getImageBBox(n.x,n.y):this._getSymbolBBox(n.x,n.y,e.styles.normal.r):{x:n.x,y:n.y,width:0,height:0}},_getPositionFromLocation:function(t){var e,r,n="top"===t;return this._options.rotated?(e=n?x(this.x,this.minX):v(this.x,this.minX),r=this.y):(e=this.x,r=n?v(this.y,this.minY):x(this.y,this.minY)),{x:e,y:r}},_checkOverlay:function(t,e,r){return t<e+r},_getOverlayCorrections:function(t,e){var r=this._options.rotated,n=r?"x":"y",o=r?"width":"height",l=this.series.getValueAxis().getVisibleArea(),h=l[0],c=l[1],d=y((t[n]+t[o]-e[n])/2),_=t[n]-d,f=e[n]+d;return _<h?(_+=d=h-_,f+=d):f+e[o]>c&&(_+=d=c-f-e[o],f+=d),{coord1:_,coord2:f}},_checkLabelsOverlay:function(t){var e=this,r=e._topLabel.getBoundingRect(),n=e._bottomLabel.getBoundingRect(),o={};e._options.rotated?"top"===t?this._checkOverlay(r.x,n.x,n.width)&&(o=this._getOverlayCorrections(n,r),e._topLabel.shift(o.coord2,r.y),e._bottomLabel.shift(o.coord1,n.y)):this._checkOverlay(n.x,r.x,r.width)&&(o=this._getOverlayCorrections(r,n),e._topLabel.shift(o.coord1,r.y),e._bottomLabel.shift(o.coord2,n.y)):"top"===t?this._checkOverlay(n.y,r.y,r.height)&&(o=this._getOverlayCorrections(r,n),e._topLabel.shift(r.x,o.coord1),e._bottomLabel.shift(n.x,o.coord2)):this._checkOverlay(r.y,n.y,n.height)&&(o=this._getOverlayCorrections(n,r),e._topLabel.shift(r.x,o.coord2),e._bottomLabel.shift(n.x,o.coord1))},_drawLabel:function(){var t=this,e=[],r=t._options.rotated?t.x>=t.minX:t.y<t.minY,o=t._getCustomLabelVisibility(),l=t._topLabel,h=t._bottomLabel;l.pointPosition=r?"top":"bottom",h.pointPosition=r?"bottom":"top",(t.series.getLabelVisibility()||o)&&t.hasValue()&&!1!==o?(!1!==t.visibleTopMarker&&e.push(l),!1!==t.visibleBottomMarker&&e.push(h),n(e,(function(t,label){label.draw(!0)})),t._checkLabelsOverlay(t._topLabel.pointPosition)):(l.draw(!1),h.draw(!1))},_getImage:function(t){var image={};return _(t)&&("string"==typeof t?image.top=image.bottom=t:(image.top={url:"string"==typeof t.url?t.url:t.url&&t.url.rangeMaxPoint,width:"number"==typeof t.width?t.width:t.width&&t.width.rangeMaxPoint,height:"number"==typeof t.height?t.height:t.height&&t.height.rangeMaxPoint},image.bottom={url:"string"==typeof t.url?t.url:t.url&&t.url.rangeMinPoint,width:"number"==typeof t.width?t.width:t.width&&t.width.rangeMinPoint,height:"number"==typeof t.height?t.height:t.height&&t.height.rangeMinPoint})),image},_checkSymbol:function(t,e){var r=this,n=t.symbol,o=e.symbol,l="circle"===n&&"circle"!==o||"circle"!==n&&"circle"===o,h=r._getImage(t.image),c=r._getImage(e.image),d=r._checkImage(h.top)!==r._checkImage(c.top),_=r._checkImage(h.bottom)!==r._checkImage(c.bottom);return l||d||_},_getSettingsForTwoMarkers:function(style){var t=this,e=t._options,r={},n=e.rotated?v(t.x,t.minX):t.x,o=e.rotated?t.y:v(t.y,t.minY),l=style.r,h=t._populatePointShape(e.symbol,l);return r.top=d({translateX:n+t.width,translateY:o,r:l},style),r.bottom=d({translateX:n,translateY:o+t.height,r:l},style),h&&(r.top.points=r.bottom.points=h),r},_hasGraphic:function(){return this.graphic&&this.graphic.topMarker&&this.graphic.bottomMarker},_drawOneMarker:function(t,e,r,n){var o=this,l=o.graphic;l[e]?o._updateOneMarker(e,n):l[e]=o._createMarker(t,l,r,n)},_drawMarker:function(t,e,r,n,style){var o=this,l=o._getSettingsForTwoMarkers(style||o._getStyle()),image=o._getImage(o._options.image);o._checkImage(image.top)&&(l.top=o._getImageSettings(l.top,image.top)),o._checkImage(image.bottom)&&(l.bottom=o._getImageSettings(l.bottom,image.bottom)),o.graphic=o.graphic||t.g().append(e),o.visibleTopMarker&&o._drawOneMarker(t,"topMarker",image.top,l.top),o.visibleBottomMarker&&o._drawOneMarker(t,"bottomMarker",image.bottom,l.bottom)},_getSettingsForTracker:function(t){var e=this,r=e._options.rotated;return{translateX:r?v(e.x,e.minX)-t:e.x-t,translateY:r?e.y-t:v(e.y,e.minY)-t,width:e.width+2*t,height:e.height+2*t}},isInVisibleArea:function(){var t,e=this,r=e._options.rotated,n=r?e.y:e.x,o=r?x(e.minX,e.x):x(e.minY,e.y),l=r?v(e.minX,e.x):v(e.minY,e.y),h=!0,c=!0,d=!0,_=e.series.getArgumentAxis().getVisibleArea(),f=e.series.getValueAxis().getVisibleArea(),m=_[1]<n||_[0]>n,y=f[0]>l&&f[0]>o||f[1]<l&&f[1]<o;return m||y?h=c=d=!1:(h=f[0]<=l&&f[1]>l,c=f[0]<o&&f[1]>=o,r&&(t=h,h=c,c=t)),e.visibleTopMarker=h,e.visibleBottomMarker=c,d},getTooltipParams:function(){var t,e,r=this,n=r._options.rotated,o=n?v(r.x,r.minX):v(r.y,r.minY),l=n?"width":"height",h=r._getVisibleArea(),c=n?h.minX:h.minY,d=n?h.maxX:h.maxY,_=x(c,o),f=v(d,o+r[l]);return n?(e=r.y,t=_+(f-_)/2):(t=r.x,e=_+(f-_)/2),{x:t,y:e,offset:0}},_translate:function(){var t=this,e=t._options.rotated;c._translate.call(t),t.height=e?0:m(t.minY-t.y),t.width=e?m(t.x-t.minX):0},hasCoords:function(){return c.hasCoords.call(this)&&!(null===this.minX||null===this.minY)},_updateData:function(data){var t=this;c._updateData.call(t,data),t.minValue=t.initialMinValue=t.originalMinValue=data.minValue},_getImageSettings:function(t,image){return{href:image.url||image.toString(),width:image.width||20,height:image.height||20,translateX:t.translateX,translateY:t.translateY}},getCrosshairData:function(t,e){var r=this,n=r._options.rotated,o=r.minX,l=r.minY,h=r.vx,c=r.vy,d=r.value,_=r.minValue,f=r.argument,v={axis:r.series.axis,x:h,y:c,yValue:d,xValue:f};return n?(v.yValue=f,m(h-t)<m(o-t)?v.xValue=d:(v.x=o,v.xValue=_)):m(c-e)>=m(l-e)&&(v.y=l,v.yValue=_),v},_updateOneMarker:function(t,e){this.graphic&&this.graphic[t]&&this.graphic[t].attr(e)},_updateMarker:function(t,style){this._drawMarker(void 0,void 0,!1,!1,style)},_getFormatObject:function(t){var e=this,r=e.initialMinValue,n=e.initialValue,o=e.initialArgument,l=t.formatValue(r),h=t.formatValue(n);return{argument:o,argumentText:t.formatValue(o,"argument"),valueText:l+" - "+h,rangeValue1Text:l,rangeValue2Text:h,rangeValue1:r,rangeValue2:n,seriesName:e.series.name,point:e,originalMinValue:e.originalMinValue,originalValue:e.originalValue,originalArgument:e.originalArgument}},getLabel:function(){return[this._topLabel,this._bottomLabel]},getLabels:function(){return[this._topLabel,this._bottomLabel]},getBoundingRect:l,coordsIn:function(t,e){var r=this._storeTrackerR(),n=t>=this.x-r&&t<=this.x+r,o=e>=this.y-r&&e<=this.y+r;return this._options.rotated?o&&(n||t>=this.minX-r&&t<=this.minX+r):n&&(o||e>=this.minY-r&&e<=this.minY+r)},getMaxValue:function(){return"discrete"!==this.series.valueAxisType&&this.minValue>this.value?this.minValue:this.value},getMinValue:function(){return"discrete"!==this.series.valueAxisType?this.minValue<this.value?this.minValue:this.value:this.minValue}})},2447:function(t,e,r){"use strict";var n=r(1).extend,o=r(2129),l=r(2147),h=Math,c=h.abs,d=h.min,_=h.max,f=h.round;t.exports=n({},l,{_getContinuousPoints:function(t,e){var r=this,n=r.x,o=r._options.rotated?function(t,e){return[e,t]}:function(t,e){return[t,e]},l=r.width,h=r.highY,d=c(h-t)<c(h-e)?t:e,_=d===e?t:e;return _===d?[].concat(o(n,r.highY)).concat(o(n,r.lowY)).concat(o(n,r.closeY)).concat(o(n-l/2,r.closeY)).concat(o(n+l/2,r.closeY)).concat(o(n,r.closeY)):[].concat(o(n,r.highY)).concat(o(n,d)).concat(o(n+l/2,d)).concat(o(n+l/2,_)).concat(o(n,_)).concat(o(n,r.lowY)).concat(o(n,_)).concat(o(n-l/2,_)).concat(o(n-l/2,d)).concat(o(n,d))},_getCrockPoints:function(t){var e=this,r=e.x,n=e._options.rotated?function(t,e){return[e,t]}:function(t,e){return[t,e]};return[].concat(n(r,e.highY)).concat(n(r,e.lowY)).concat(n(r,t)).concat(n(r-e.width/2,t)).concat(n(r+e.width/2,t)).concat(n(r,t))},_getPoints:function(){var t=this,e=t.closeY,r=t.openY;return null!==e&&null!==r?t._getContinuousPoints(r,e):r===e?[t.x,t.highY,t.x,t.lowY]:t._getCrockPoints(null!==r?r:e)},getColor:function(){var t=this;return t._isReduction?t._options.reduction.color:t._styles.normal.stroke||t.series.getColor()},_drawMarkerInGroup:function(t,e,r){var n=this;n.graphic=r.path(n._getPoints(),"area").attr({"stroke-linecap":"square"}).attr(e).data({"chart-data-point":n}).sharp().append(t)},_fillStyle:function(){var t=this,e=t._options.styles;t._isReduction&&t._isPositive?t._styles=e.reductionPositive:t._isReduction?t._styles=e.reduction:t._isPositive?t._styles=e.positive:t._styles=e},_getMinTrackerWidth:function(){return 2+2*this._styles.normal["stroke-width"]},correctCoordinates:function(t){var e=this._getMinTrackerWidth(),r=t.width;r=r<e?e:r>10?10:r,this.width=r+r%2,this.xCorrection=t.offset},_getMarkerGroup:function(t){var e=this;return e._isReduction&&e._isPositive?t.reductionPositiveMarkersGroup:e._isReduction?t.reductionMarkersGroup:e._isPositive?t.defaultPositiveMarkersGroup:t.defaultMarkersGroup},_drawMarker:function(t,e){this._drawMarkerInGroup(this._getMarkerGroup(e),this._getStyle(),t)},_getSettingsForTracker:function(){var t,e,r,n,o=this,l=o.highY,h=o.lowY,_=o._options.rotated;return l===h&&(l=_?l+2:l-2,h=_?h-2:h+2),_?(t=d(h,l),e=o.x-o.width/2,r=c(h-l),n=o.width):(t=o.x-o.width/2,e=d(h,l),r=o.width,n=c(h-l)),{x:t,y:e,width:r,height:n}},_getGraphicBBox:function(t){var e=this,r=e._options.rotated,n=e.x,o=e.width,l=e.lowY,h=e.highY;if(t){var c=e.series.getValueAxis().getVisibleArea();h=e._truncateCoord(h,c),l=e._truncateCoord(l,c)}var d={x:r?l:n-f(o/2),y:r?n-f(o/2):h,width:r?h-l:o,height:r?o:l-h};if(t){var _="top"===t;this._options.rotated?(d.x=_?d.x+d.width:d.x,d.width=0):(d.y=_?d.y:d.y+d.height,d.height=0)}return d},getTooltipParams:function(t){var e=this;if(e.graphic){var r=d(e.lowY,e.highY),n=_(e.lowY,e.highY),o=e._getVisibleArea(),l=e._options.rotated,h=l?o.minX:o.minY,c=l?o.maxX:o.maxY,f=_(h,r),m=d(c,n),v=e.getCenterCoord();return"edge"===t&&(v[l?"x":"y"]=l?m:f),v.offset=0,v}},getCenterCoord:function(){if(this.graphic){var t,e,r=this,n=d(r.lowY,r.highY),o=_(r.lowY,r.highY),l=r._getVisibleArea(),h=r._options.rotated,c=h?l.minX:l.minY,f=h?l.maxX:l.maxY,m=_(c,n),v=m+(d(f,o)-m)/2;return h?(e=r.x,t=v):(t=r.x,e=v),{x:t,y:e}}},hasValue:function(){return null!==this.highValue&&null!==this.lowValue},hasCoords:function(){return null!==this.x&&null!==this.lowY&&null!==this.highY},_translate:function(){var t=this,e=t._options.rotated,r=t._getValTranslator(),n=t._getArgTranslator().translate(t.argument);t.vx=t.vy=t.x=null===n?n:n+(t.xCorrection||0),t.openY=null!==t.openValue?r.translate(t.openValue):null,t.highY=r.translate(t.highValue),t.lowY=r.translate(t.lowValue),t.closeY=null!==t.closeValue?r.translate(t.closeValue):null;var o=d(t.lowY,t.highY)+c(t.lowY-t.highY)/2;t._calculateVisibility(e?o:t.x,e?t.x:o)},getCrosshairData:function(t,e){var r,n,o=this,l=o._options.rotated,h=l?t:e,d=o.argument,_="low";return c(o.lowY-h)<c(o.closeY-h)?r=o.lowY:(r=o.closeY,_="close"),c(r-h)>=c(o.openY-h)&&(r=o.openY,_="open"),c(r-h)>=c(o.highY-h)&&(r=o.highY,_="high"),(n=l?{y:o.vy,x:r,xValue:o[_+"Value"],yValue:d}:{x:o.vx,y:r,xValue:d,yValue:o[_+"Value"]}).axis=o.series.axis,n},_updateData:function(data){var t=this,label=t._label,e=this._options.reduction.color;t.value=t.initialValue=data.reductionValue,t.originalValue=data.value,t.lowValue=t.originalLowValue=data.lowValue,t.highValue=t.originalHighValue=data.highValue,t.openValue=t.originalOpenValue=data.openValue,t.closeValue=t.originalCloseValue=data.closeValue,t._isPositive=data.openValue<data.closeValue,t._isReduction=data.isReduction,t._isReduction&&label.setColor(e)},_updateMarker:function(t,style,e){var r=this,n=r.graphic;n.attr({points:r._getPoints()}).smartAttr(style).sharp(),e&&n.append(r._getMarkerGroup(e))},_getLabelFormatObject:function(){var t=this;return{openValue:t.openValue,highValue:t.highValue,lowValue:t.lowValue,closeValue:t.closeValue,reductionValue:t.initialValue,argument:t.initialArgument,value:t.initialValue,seriesName:t.series.name,originalOpenValue:t.originalOpenValue,originalCloseValue:t.originalCloseValue,originalLowValue:t.originalLowValue,originalHighValue:t.originalHighValue,originalArgument:t.originalArgument,point:t}},_getFormatObject:function(t){var e=this,r=t.formatValue(e.highValue),l=t.formatValue(e.openValue),h=t.formatValue(e.closeValue),c=t.formatValue(e.lowValue),d=o._getFormatObject.call(e,t);return n({},d,{valueText:"h: "+r+(""!==l?" o: "+l:"")+(""!==h?" c: "+h:"")+" l: "+c,highValueText:r,openValueText:l,closeValueText:h,lowValueText:c})},getMaxValue:function(){return this.highValue},getMinValue:function(){return this.lowValue}})},2551:function(t,e,r){"use strict";var n={},o=r(2128).states,l=r(2129),h=r(2147),c=r(2552),d=r(2445),_=r(2446),f=r(2553),m=r(2447),v=r(2554),x=r(2555),y=r(2099).normalizeEnum,V=r(1).extend,w=r(2).isDefined,L=r(6).noop,k="symbolPoint",C="polarSymbolPoint",P="barPoint",A="polarBarPoint",B="piePoint",M=o.selectedMark,O=o.hoverMark,Y=o.normalMark,S=o.hover,T=o.normal,X=o.selection,I={chart:{scatter:k,line:k,spline:k,stepline:k,stackedline:k,fullstackedline:k,stackedspline:k,fullstackedspline:k,stackedsplinearea:k,fullstackedsplinearea:k,area:k,splinearea:k,steparea:k,stackedarea:k,fullstackedarea:k,rangearea:"rangeSymbolPoint",bar:P,stackedbar:P,fullstackedbar:P,rangebar:"rangeBarPoint",bubble:"bubblePoint",stock:"stockPoint",candlestick:"candlestickPoint"},pie:{pie:B,doughnut:B,donut:B},polar:{scatter:C,line:C,area:C,bar:A,stackedbar:A}};function E(t){return"none"===y(t)}function D(t,e,r){this.fullState=Y,this.series=t,this.update(e,r),this._viewCounters={hover:0,selection:0},this._emptySettings={fill:null,stroke:null,dashStyle:null}}e.Point=D,n.symbolPoint=l,n.barPoint=h,n.bubblePoint=c,n.piePoint=d,n.rangeSymbolPoint=_,n.rangeBarPoint=f,n.candlestickPoint=m,n.stockPoint=v,n.polarSymbolPoint=x.polarSymbolPoint,n.polarBarPoint=x.polarBarPoint,D.prototype={constructor:D,getColor:function(){return this.hasValue()||this._styles.usePointCustomOptions||this.series.customizePoint(this,this._dataItem),this._styles.normal.fill||this.series.getColor()},_getStyle:function(){return this._styles[this._currentStyle||"normal"]},update:function(t,e){this.updateOptions(e),this.updateData(t)},updateData:function(t){var e=this,r=e.argument!==t.argument;e.argument=e.initialArgument=e.originalArgument=t.argument,e.tag=t.tag,e.index=t.index,e._dataItem=t,e.data=t.data,e.lowError=t.lowError,e.highError=t.highError,e.aggregationInfo=t.aggregationInfo,e._updateData(t,r),!e.hasValue()&&e.setInvisibility(),e._fillStyle(),e._updateLabelData()},deleteMarker:function(){var t=this;t.graphic&&t.graphic.dispose(),t.graphic=null},draw:function(t,e,r,n){var o=this;return(o._needDeletingOnDraw||o.series.autoHidePointMarkers&&!o.isSelected())&&(o.deleteMarker(),o._needDeletingOnDraw=!1),o._needClearingOnDraw&&(o.clearMarker(),o._needClearingOnDraw=!1),o._hasGraphic()?o._updateMarker(r,this._getStyle(),e.markers):o.getMarkerVisibility()&&!o.series.autoHidePointMarkers&&o._drawMarker(t,e.markers,r,n),o._drawLabel(),o._drawErrorBar(t,e.errorBars,r),o},_getViewStyle:function(){var t=Y,e=this.fullState,r=[T,S,X,X];return this._viewCounters.hover&&(t|=O),this._viewCounters.selection&&(t|=M),E(this.getOptions().selectionMode)&&(e&=~M),E(this.getOptions().hoverMode)&&(e&=~O),r[t|=e]},applyView:function(t){var style=this._getViewStyle(),e=this;e._currentStyle=style,e.graphic||!e.series.autoHidePointMarkers||style!==X&&style!==S||e._drawMarker(e.series.getRenderer(),e.series.getMarkersGroup()),e.graphic&&(e.series.autoHidePointMarkers&&style!==X&&style!==S?e.deleteMarker():("normal"===style?e.clearMarker():e.graphic.toForeground(),e._updateMarker(!0,e._styles[style],void 0,t)))},setView:function(style){this._viewCounters[style]++,this.applyView()},resetView:function(style){var t=this._viewCounters;--t[style],t[style]<0&&(t[style]=0),this.applyView()},releaseHoverState:function(){var t=this;t.graphic&&!t.isSelected()&&t.graphic.toBackground()},select:function(){this.series.selectPoint(this)},clearSelection:function(){this.series.deselectPoint(this)},hover:function(){this.series.hoverPoint(this)},clearHover:function(){this.series.clearPointHover()},showTooltip:function(){this.series.showPointTooltip(this)},hideTooltip:function(){this.series.hidePointTooltip(this)},_checkLabelsChanging:function(t,e){var r=~e.indexOf("range"),n=~t.indexOf("range");return n&&!r||!n&&r},updateOptions:function(t){if(t){var e=this,r=e._options,o=t.widgetType,l=r&&r.type,h=t.type,c=I[o][h];l!==h?(e._needDeletingOnDraw=!0,e._needClearingOnDraw=!1,l&&(e._checkLabelsChanging(l,h)&&e.deleteLabel(),e._resetType(n[I[l]])),e._setType(n[c])):(e._needDeletingOnDraw=e._checkSymbol(r,t),e._needClearingOnDraw=e._checkCustomize(r,t)),e._options=t,e._fillStyle(),e._updateLabelOptions(c)}},translate:function(){this.hasValue()&&(this._translate(),this.translated=!0)},_checkCustomize:function(t,e){return t.styles.usePointCustomOptions&&!e.styles.usePointCustomOptions},_getCustomLabelVisibility:function(){return this._styles.useLabelCustomOptions?!!this._options.label.visible:null},getBoundingRect:function(){return this._getGraphicBBox()},_resetType:function(t){for(var e in t)delete this[e]},_setType:function(t){for(var e in t)this[e]=t[e]},isInVisibleArea:function(){return this.inVisibleArea},isSelected:function(){return!!(this.fullState&M)},isHovered:function(){return!!(this.fullState&O)},getOptions:function(){return this._options},animate:function(t,e,r){this.graphic?this.graphic.animate(e,{partitionDuration:r},t):t&&t()},getCoords:function(t){var e=this;return t?e._options.rotated?{x:e.minX-(e.x-e.minX?0:1),y:e.y}:{x:e.x,y:e.minY+(e.y-e.minY?0:1)}:{x:e.x,y:e.y}},getDefaultCoords:function(){var t=this;return t._options.rotated?{x:t.defaultX,y:t.y}:{x:t.x,y:t.defaultY}},setDefaultCoords:function(){var t=this.getDefaultCoords();this.x=t.x,this.y=t.y},_getVisibleArea:function(){return this.series.getVisibleArea()},_getArgTranslator:function(){return this.series.getArgumentAxis().getTranslator()},_getValTranslator:function(){return this.series.getValueAxis().getTranslator()},_calculateVisibility:function(t,e,r,n){var o=this,l=o._getVisibleArea(),h=o._options.rotated;l.minX>t+(r||0)||l.maxX<t||l.minY>e+(n||0)||l.maxY<e||h&&w(r)&&0!==r&&(l.minX===t+r||l.maxX===t)||!h&&w(n)&&0!==n&&(l.minY===e+n||l.maxY===e)?o.inVisibleArea=!1:o.inVisibleArea=!0},isArgumentCorrect:function(){return this.series._argumentChecker(this.argument)},isValueCorrect:function(){var t=this.series._valueChecker;return t(this.getMinValue())&&t(this.getMaxValue())},hasValue:function(){return null!==this.value&&null!==this.minValue&&this.isArgumentCorrect()&&this.isValueCorrect()},hasCoords:L,correctPosition:L,correctRadius:L,correctLabelRadius:L,getCrosshairData:L,getPointRadius:L,_populatePointShape:L,_checkSymbol:L,getMarkerCoords:L,hide:L,show:L,hideMarker:L,setInvisibility:L,clearVisibility:L,isVisible:L,resetCorrection:L,correctValue:L,resetValue:L,setPercentValue:L,correctCoordinates:L,coordsIn:L,getTooltipParams:L,applyWordWrap:L,setLabelTrackerData:L,updateLabelCoord:L,drawLabel:L,correctLabelPosition:L,getMinValue:L,getMaxValue:L,_drawErrorBar:L,getMarkerVisibility:L,dispose:function(){var t=this;t.deleteMarker(),t.deleteLabel(),t._errorBar&&this._errorBar.dispose(),t._options=t._styles=t.series=t._errorBar=null},getTooltipFormatObject:function(t,e){var r=this,n=r._getFormatObject(t),o=[],l=[];e&&(e.forEach((function(e){if(e.isVisible()){var r=e._getFormatObject(t);l.push(r),o.push(r.seriesName+": "+r.valueText)}})),V(n,{points:l,valueText:o.join("\n"),stackName:r.series.getStackName()||null}));var h=r.aggregationInfo;if(h){var c=r.series.getArgumentAxis().formatRange(h.intervalStart,h.intervalEnd,h.aggregationInterval);c&&(n.valueText+="\n".concat(c))}return n},setHole:function(t,e){var r=this,n=isFinite(r.minValue)?r.minValue:0;w(t)&&("left"===e?(r.leftHole=r.value-t,r.minLeftHole=n-t):(r.rightHole=r.value-t,r.minRightHole=n-t))},resetHoles:function(){this.leftHole=null,this.minLeftHole=null,this.rightHole=null,this.minRightHole=null},getLabel:function(){return this._label},getLabels:function(){return[this._label]},getCenterCoord:function(){return{x:this.x,y:this.y}}}},2552:function(t,e,r){"use strict";var n=r(1).extend,o=r(2129),l=n;t.exports=l({},o,{correctCoordinates:function(t){this.bubbleSize=t/2},_drawMarker:function(t,e,r){var n=this,o=l({translateX:n.x,translateY:n.y},n._getStyle());n.graphic=t.circle(0,0,r?0:n.bubbleSize).smartAttr(o).data({"chart-data-point":n}).append(e)},getTooltipParams:function(t){var e=this,r=e.graphic;if(r){var n=r.getBBox().height;return{x:e.x,y:e.y,offset:n<20||"edge"===t?n/2:0}}},_getLabelFormatObject:function(){var t=o._getLabelFormatObject.call(this);return t.size=this.initialSize,t},_updateData:function(data){o._updateData.call(this,data),this.size=this.initialSize=data.size},_getGraphicBBox:function(){var t=this;return t._getSymbolBBox(t.x,t.y,t.bubbleSize)},_updateMarker:function(t,style){var e=this;t||(style=l({r:e.bubbleSize,translateX:e.x,translateY:e.y},style)),e.graphic.smartAttr(style)},_getFormatObject:function(t){var e=o._getFormatObject.call(this,t);return e.sizeText=t.formatValue(this.initialSize),e},_storeTrackerR:function(){return this.bubbleSize},_getLabelCoords:function(label){return"inside"===label.getLayoutOptions().position?this._getLabelCoordOfPosition(label,"inside"):o._getLabelCoords.call(this,label)}})},2553:function(t,e,r){"use strict";var n=r(6).noop,o=r(1).extend,l=r(2147),h=r(2446),c=o;t.exports=c({},l,{deleteLabel:h.deleteLabel,_getFormatObject:h._getFormatObject,clearVisibility:function(){var t=this.graphic;t&&t.attr("visibility")&&t.attr({visibility:null})},setInvisibility:function(){var t=this.graphic;t&&"hidden"!==t.attr("visibility")&&t.attr({visibility:"hidden"}),this._topLabel.draw(!1),this._bottomLabel.draw(!1)},getTooltipParams:function(t){var e,r,n=this,o="edge"===t;return n._options.rotated?(e=o?n.x+n.width:n.x+n.width/2,r=n.y+n.height/2):(e=n.x+n.width/2,r=o?n.y:n.y+n.height/2),{x:e,y:r,offset:0}},_translate:function(){var t=this;l._translate.call(t),t._options.rotated?t.width=t.width||1:t.height=t.height||1},hasCoords:h.hasCoords,_updateData:h._updateData,_getLabelPosition:h._getLabelPosition,_getLabelMinFormatObject:h._getLabelMinFormatObject,_updateLabelData:h._updateLabelData,_updateLabelOptions:h._updateLabelOptions,getCrosshairData:h.getCrosshairData,_createLabel:h._createLabel,_checkOverlay:h._checkOverlay,_checkLabelsOverlay:h._checkLabelsOverlay,_getOverlayCorrections:h._getOverlayCorrections,_drawLabel:h._drawLabel,_getLabelCoords:h._getLabelCoords,getLabel:h.getLabel,getLabels:h.getLabels,getBoundingRect:n,getMinValue:h.getMinValue,getMaxValue:h.getMaxValue})},2554:function(t,e,r){"use strict";var n=r(1).extend,o=r(2).isNumeric,l=r(2447),h=n,c=o;t.exports=h({},l,{_getPoints:function(){var t=this,e=t._options.rotated?function(t,e){return[e,t]}:function(t,e){return[t,e]},r=c(t.openY),n=c(t.closeY),o=t.x,l=t.width,h=[].concat(e(o,t.highY));return r&&(h=h.concat(e(o,t.openY))),r&&(h=h.concat(e(o-l/2,t.openY))),r&&(h=h.concat(e(o,t.openY))),n&&(h=h.concat(e(o,t.closeY))),n&&(h=h.concat(e(o+l/2,t.closeY))),n&&(h=h.concat(e(o,t.closeY))),h=h.concat(e(o,t.lowY))},_drawMarkerInGroup:function(t,e,r){this.graphic=r.path(this._getPoints(),"line").attr({"stroke-linecap":"square"}).attr(e).data({"chart-data-point":this}).sharp().append(t)},_getMinTrackerWidth:function(){var t=2+this._styles.normal["stroke-width"];return t+t%2}})},2555:function(t,e,r){"use strict";var n=r(1).extend,o=r(2129),l=r(2147),h=r(2445),c=r(2).isDefined,d=r(2099),_=d.normalizeAngle,f=Math,m=f.max,v=r(2128).radialLabelIndent,x="canvas_position_end",y="canvas_position_default";e.polarSymbolPoint=n({},o,{_getLabelCoords:h._getLabelCoords,_moveLabelOnCanvas:function(t,e,r){var n=t.x,o=t.y;return e.minX>n&&(n=e.minX),e.maxX<n+r.width&&(n=e.maxX-r.width),e.minY>o&&(o=e.minY),e.maxY<o+r.height&&(o=e.maxY-r.height),{x:n,y:o}},_getLabelPosition:function(){return"outside"},_getCoords:function(t,e){var r=this.series.getValueAxis(),n=r.getAngles()[0],o=this._getArgTranslator().translate(t),l=this._getValTranslator().translate(e),h=d.convertPolarToXY(r.getCenter(),r.getAngles()[0],o,l);return h.angle=o+n-90,h.radius=l,h},_translate:function(){var t=this,e=t.series.getValueAxis().getCenter(),r=t._getCoords(t.argument,t.value),n=t._getValTranslator().translate(x),o=c(r.radius)&&r.radius>=0?r.radius:null;t.vx=_(r.angle),t.vy=t.radiusOuter=t.radiusLabels=o,t.radiusLabels+=v,t.radius=o,t.middleAngle=-r.angle,t.angle=-r.angle,t.x=r.x,t.y=r.y,t.defaultX=t.centerX=e.x,t.defaultY=t.centerY=e.y,t._translateErrorBars(),t.inVisibleArea=t._checkRadiusForVisibleArea(o,n)},_checkRadiusForVisibleArea:function(t,e){return c(t)&&t<=e},_translateErrorBars:function(){var t=this,e=t._options.errorBars,r=t._getValTranslator();e&&(c(t.lowError)&&(t._lowErrorCoord=t.centerY-r.translate(t.lowError)),c(t.highError)&&(t._highErrorCoord=t.centerY-r.translate(t.highError)),t._errorBarPos=t.centerX,t._baseErrorBarPos="stdDeviation"===e.type?t._lowErrorCoord+(t._highErrorCoord-t._lowErrorCoord)/2:t.centerY-t.radius)},_getTranslates:function(t){return t?this.getDefaultCoords():{x:this.x,y:this.y}},getDefaultCoords:function(){var t=d.getCosAndSin(-this.angle),e=this._getValTranslator().translate(y);return{x:this.defaultX+e*t.cos,y:this.defaultY+e*t.sin}},_addLabelAlignmentAndOffset:function(label,t){return t},_checkLabelPosition:function(label,t){var e=this,r=e._getVisibleArea(),n=e._getGraphicBBox();return e._isPointInVisibleArea(r,n)&&(t=e._moveLabelOnCanvas(t,r,label.getBoundingRect())),t},_getErrorBarSettings:function(t,e){var r=o._getErrorBarSettings.call(this,t,e);return r.rotate=90-this.angle,r.rotateX=this.centerX,r.rotateY=this.centerY,r},getCoords:function(t){return t?this.getDefaultCoords():{x:this.x,y:this.y}}}),e.polarBarPoint=n({},l,{_translateErrorBars:e.polarSymbolPoint._translateErrorBars,_getErrorBarSettings:e.polarSymbolPoint._getErrorBarSettings,_moveLabelOnCanvas:e.polarSymbolPoint._moveLabelOnCanvas,_getLabelCoords:h._getLabelCoords,_getLabelConnector:h._getLabelConnector,getTooltipParams:h.getTooltipParams,_getLabelPosition:h._getLabelPosition,_getCoords:e.polarSymbolPoint._getCoords,_translate:function(){var t=this,r=t._getValTranslator(),n=r.getBusinessRange(),o=r.translate(x);t.radiusInner=r.translate(t.minValue),e.polarSymbolPoint._translate.call(t),null===t.radiusInner?t.radiusInner=t.radius=o:null===t.radius?t.radius=t.value>=n.minVisible?o:0:t.radius>o&&(t.radius=o),t.radiusOuter=t.radiusLabels=m(t.radiusInner,t.radius),t.radiusLabels+=v,t.radiusInner=t.defaultRadius=f.min(t.radiusInner,t.radius),t.middleAngle=t.angle=-_(t.middleAngleCorrection-t.angle)},_checkRadiusForVisibleArea:function(t){return c(t)||this._getValTranslator().translate(this.minValue)>0},_getErrorBarBaseEdgeLength:function(){var t=this.getMarkerCoords();return f.PI*t.outerRadius*f.abs(t.startAngle-t.endAngle)/180},getMarkerCoords:function(){return{x:this.centerX,y:this.centerY,outerRadius:this.radiusOuter,innerRadius:this.defaultRadius,startAngle:this.middleAngle-this.interval/2,endAngle:this.middleAngle+this.interval/2}},_drawMarker:function(t,e,r){var n=this,o=n._getStyle(),l=n.getMarkerCoords(),h=l.innerRadius,c=l.outerRadius,d=n._getCoords(n.argument,y),_=l.x,f=l.y;r&&(h=0,c=0,_=d.x,f=d.y),n.graphic=t.arc(_,f,h,c,l.startAngle,l.endAngle).attr(o).data({"chart-data-point":n}).append(e)},_checkLabelPosition:function(label,t){var e=this,r=e._getVisibleArea(),n=d.getCosAndSin(e.middleAngle),o=e.centerX+e.defaultRadius*n.cos,l=e.centerY-e.defaultRadius*n.sin;return o>r.minX&&o<r.maxX&&l>r.minY&&l<r.maxY&&(t=e._moveLabelOnCanvas(t,r,label.getBoundingRect())),t},_addLabelAlignmentAndOffset:function(label,t){return t},correctCoordinates:function(t){this.middleAngleCorrection=t.offset,this.interval=t.width},coordsIn:function(t,e){var r=d.convertXYToPolar(this.series.getValueAxis().getCenter(),t,e),n=this.getMarkerCoords(),o=n.startAngle<n.endAngle?-r.phi>=n.startAngle&&-r.phi<=n.endAngle:-r.phi<=n.startAngle&&-r.phi>=n.endAngle;return r.r>=n.innerRadius&&r.r<=n.outerRadius&&o}})},2558:function(t,e,r){"use strict";var n=r(6).noop,o=r(10).each,l=r(2105),h=r(2099),c=r(1).extend,d=l.chart,_=r(2131).chart.bar,f=c,m=o,v=n,x=h.map,y=isFinite,V=Math.max;e.pie=f({},_,{_setGroupsSettings:function(){d._setGroupsSettings.apply(this,arguments),this._labelsGroup.attr({"pointer-events":null})},_createErrorBarGroup:v,_drawPoint:function(t){var e=t.point,r=this._legendCallback;d._drawPoint.call(this,t),!e.isVisible()&&e.setInvisibility(),e.isSelected()&&r()},_getOldPoint:function(data,t,e){var r=(this._points||[])[e];return r&&(t[r.argument.valueOf()]=t[r.argument.valueOf()].filter((function(p){return p!==r}))),r},adjustLabels:function(t){return(this._points||[]).reduce((function(e,p){if(p._label.isVisible())return p.setLabelTrackerData(),e=p.applyWordWrap(t)||e,p.updateLabelCoord(t),e}),!1)},_applyElementsClipRect:v,getColor:v,areErrorBarsVisible:v,drawLabelsWOPoints:function(){var t=this;return"inside"!==t._options.label.position&&(t._labelsGroup.append(t._extGroups.labelsGroup),(t._points||[]).forEach((function(t){t.drawLabel()})),!0)},getPointsCount:function(){var t=this;return this._data.filter((function(e){return t._checkData(e)})).length},setMaxPointsCount:function(t){this._pointsCount=t},_getCreatingPointOptions:function(data,t){return this._getPointOptions(data,t)},_updateOptions:function(t){this.labelSpace=0,this.innerRadius="pie"===this.type?0:t.innerRadius},_checkData:function(data,t){var base=_._checkData.call(this,data,t,{value:this.getValueFields()[0]});return this._options.paintNullPoints?base:base&&null!==data.value},_createGroups:d._createGroups,_setMarkerGroupSettings:function(){this._markersGroup.attr({class:"dxc-markers"})},_getMainColor:function(data,t){var e=this.getPointsByArg(data.argument),r=t?e.indexOf(t):e.length;return this._options.mainSeriesColor(data.argument,r,this._pointsCount)},_getPointOptions:function(data){return this._parsePointOptions(this._preparePointOptions(),this._options.label,data)},_getRangeData:function(){return this._rangeData},_createPointStyles:function(t,data,e){var r=this,n=t.color||r._getMainColor(data,e);return{normal:r._parsePointStyle(t,n,n),hover:r._parsePointStyle(t.hoverStyle,n,n),selection:r._parsePointStyle(t.selectionStyle,n,n),legendStyles:{normal:r._createLegendState(t,n),hover:r._createLegendState(t.hoverStyle,n),selection:r._createLegendState(t.selectionStyle,n)}}},_getArrangeMinShownValue:function(t,e){var r=this._options.minSegmentSize,n=0,o=0;return e=e||t.length,m(t,(function(t,l){l.isVisible()&&(l.normalInitialValue<r*e/360?n+=r:o+=l.normalInitialValue)})),n<360?r*o/(360-n):0},_applyArrangeCorrection:function(t,e,r){var n,o=this._options,l="anticlockwise"!==o.segmentsDirection,c=y(o.startAngle)?h.normalizeAngle(o.startAngle):0,d=o.minSegmentSize,_=0,f=0;0===r&&(r=t.filter((function(t){return t.isVisible()})).length,f=1),m(l?t:t.concat([]).reverse(),(function(t,o){var l,h=o.isVisible()?f||o.normalInitialValue:0;d&&o.isVisible()&&h<e&&(l=e),n=h/r,o.correctValue(_,n,f+(l||0)),o.shiftedAngle=c,_+=l||h})),this._rangeData={val:{min:0,max:_}}},_removePoint:function(t){var e=this.getPointsByArg(t.argument);e.splice(e.indexOf(t),1),t.dispose()},arrangePoints:function(){for(var t,e=this,r=e._points||[],n=e._options.minSegmentSize,o=!0,i=0,l=r.length;i<l&&o;)o=r[i].value<=0,i++;var h=e._points=x(r,(function(t){return null===t.value||!o&&t.value<0?(e._removePoint(t),null):t})),c=h.reduce((function(t,p){return V(t,Math.abs(p.initialValue))}),0);h.forEach((function(p){p.normalInitialValue=p.initialValue/(0!==c?c:1)}));var d=h.reduce((function(t,e){return t+(e.isVisible()?e.normalInitialValue:0)}),0);n&&(t=this._getArrangeMinShownValue(h,d)),e._applyArrangeCorrection(h,t,d)},correctPosition:function(t,canvas){m(this._points,(function(e,r){r.correctPosition(t)})),this.setVisibleArea(canvas)},correctRadius:function(t){this._points.forEach((function(e){e.correctRadius(t)}))},correctLabelRadius:function(t){this._points.forEach((function(e){e.correctLabelRadius(t)}))},setVisibleArea:function(canvas){this._visibleArea={minX:canvas.left,maxX:canvas.width-canvas.right,minY:canvas.top,maxY:canvas.height-canvas.bottom}},_applyVisibleArea:v,_animate:function(t){var e,r=this,n=r._points,o=n&&n.length,l=function(){r._animateComplete()};e=t?function(p,i){p.animate(i===o-1?l:void 0,.7,(1-.7)*i/(o-1))}:function(p,i){p.animate(i===o-1?l:void 0)},n.forEach(e)},getVisiblePoints:function(){return x(this._points,(function(p){return p.isVisible()?p:null}))},getPointsByKeys:function(t,e){var r=this.getPointsByArg(t);return r[e]&&[r[e]]||[]}}),e.doughnut=e.donut=e.pie}}]);