(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1096:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=C(n(0)),l=n(6),h=n(2),c=n(10),d=n(1),_=n(181),f=C(n(1097)),v=C(n(1678)),m=C(n(29)),y=C(n(290));function C(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var base=function(object,e){for(;!Object.prototype.hasOwnProperty.call(object,e)&&null!==(object=A(object)););return object}(e,t);if(base){var desc=Object.getOwnPropertyDescriptor(base,t);return desc.get?desc.get.call(n):desc.value}})(e,t,n||e)}function x(e,p){return(x=Object.setPrototypeOf||function(e,p){return e.__proto__=p,e})(e,p)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=A(e);if(t){var r=A(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E="dx-menu-item",O=E+"-selected",T=E+"-wrapper",P=E+"-popout",$={show:50,hide:300},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(y,e);var t,n,o,f=I(y);function y(){return k(this,y),f.apply(this,arguments)}return t=y,(n=[{key:"_getDefaultOptions",value:function(){return(0,d.extend)(w(A(y.prototype),"_getDefaultOptions",this).call(this),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}},{key:"_itemDataKey",value:function(){return"dxMenuItemDataKey"}},{key:"_itemClass",value:function(){return E}},{key:"_setAriaSelected",value:function(){}},{key:"_selectedItemClass",value:function(){return O}},{key:"_widgetClass",value:function(){return"dx-menu-base"}},{key:"_focusTarget",value:function(){return this._itemContainer()}},{key:"_clean",value:function(){this.option("focusedElement",null),w(A(y.prototype),"_clean",this).call(this)}},{key:"_supportedKeys",value:function(){var e=this;return(0,d.extend)(w(A(y.prototype),"_supportedKeys",this).call(this),{space:function(){var t=(0,r.default)(e.option("focusedElement"));t.length&&e._isSelectionEnabled()&&e.selectItem(t[0])},pageUp:l.noop,pageDown:l.noop})}},{key:"_isSelectionEnabled",value:function(){return"single"===this.option("selectionMode")}},{key:"_init",value:function(){this._activeStateUnit=".".concat(E),w(A(y.prototype),"_init",this).call(this),this._renderSelectedItem(),this._initActions()}},{key:"_getTextContainer",value:function(e){var t=e.text,n=(0,r.default)("<span>").addClass("dx-menu-item-text"),o=(0,h.isPlainObject)(e)?t:String(e);return t&&n.text(o)}},{key:"_getPopoutContainer",value:function(e){var t,n=e.items;if(n&&n.length){var o=(0,r.default)("<div>").addClass(P);t=(0,r.default)("<span>").addClass("dx-menu-item-popout-container").append(o)}return t}},{key:"_getDataAdapterOptions",value:function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}},{key:"_selectByItem",value:function(e){if(e){var t=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}}},{key:"_renderSelectedItem",value:function(){var e=this._dataAdapter.getSelectedNodesKeys(),t=e.length&&e[0],n=this.option("selectedItem");if(t){var o=this._dataAdapter.getNodeByKey(t);!1!==o.selectable&&(n?n!==o.internalFields.item&&(this._dataAdapter.toggleSelection(t,!1),this._selectByItem(n)):this.option("selectedItem",o.internalFields.item))}else this._selectByItem(n)}},{key:"_initActions",value:function(){}},{key:"_initMarkup",value:function(){w(A(y.prototype),"_initMarkup",this).call(this),this._addCustomCssClass(this.$element()),this.option("useInkRipple")&&this._renderInkRipple()}},{key:"_renderInkRipple",value:function(){this._inkRipple=(0,_.render)()}},{key:"_toggleActiveState",value:function(e,t,n){if(w(A(y.prototype),"_toggleActiveState",this).apply(this,arguments),this._inkRipple){var o={element:e,event:n};t?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}}},{key:"_getShowSubmenuMode",value:function(){var e=this.option("showSubmenuMode");return e=(0,h.isObject)(e)?e.name:e,this._isDesktopDevice()?e:"onClick"}},{key:"_initSelectedItems",value:function(){}},{key:"_isDesktopDevice",value:function(){return"desktop"===m.default.real().deviceType}},{key:"_initEditStrategy",value:function(){var e=v.default;this._editStrategy=new e(this)}},{key:"_addCustomCssClass",value:function(e){e.addClass(this.option("cssClass"))}},{key:"_itemWrapperSelector",value:function(){return".".concat(T)}},{key:"_hoverStartHandler",value:function(e){var t=this._getItemElementByEventArgs(e);t&&!this._isItemDisabled(t)&&(e.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,t),this._getSubmenuDelay("show"))))}},{key:"_getAvailableItems",value:function(e){return w(A(y.prototype),"_getAvailableItems",this).call(this,e).filter((function(){return"hidden"!==(0,r.default)(this).css("visibility")}))}},{key:"_isItemDisabled",value:function(e){return this._disabledGetter(e.data(this._itemDataKey()))}},{key:"_showSubmenu",value:function(e){this._addExpandedClass(e)}},{key:"_addExpandedClass",value:function(e){(0,r.default)(e).addClass("dx-menu-item-expanded")}},{key:"_getSubmenuDelay",value:function(e){var t=this.option("showSubmenuMode").delay;return(0,h.isDefined)(t)?(0,h.isObject)(t)?t[e]:t:$[e]}},{key:"_getItemElementByEventArgs",value:function(e){var t=(0,r.default)(e.target);if(t.hasClass(this._itemClass())||t.get(0)===e.currentTarget)return t;for(;!t.hasClass(this._itemClass());)if((t=t.parent()).hasClass("dx-submenu"))return null;return t}},{key:"_hoverEndHandler",value:function(){clearTimeout(this._showSubmenusTimeout)}},{key:"_hasSubmenu",value:function(e){return e&&e.internalFields.childrenKeys.length}},{key:"_renderContentImpl",value:function(){this._renderItems(this._dataAdapter.getRootNodes())}},{key:"_renderItems",value:function(e,t){var n=this;if(e.length){this.hasIcons=!1;var o=this._renderContainer(this.$element(),t),r=-1,l=-1;(0,c.each)(e,(function(e,t){var h=!1!==t.visible;h&&r<0&&(r=e),r<e&&(t.beginGroup||e===l)&&(l=h?e:e+1),e===l&&r<e&&n._renderSeparator(o),n._renderItem(e,t,o)})),this.hasIcons||o.addClass("dx-menu-no-icons")}}},{key:"_renderContainer",value:function(e){var t=(0,r.default)("<ul>");return this.setAria("role","none",t),t.appendTo(e).addClass("dx-menu-items-container")}},{key:"_createDOMElement",value:function(e){var t=(0,r.default)("<li>");return this.setAria("role","none",t),t.appendTo(e).addClass(T)}},{key:"_renderItem",value:function(e,t,n,o){var r=this.option("items"),l=o||this._createDOMElement(n);r[e+1]&&r[e+1].beginGroup&&l.addClass("dx-menu-last-group-item");var h=w(A(y.prototype),"_renderItem",this).call(this,e,t.internalFields.item,l);t.internalFields.item===this.option("selectedItem")&&h.addClass(O),h.attr("tabIndex",-1),this._hasSubmenu(t)&&this.setAria("haspopup","true",h)}},{key:"_renderItemFrame",value:function(e,t,n){var o=n.children(".".concat(E));return o.length?o:w(A(y.prototype),"_renderItemFrame",this).apply(this,arguments)}},{key:"_refreshItem",value:function(e,t){var n=this._dataAdapter.getNodeByItem(t),o=e.data(this._itemIndexKey()),r=e.closest("ul"),l=e.closest("li");this._renderItem(o,n,r,l)}},{key:"_addContentClasses",value:function(e,t){var n=!!e.text&&!!e.text.length,o=!!e.icon,r=!!e.items&&!!e.items.length;t.toggleClass("dx-menu-item-has-text",n),t.toggleClass("dx-menu-item-has-icon",o),this.hasIcons||(this.hasIcons=o),t.toggleClass("dx-menu-item-has-submenu",r)}},{key:"_getItemContent",value:function(e){var t=w(A(y.prototype),"_getItemContent",this).call(this,e);return t.length||(t=e.children(".".concat("dx-menu-item-content"))),t}},{key:"_postprocessRenderItem",value:function(e){var t=(0,r.default)(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();n.length&&this._selectedGetter(e.itemData)&&this._isItemSelectable(e.itemData)&&this._dataAdapter.getNodeByItem(e.itemData).internalFields.key===n[0]?(t.addClass(this._selectedItemClass()),this._setAriaSelected(t,"true")):this._setAriaSelected(t,"false")}},{key:"_isItemSelectable",value:function(e){return!1!==e.selectable}},{key:"_renderSeparator",value:function(e){(0,r.default)("<li>").appendTo(e).addClass("dx-menu-separator")}},{key:"_itemClickHandler",value:function(e){if(!e._skipHandling){var t=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{afterExecute:t.bind(this)}),e._skipHandling=!0}}},{key:"_updateSubmenuVisibilityOnClick",value:function(e){this._updateSelectedItemOnClick(e),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(e.args[0].itemElement)}},{key:"_updateSelectedItemOnClick",value:function(e){var t=e.args?e.args[0]:e;if(this._isItemSelectionAllowed(t.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),o=n.length&&this._dataAdapter.getNodeByKey(n[0]);o&&this._toggleItemSelection(o,!1),o&&o.internalFields.item===t.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(t.itemData)}}},{key:"_isItemSelectionAllowed",value:function(e){var t=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&t&&this._isItemSelectable(e)&&!this._itemsGetter(e)}},{key:"_isContainerEmpty",value:function(){return this._itemContainer().is(":empty")}},{key:"_syncSelectionOptions",value:function(){return(0,l.asyncNoop)()}},{key:"_optionChanged",value:function(e){switch(e.name){case"showSubmenuMode":break;case"selectedItem":var t=this._dataAdapter.getNodeByItem(e.value),n=this._dataAdapter.getSelectedNodesKeys()[0];if(t&&t.internalFields.key!==n){if(!1===t.selectable)break;n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(t,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:w(A(y.prototype),"_optionChanged",this).call(this,e)}}},{key:"_toggleItemSelection",value:function(e,t){var n=this._getElementByItem(e.internalFields.item);n&&(0,r.default)(n).toggleClass(O),this._dataAdapter.toggleSelection(e.internalFields.key,t)}},{key:"_getElementByItem",value:function(e){var t,n=this;return(0,c.each)(this._itemElements(),(function(o,l){return(0,r.default)(l).data(n._itemDataKey())!==e||(t=l,!1)})),t}},{key:"_updateSelectedItems",value:function(e,t){(e||t)&&this._fireSelectionChangeEvent(t,e)}},{key:"_fireSelectionChangeEvent",value:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})}},{key:"selectItem",value:function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getSelectedNodesKeys()[0],o=this.option("selectedItem"),r=this._dataAdapter.getNodeByItem(t);r.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(r,!0),this._updateSelectedItems(o,t),this._setOptionWithoutOptionChange("selectedItem",t))}},{key:"unselectItem",value:function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),o=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(o,null),this._setOptionWithoutOptionChange("selectedItem",null))}}])&&S(t.prototype,n),o&&S(t,o),y}(f.default);B.ItemClass=y.default,e.exports=B},1675:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=O(n(0)),l=O(n(27)),h=O(n(14)),c=O(n(103)),d=O(n(26)),_=n(6),f=n(2),v=n(34),m=n(10),y=n(35),C=n(1),k=n(20),S=O(n(104)),w=n(161),x=O(n(29)),I=n(21),H=O(n(149)),A=O(n(1096)),E=n(19);function O(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e,t,n){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var base=function(object,e){for(;!Object.prototype.hasOwnProperty.call(object,e)&&null!==(object=R(object)););return object}(e,t);if(base){var desc=Object.getOwnPropertyDescriptor(base,t);return desc.get?desc.get.call(n):desc.value}})(e,t,n||e)}function B(e,p){return(B=Object.setPrototypeOf||function(e,p){return e.__proto__=p,e})(e,p)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=R(e);if(t){var r=R(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W="dx-menu-item",V="dx-menu-item-expanded",j="dx-menu-items-container",K="dx-menu-item-wrapper",F="dx-submenu",L="dx-state-hover",N="down",G="first",U="last",J=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],z=["up",N,G,U],X="dxcontextmenu",Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(A,e);var t,n,o,d=D(A);function A(){return T(this,A),d.apply(this,arguments)}return t=A,(n=[{key:"getShowEvent",value:function(e){var t=null;return(0,f.isObject)(e)?null!==e.name&&(t=e.name||X):t=e,t}},{key:"getShowDelay",value:function(e){return(0,f.isObject)(e)&&e.delay}},{key:"_getDefaultOptions",value:function(){return(0,C.extend)($(R(A.prototype),"_getDefaultOptions",this).call(this),{showEvent:X,closeOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}},{key:"_defaultOptionsRules",value:function(){return $(R(A.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return!(0,k.hasWindow)()},options:{animation:null}}])}},{key:"_initActions",value:function(){var e=this;this._actions={},(0,m.each)(J,(function(t,n){e._actions[n]=e._createActionByOption(n)||_.noop}))}},{key:"_setOptionsByReference",value:function(){$(R(A.prototype),"_setOptionsByReference",this).call(this),(0,C.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})}},{key:"_focusInHandler",value:function(){}},{key:"_itemContainer",value:function(){return this._overlay?this._overlay.$content():(0,r.default)()}},{key:"_eventBindingTarget",value:function(){return this._itemContainer()}},{key:"itemsContainer",value:function(){return this._overlay?this._overlay.$content():void 0}},{key:"_supportedKeys",value:function(){var e=this;return(0,C.extend)($(R(A.prototype),"_supportedKeys",this).call(this),{space:function(){var t=(0,r.default)(e.option("focusedElement"));e.hide(),t.length&&e._isSelectionEnabled()&&e.selectItem(t[0])},escape:this.hide})}},{key:"_getActiveItem",value:function(){var e=this._getAvailableItems(),t=e.filter(".".concat("dx-state-focused")),n=e.filter(".".concat(L));return n.closest(".".concat(j)).find(".".concat(W)).index(t)>=0?t:n.length?n:$(R(A.prototype),"_getActiveItem",this).call(this)}},{key:"_moveFocus",value:function(e){var t,n=this._getItemsByLocation(e),o=this._getActiveItem(!0),l=this.itemsContainer().find(".".concat(L)),h=!(!(0,r.default)(this.option("focusedElement")).length&&!l.length);switch(e){case"up":t=h?this._prevItem(n):o,this._setFocusedElement(t),o.is(n.first())&&this._actions.onLeftFirstItem(o);break;case N:t=h?this._nextItem(n):o,this._setFocusedElement(t),o.is(n.last())&&this._actions.onLeftLastItem(o);break;case"right":t=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(n,e),this._setFocusedElement(t);break;case"left":t=this.option("rtlEnabled")?this._expandSubmenuHandler(n,e):this._hideSubmenuHandler(),this._setFocusedElement(t);break;case G:t=n.first(),this._setFocusedElement(t);break;case U:t=n.last(),this._setFocusedElement(t);break;default:return $(R(A.prototype),"_moveFocus",this).call(this,e)}}},{key:"_setFocusedElement",value:function(e){e&&0!==e.length&&this.option("focusedElement",(0,v.getPublicElement)(e))}},{key:"_getItemsByLocation",value:function(e){var t,n=this._getActiveItem(!0);return(0,y.inArray)(e,z)>=0&&(t=n.closest(".".concat(j)).children().children()),t=this._getAvailableItems(t)}},{key:"_getAriaTarget",value:function(){return this.$element()}},{key:"_refreshActiveDescendant",value:function(){if((0,f.isDefined)(this._overlay)){var e=this._overlay.$content();$(R(A.prototype),"_refreshActiveDescendant",this).call(this,e)}}},{key:"_hideSubmenuHandler",value:function(){var e=this._getActiveItem(!0),t=e.parents(".".concat(V)).first();return t.length?(this._hideSubmenusOnSameLevel(t),this._hideSubmenu(e.closest(".".concat(F))),t):(this._actions.onCloseRootSubmenu(e),e)}},{key:"_expandSubmenuHandler",value:function(e,t){var n=this._getActiveItem(!0),o=this._getItemData(n),r=this._dataAdapter.getNodeByItem(o),l=this._hasSubmenu(r),h=n.children(".".concat(F));if(l&&!n.hasClass("dx-state-disabled"))return h.length&&"hidden"!==h.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t));this._actions.onExpandLastSubmenu(n)}},{key:"_clean",value:function(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),$(R(A.prototype),"_clean",this).call(this)}},{key:"_initMarkup",value:function(){this.$element().addClass("dx-has-context-menu"),$(R(A.prototype),"_initMarkup",this).call(this)}},{key:"_render",value:function(){$(R(A.prototype),"_render",this).call(this),this._renderVisibility(this.option("visible")),this._addWidgetClass()}},{key:"_renderContentImpl",value:function(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}},{key:"_attachKeyboardEvents",value:function(){!this._keyboardListenerId&&this._focusTarget().length&&$(R(A.prototype),"_attachKeyboardEvents",this).call(this)}},{key:"_renderContextMenuOverlay",value:function(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent((0,r.default)("<div>").appendTo(this._$element),H.default,e);var t=this._overlay.$content();t.addClass("dx-context-menu"),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}}},{key:"_itemContextMenuHandler",value:function(e){$(R(A.prototype),"_itemContextMenuHandler",this).call(this,e),e.stopPropagation()}},{key:"_addPlatformDependentClass",value:function(e){x.default.current().phone&&e.addClass("dx-menu-phone-overlay")}},{key:"_detachShowContextMenuEvents",value:function(e){var t=this.getShowEvent(this.option("showEvent"));if(t){var n=(0,I.addNamespace)(t,this.NAME);this._showContextMenuEventHandler?h.default.off(l.default.getDocument(),n,e,this._showContextMenuEventHandler):h.default.off((0,r.default)(e),n)}}},{key:"_attachShowContextMenuEvents",value:function(){var e=this,t=this._getTarget(),n=this.getShowEvent(this.option("showEvent"));if(n){var o=(0,I.addNamespace)(n,this.NAME),c=this._createAction((function(t){var n=e.getShowDelay(e.option("showEvent"));n?setTimeout((function(){return e._show(t.event)}),n):e._show(t.event)}),{validatingTargetName:"target"}),d=function(e){return c({event:e,target:(0,r.default)(e.currentTarget)})};c=this._createAction(c),(0,f.isRenderer)(t)||t.nodeType||(0,f.isWindow)(t)?(this._showContextMenuEventHandler=void 0,h.default.on(t,o,d)):(this._showContextMenuEventHandler=d,h.default.on(l.default.getDocument(),o,t,this._showContextMenuEventHandler))}}},{key:"_hoverEndHandler",value:function(e){$(R(A.prototype),"_hoverEndHandler",this).call(this,e),e.stopPropagation()}},{key:"_renderDimensions",value:function(){}},{key:"_renderContainer",value:function(e,t){var n=t||this._itemContainer();(e=(0,r.default)("<div>")).appendTo(n).addClass(F).css("visibility",t?"hidden":"visible");var o=$(R(A.prototype),"_renderContainer",this).call(this,e);return t?o:this.option("width")?o.css("minWidth",this.option("width")):this.option("height")?o.css("minHeight",this.option("height")):o}},{key:"_renderSubmenuItems",value:function(e,t){this._renderItems(this._getChildNodes(e),t),this._actions.onSubmenuCreated({itemElement:(0,v.getPublicElement)(t),itemData:e.internalFields.item,submenuElement:(0,v.getPublicElement)(t.children(".".concat(F)))})}},{key:"_getOverlayOptions",value:function(){var e=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,closeOnOutsideClick:this._closeOnOutsideClickHandler.bind(this),propagateOutsideClick:!0,closeOnTargetScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this)}}},{key:"_overlayShownActionHandler",value:function(e){this._actions.onShown(e)}},{key:"_overlayHidingActionHandler",value:function(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}},{key:"_overlayHiddenActionHandler",value:function(e){this._actions.onHidden(e)}},{key:"_closeOnOutsideClickHandler",value:function(e){var t=this.option("closeOnOutsideClick");if((0,f.isFunction)(t))return t(e);if(!t)return!1;if(l.default.isDocument(e.target))return!0;var n=this._getActiveItemsContainer(e.target),o=this._getItemsContainers(),r=this._searchActiveItem(e.target),h=this.$element().parents(".".concat(W)),c=r[0]===h[0]&&r.length&&h.length;return!(this._isIncludeOverlay(n,o)&&r.length)&&!c||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(r),!1)}},{key:"_getActiveItemsContainer",value:function(e){return(0,r.default)(e).closest(".".concat(j))}},{key:"_getItemsContainers",value:function(){return this._overlay._$content.find(".".concat(j))}},{key:"_searchActiveItem",value:function(e){return(0,r.default)(e).closest(".".concat(W)).eq(0)}},{key:"_isIncludeOverlay",value:function(e,t){var n=!1;return(0,m.each)(t,(function(t,o){e.is(o)&&!n&&(n=!0)})),n}},{key:"_hideAllShownChildSubmenus",value:function(e){var t=this,n=e.find(".".concat(F)),o=(0,C.extend)([],this._shownSubmenus);n.length>0&&(0,m.each)(o,(function(n,o){var r=t._searchActiveItem(o.context).parent();r.parent().is(e.parent().parent())&&!r.is(e.parent())&&t._hideSubmenu(o)}))}},{key:"_showSubmenu",value:function(e){var t=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),this._hasSubmenu(t)){var n=e.children(".".concat(F)),o=n.length;$(R(A.prototype),"_showSubmenu",this).call(this,e),o||this._renderSubmenuItems(t,e),this._isSubmenuVisible(n)||this._drawSubmenu(e)}}},{key:"_hideSubmenusOnSameLevel",value:function(e){var t=e.parent(".".concat(K)).siblings().find(".".concat(V));t.length&&(t.removeClass(V),this._hideSubmenu(t.find(".".concat(F))))}},{key:"_hideSubmenuGroup",value:function(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}},{key:"_isSubmenuVisible",value:function(e){return"visible"===e.css("visibility")}},{key:"_drawSubmenu",value:function(e){var t=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(F)),o=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&((0,f.isDefined)(this._shownSubmenus)||(this._shownSubmenus=[]),(0,y.inArray)(n,this._shownSubmenus)&&this._shownSubmenus.push(n),t&&S.default.stop(n),(0,w.setup)(n,o),t&&((0,f.isPlainObject)(t.to)&&(t.to.position=o),this._animate(n,t)),n.css("visibility","visible"))}},{key:"_animate",value:function(e,t){S.default.animate(e,t)}},{key:"_getSubmenuPosition",value:function(e){var t=this.option("submenuDirection").toLowerCase(),n={collision:"flip",of:e.parent(".".concat(K)),offset:{h:0,v:-1}};switch(t){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n}},{key:"_updateSubmenuVisibilityOnClick",value:function(e){if(e.args.length){var t=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(t);if(n){var o=(0,r.default)(e.args[0].itemElement),l=o.find(".".concat(F));if(this._hasSubmenu(n)&&!l.length&&(this._renderSubmenuItems(n,o),l=o.find(".".concat(F))),o.context!==l.context||"visible"!==l.css("visibility")){var h=t&&!1===t.closeMenuOnClick;if(t&&!t.disabled&&!h)if(this._updateSelectedItemOnClick(e),0===l.length){var c=(0,r.default)(o.parents(".".concat(F))[0]);this._hideSubmenu(c),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(l)&&this._hideSubmenu(l),this._showSubmenu(o)}}}}},{key:"_hideSubmenu",value:function(e){var t=this,n=(0,C.extend)([],this._shownSubmenus);(0,m.each)(n,(function(n,o){(e.is(o)||(0,v.contains)(e[0],o[0]))&&(o.parent().removeClass(V),t._hideSubmenuCore(o))}))}},{key:"_hideSubmenuCore",value:function(e){var t=(0,y.inArray)(e,this._shownSubmenus),n=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")}},{key:"_stopAnimate",value:function(e){S.default.stop(e,!0)}},{key:"_hideAllShownSubmenus",value:function(){var e=this,t=(0,C.extend)([],this._shownSubmenus);this._overlay.$content().find(".".concat(V)).removeClass(V),(0,m.each)(t,(function(t,n){e._hideSubmenu(n)}))}},{key:"_visibilityChanged",value:function(e){e&&this._renderContentImpl()}},{key:"_optionChanged",value:function(e){if((0,y.inArray)(e.name,J)>-1)this._initActions();else switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":break;default:$(R(A.prototype),"_optionChanged",this).call(this,e)}}},{key:"_renderVisibility",value:function(e){return e?this._show():this._hide()}},{key:"_toggleVisibility",value:function(){}},{key:"_show",value:function(e){var t={jQEvent:e},n=(new E.Deferred).reject().promise();if(this._actions.onShowing(t),t.cancel)return n;var o=this._positionContextMenu(e);return o&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",o),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes()),n}},{key:"_setAriaAttributes",value:function(){this._overlayContentId="dx-".concat(new c.default),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}},{key:"_cleanAriaAttributes",value:function(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}},{key:"_getTarget",value:function(){return this.option("target")||this.option("position").of||(0,r.default)(l.default.getDocument())}},{key:"_getContextMenuPosition",value:function(){return(0,C.extend)({},this.option("position"),{of:this._getTarget()})}},{key:"_positionContextMenu",value:function(e){var t=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),o=this._createActionByOption("onPositioning",r);e&&e.preventDefault&&n&&(t.of=e);var r={position:t,event:e};return o(r),r.cancel?t=null:r.event&&(r.event.cancel=!0,e.preventDefault()),t}},{key:"_refresh",value:function(){if((0,k.hasWindow)())if(this._overlay){var e=this._overlay.option("position");$(R(A.prototype),"_refresh",this).call(this),this._overlay&&this._overlay.option("position",e)}else $(R(A.prototype),"_refresh",this).call(this);else $(R(A.prototype),"_refresh",this).call(this)}},{key:"_hide",value:function(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||(new E.Deferred).reject().promise()}},{key:"toggle",value:function(e){var t=this.option("visible");return e=void 0===e?!t:e,this._renderVisibility(e)}},{key:"show",value:function(){return this.toggle(!0)}},{key:"hide",value:function(){return this.toggle(!1)}}])&&P(t.prototype,n),o&&P(t,o),A}(A.default);(0,d.default)("dxContextMenu",Q),e.exports=Q},1678:function(e,t,n){"use strict";var o=l(n(0)),r=n(10);function l(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,p){return(_=Object.setPrototypeOf||function(e,p){return e.__proto__=p,e})(e,p)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(t){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(m,e);var t,n,l,v=f(m);function m(){return c(this,m),v.apply(this,arguments)}return t=m,(n=[{key:"_getPlainItems",value:function(){return(0,r.map)(this._collectionWidget.option("items"),(function e(t){return t.items?[t].concat((0,r.map)(t.items,e)):t}))}},{key:"_stringifyItem",value:function(e){var t=this;return JSON.stringify(e,(function(e,n){return"template"===e?t._getTemplateString(n):n}))}},{key:"_getTemplateString",value:function(template){return"object"===h(template)?(0,o.default)(template).text():template.toString()}}])&&d(t.prototype,n),l&&d(t,l),m}(l(n(633)).default);e.exports=y},1700:function(e,t,n){"use strict";var o=n(0),r=n(14),l=n(77),h=n(1).extend,c=n(549),d=n(30),_=n(29),f=n(26),v=n(128),m=n(217),y=n(187),C=n(1092),k=n(58),S="dx-colorview-container-row",w="dx-colorview-palette-gradient",x="dx-colorview-palette-gradient-white",I="dx-colorview-palette-gradient-black",H="dx-colorview-color-preview",A="dx-colorview-color-preview-color-current",E="dx-colorview-color-preview-color-new",O=v.inherit({_supportedKeys:function(){var e=this.option("rtlEnabled"),t=this,n=function(e){var n=100/t._paletteWidth;return e.shiftKey&&(n*=t.option("keyStep")),n=n>1?n:1,Math.round(n)},o=function(e){var n=t._currentColor.hsv.s+e;n>100?n=100:n<0&&(n=0),t._currentColor.hsv.s=n,d()},r=function(e){var n=100/t._paletteHeight;return e.shiftKey&&(n*=t.option("keyStep")),n=n>1?n:1,Math.round(n)},c=function(e){var n=t._currentColor.hsv.v+e;n>100?n=100:n<0&&(n=0),t._currentColor.hsv.v=n,d()};function d(){t._placePaletteHandle(),t._updateColorFromHsv(t._currentColor.hsv.h,t._currentColor.hsv.s,t._currentColor.hsv.v)}var _=function(e){var n=360/(t._hueScaleWrapperHeight-t._hueScaleHandleHeight);return e.shiftKey&&(n*=t.option("keyStep")),n=n>1?n:1},f=function(e){t._currentColor.hsv.h+=e,t._placeHueScaleHandle();var n=l.locate(t._$hueScaleHandle);t._updateColorHue(n.top+t._hueScaleHandleHeight/2)},v=function(n){var o=1/t._alphaChannelScaleWorkWidth;return n.shiftKey&&(o*=t.option("keyStep")),o=o>.01?o:.01,o=e?-o:o},m=function(e){t._currentColor.a+=e,t._placeAlphaChannelHandle();var n=l.locate(t._$alphaChannelHandle);t._calculateColorTransparencyByScaleWidth(n.left+t._alphaChannelHandleWidth/2)};return h(this.callBase(),{upArrow:function(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(e),f(_(e))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(e),c(r(e)))},downArrow:function(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(e),f(-_(e))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(e),c(-r(e)))},rightArrow:function(t){t.preventDefault(),t.stopPropagation(),t.ctrlKey?(e?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(t),m(-v(t))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(t),o(n(t)))},leftArrow:function(t){t.preventDefault(),t.stopPropagation(),t.ctrlKey?(e?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(t),m(v(t))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(t),o(-n(t)))},enter:function(e){this._fireEnterKeyPressed(e)}})},_getDefaultOptions:function(){return h(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===_.real().deviceType&&!_.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(e){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:e})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(e){var t=new c(e=e||"#000000");t.colorIsInvalid?this.option("value",this._currentColor.baseColor):this._currentColor&&this._makeRgba(this._currentColor)===this._makeRgba(t)||(this._currentColor=t,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,t))},_setBaseColor:function(e){var t=new c(e||"#000000");t.colorIsInvalid||this._makeRgba(this.option("matchValue")!==this._makeRgba(t))&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,t)},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-colorview"),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(e,t){t instanceof c||(t=new c(t)),e.css("backgroundColor",this._makeRgba(t))},_makeRgba:function(e){return e instanceof c||(e=new c(e)),"rgba("+[e.r,e.g,e.b,e.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var e=this.$element();this._$colorPickerContainer=o("<div>").addClass("dx-colorview-container").appendTo(e),this._renderHtmlRows()},_renderHtmlRows:function(e){var t=this._$colorPickerContainer.find("."+S),n=t.length,r=n-(this.option("editAlphaChannel")?2:1);if(r>0&&t.eq(-1).remove(),r<0){r=Math.abs(r);var i,l=[];for(i=0;i<r;i++)l.push(o("<div>").addClass(S));if(n)for(i=0;i<l.length;i++)t.eq(0).after(l[i]);else this._$colorPickerContainer.append(l)}},_renderHtmlCellInsideRow:function(e,t,n){return o("<div>").addClass("dx-colorview-container-cell").addClass(n).appendTo(t.find("."+S).eq(e))},_renderPalette:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-palette-cell"),t=o("<div>").addClass([w,x].join(" ")),n=o("<div>").addClass([w,I].join(" "));this._$palette=o("<div>").addClass("dx-colorview-palette").css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(e),this._paletteHeight=this._$palette.height(),this._paletteWidth=this._$palette.width(),this._renderPaletteHandle(),this._$palette.append([t,n])},_renderPaletteHandle:function(){var e=this;this._$paletteHandle=o("<div>").addClass("dx-colorview-palette-handle").appendTo(this._$palette),this._createComponent(this._$paletteHandle,C,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:function(){return-this._paletteHandleHeight/2}.bind(this),onDragMove:function(t){var n=t.event,o=l.locate(e._$paletteHandle);e._updateByDrag=!0,e._saveValueChangeEvent(n),e._updateColorFromHsv(e._currentColor.hsv.h,e._calculateColorSaturation(o),e._calculateColorValue(o))}}),this._paletteHandleWidth=this._$paletteHandle.width(),this._paletteHandleHeight=this._$paletteHandle.height(),this._placePaletteHandle()},_placePaletteHandle:function(){l.move(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(e){var t=Math.floor(e.top+this._paletteHandleHeight/2);return 100-Math.round(100*t/this._paletteHeight)},_calculateColorSaturation:function(e){var t=Math.floor(e.left+this._paletteHandleWidth/2);return Math.round(100*t/this._paletteWidth)},_updateColorFromHsv:function(e,t,n){var a=this._currentColor.a;this._currentColor=new c("hsv("+[e,t,n].join(",")+")"),this._currentColor.a=a,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-hue-scale-cell");this._$hueScaleWrapper=o("<div>").addClass("dx-colorview-hue-scale-wrapper").appendTo(e),this._$hueScale=o("<div>").addClass("dx-colorview-hue-scale").appendTo(this._$hueScaleWrapper),this._hueScaleHeight=this._$hueScale.height(),this._hueScaleWrapperHeight=this._$hueScaleWrapper.outerHeight(),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){var e=this;this._$hueScaleHandle=o("<div>").addClass("dx-colorview-hue-scale-handle").appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,C,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:function(t){var n=t.event;e._updateByDrag=!0,e._saveValueChangeEvent(n),e._updateColorHue(l.locate(e._$hueScaleHandle).top+e._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=this._$hueScaleHandle.height(),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var e=this._hueScaleWrapperHeight,t=this._hueScaleHandleHeight,n=(e-t)*(360-this._currentColor.hsv.h)/360;e<n+t&&(n=e-t),n<0&&(n=0),l.move(this._$hueScaleHandle,{top:Math.round(n)})},_updateColorHue:function(e){var t=360-Math.round(360*(e-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),n=this._currentColor.hsv.s,o=this._currentColor.hsv.v;this._isTopColorHue=!1,(t=t<0?0:t)>=360&&(this._isTopColorHue=!0,t=0),this._updateColorFromHsv(t,n,o),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=o("<div>").addClass("dx-colorview-controls-container").appendTo(e)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var e=o("<div>").addClass("dx-colorview-color-preview-container").appendTo(this._$controlsContainer),t=o("<div>").addClass("dx-colorview-color-preview-container-inner").appendTo(e);this._$currentColor=o("<div>").addClass([H,E].join(" ")),this._$baseColor=o("<div>").addClass([H,A].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),t.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+S).eq(1).addClass("dx-colorview-alpha-channel-row"),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:m,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:d.format("dxColorView-ariaRed"),labelClass:"dx-colorview-label-red"}),this._renderEditorWithLabel({editorType:m,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:d.format("dxColorView-ariaGreen"),labelClass:"dx-colorview-label-green"}),this._renderEditorWithLabel({editorType:m,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:d.format("dxColorView-ariaBlue"),labelClass:"dx-colorview-label-blue"})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(e){var t=this,n=o("<div>"),l=o("<label>").addClass(e.labelClass).text(e.labelText+":").append(n);r.off(l,k.name),r.on(l,k.name,(function(e){e.preventDefault()}));var c=e.editorType,d=h({value:e.value,onValueChanged:e.onValueChanged,onKeyboardHandled:function(e){return t._keyboardHandler(e)}},{stylingMode:this.option("stylingMode")});return c===m&&(d.min=e.min||0,d.max=e.max||255,d.step=e.step||1),new c(n,d).registerKeyHandler("enter",function(e){this._fireEnterKeyPressed(e)}.bind(this)),this.setAria("label",e.labelAriaText,n),l},hexInputOptions:function(){return{editorType:y,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:"dx-colorview-label-hex",labelText:"#",labelAriaText:d.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=y.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"))},_renderAlphaChannelScale:function(){var e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,"dx-colorview-alpha-channel-cell"),t=o("<div>").addClass("dx-colorview-alpha-channel-border").appendTo(e),n=o("<div>").addClass("dx-colorview-alpha-channel-wrapper").appendTo(t);this._$alphaChannelScale=o("<div>").addClass("dx-colorview-alpha-channel-scale").appendTo(n),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(e)},_makeCSSLinearGradient:function(e){var t=this._currentColor,n=[t.r,t.g,t.b].join(","),o=t.toHex().replace("#","");e.attr("style",function(e,t){var n=this.option("rtlEnabled"),o="rgba("+e+", "+(n?"1":"0")+")",r="rgba("+e+", "+(n?"0":"1")+")";return["background-image: -webkit-linear-gradient(180deg, "+o+", "+r+")","background-image: -moz-linear-gradient(-90deg, "+o+", "+r+")","background-image: -o-linear-gradient(-90deg, "+o+", "+r+")","background-image: linear-gradient(-90deg, "+o+", "+r+")","filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+("'#"+(n?"00":"")+t+"'")+", endColorstr="+("'#"+(n?"":"00")+t+"'")+")"].join(";")}.call(this,n,o))},_renderAlphaChannelInput:function(){var e=this,t=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);e._alphaChannelInput=this._renderEditorWithLabel({editorType:m,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(t){var n=t.value;n=e._currentColor.isValidAlpha(n)?n:e._currentColor.a,t.event&&e._saveValueChangeEvent(t.event),e._updateColorTransparency(n),e._placeAlphaChannelHandle()},labelClass:"dx-colorview-alpha-channel-label",labelText:"Alpha",labelAriaText:d.format("dxColorView-ariaAlpha")}).appendTo(t).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(e){this._currentColor.a=e,this.applyColor()},_renderAlphaChannelHandle:function(e){var t=this;this._$alphaChannelHandle=o("<div>").addClass("dx-colorview-alpha-channel-handle").appendTo(e),this._createComponent(this._$alphaChannelHandle,C,{contentTemplate:null,boundary:e,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:function(e){var n=e.event;t._updateByDrag=!0;var o=t._$alphaChannelHandle,r=l.locate(o).left+t._alphaChannelHandleWidth/2;t._saveValueChangeEvent(n),t._calculateColorTransparencyByScaleWidth(r)}}),this._alphaChannelHandleWidth=this._$alphaChannelHandle.width(),this._alphaChannelScaleWorkWidth=e.width()-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(e){var t=(e-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,n=this.option("rtlEnabled");t=n?t:1-t,e>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?t=n?1:0:t<1&&(t=t.toFixed(2)),t=Math.max(t,0),t=Math.min(t,1),this._alphaChannelInput.option("value",t)},_placeAlphaChannelHandle:function(){var e=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);e<0&&(e=0),this._alphaChannelScaleWorkWidth<e&&(e=this._alphaChannelScaleWorkWidth),l.move(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-e:e})},applyColor:function(){var e=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),this.option("value",e)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(e,t){var n,o;e?o=this._validateHex("#"+this._hexInput.option("value")):(n=this._validateRgb(),this._alphaChannelInput?(n.push(this._alphaChannelInput.option("value")),o="rgba("+n.join(", ")+")"):o="rgb("+n.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new c(o),this._saveValueChangeEvent(t.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(e){return this._currentColor.isValidHex(e)?e:this._currentColor.toHex()},_validateRgb:function(){var e=this._rgbInputs[0].option("value"),g=this._rgbInputs[1].option("value"),b=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(e,g,b)||(e=this._currentColor.r,g=this._currentColor.g,b=this._currentColor.b),[e,g,b]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(e){var t=e.value;switch(e.name){case"value":this._setCurrentColor(t),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(e);break;case"matchValue":this._setBaseColor(t);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(e)}}});f("dxColorView",O),e.exports=O},427:function(e,t,n){"use strict";var o,r=n(1675),l=(o=r)&&o.__esModule?o:{default:o};e.exports=l.default,e.exports.default=e.exports}}]);