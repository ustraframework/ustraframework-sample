(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1114:function(t,e,n){"use strict";var o=n(1756),r=n(433),l=n(194),d=n(6),h=n(2),c=n(1).extend,_=n(30),f=r.inherit({NAME:"Calendar",supportedKeys:function(){var t=function(t){return!!this.option("opened")&&(t.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")!==this._widget.option("maxZoomLevel"))return!0;var e=this._getContouredValue(),n=this._lastActionElement;e&&"calendar"===n&&this.dateBoxValue(e,t),this.dateBox.close(),this.dateBox._valueChangeEventHandler(t)}else this.dateBox._valueChangeEventHandler(t)}.bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_getWidgetName:function(){return o},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener:function(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return c(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:h.isFunction(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),hasFocus:function(){return!0}})},_injectComponent:function(t){var e=this;return function(n){return c(n,{component:e.dateBox}),t(n)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},popupConfig:function(t){var e=this,n=t.toolbarItems,o=this.dateBox.option("buttonsLocation"),r=[];return r="default"!==o?d.splitPair(o):["bottom","center"],"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()&&n.unshift({widget:"dxButton",toolbar:r[0],location:"after"===r[1]?"before":r[1],options:{onInitialized:function(t){t.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:function(t){e._widget._toTodayView(t)},text:_.format("dxCalendar-todayButtonText"),type:"today"}}),c(!0,t,{toolbarItems:n,position:{collision:"flipfit flip"},width:"auto"})},_isCalendarVisible:function(){return h.isEmptyObject(this.dateBox.option("calendarOptions"))||!1!==this.dateBox.option("calendarOptions.visible")},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=this.dateBox,n=t.value,o=t.previousValue;l.sameDate(n,o)||"instantly"===e.option("applyValueMode")&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;"instantly"===e.option("applyValueMode")&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}});t.exports=f},1752:function(t,e,n){"use strict";var o=n(26),r=n(1753);o("dxDateBox",r),t.exports=r},1753:function(t,e,n){"use strict";var o=n(21),r=n(2),l=n(34),d=n(1),h=n(105),c=C(n(14)),_=n(1754),f=C(n(117)),m=n(646),v=n(645),x=C(n(1755)),y=C(n(151)),D=C(n(29)),w=C(n(50));function C(t){return t&&t.__esModule?t:{default:t}}var B="dateBoxMask",V=-1,I=x.default.inherit({_supportedKeys:function(t){var e=this,n=this.callBase(t),r=function(t){var r=n[(0,o.normalizeKeyName)(t)];return r&&r.apply(e,[t])},l=function(t,n){return e._shouldUseOriginalHandler(t)?r.apply(e,[t]):n.apply(e,[t])};return(0,d.extend)({},n,{del:function(t){return l(t,(function(t){e._revertPart(1),e._isAllSelected()||t.preventDefault()}))},backspace:function(t){return l(t,(function(t){e._revertPart(V),e._isAllSelected()||t.preventDefault()}))},home:function(t){return l(t,(function(t){e._selectFirstPart(),t.preventDefault()}))},end:function(t){return l(t,(function(t){e._selectLastPart(),t.preventDefault()}))},escape:function(t){return l(t,(function(t){e._revertChanges(t)}))},enter:function(t){return l(t,(function(t){e._enterHandler(t)}))},leftArrow:function(t){return l(t,(function(t){e._selectNextPart(V),t.preventDefault()}))},rightArrow:function(t){return l(t,(function(t){e._selectNextPart(1),t.preventDefault()}))},upArrow:function(t){return l(t,(function(t){e._upDownArrowHandler(1),t.preventDefault()}))},downArrow:function(t){return l(t,(function(t){e._upDownArrowHandler(V),t.preventDefault()}))}})},_shouldUseOriginalHandler:function(t){var e=this.option("opened")&&t&&-1===["backspace","del"].indexOf((0,o.normalizeKeyName)(t));return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler:function(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),n=this._getActivePartValue()-e;this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+t,!0)},_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey:function(t){var e=t.originalEvent,n=t.ctrl,r=t.alt,l=e.data||("space"===(0,o.normalizeKeyName)(e)?" ":e.key);return"string"==typeof l&&1===l.length&&!n&&!r},_isSingleDigitKey:function(t){var e,data=null===(e=t.originalEvent)||void 0===e?void 0:e.data;return 1===(null==data?void 0:data.length)&&parseInt(data,10)},_useBeforeInputEvent:function(){var t=D.default.real();return t.android&&t.version[0]>4},_keyboardHandler:function(t){var e=this,n=t.originalEvent.key,o=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(w.default.chrome&&"Process"===t.key&&0===t.code.indexOf("Digit")?(n=t.code.replace("Digit",""),this._processInputKey(n),this._maskInputHandler=function(){e._renderSelectedPart()}):this._isSingleCharKey(t)&&(this._processInputKey(n),t.originalEvent.preventDefault())),o},_maskBeforeInputHandler:function(t){var e=this;this._maskInputHandler=null;var n=t.originalEvent.inputType;"insertCompositionText"===n&&(this._maskInputHandler=function(){e._renderSelectedPart()});var o="deleteContentBackward"===n;if(o||"deleteContentForward"===n){var r=o?V:1;this._maskInputHandler=function(){e._revertPart(),e._selectNextPart(r)}}if(this._useMaskBehavior()&&this._isSingleCharKey(t)){var l=t.originalEvent.data;return this._processInputKey(l),t.preventDefault(),!0}},_keyPressHandler:function(t){var e=t.originalEvent;"insertCompositionText"===(null==e?void 0:e.inputType)&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey:function(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected:function(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern:function(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=(0,r.isString)(t)&&!f.default._getPatternByFormat(t);return this._formatPattern=e?t:(0,v.getFormat)((function(e){return f.default.format(e,t)})),this._formatPattern},_setNewDateIfEmpty:function(){if(!this._maskValue){var t="time"===this.option("type")?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached:function(t){var e=String(t).length,n=this._getActivePartProp("pattern").length,o=1===n?e:Math.min(n,e),r=this._searchValue.length===o,l=parseInt(this._searchValue+"0")>t;return r||l},_searchNumber:function(t){var e=this._getActivePartLimits().max,n=String(e).length;this._searchValue=(this._searchValue+t).substr(-n),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(1)},_searchString:function(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),n=this._searchValue+t.toLowerCase(),o=e.max-e.min,i=0;i<=o;i++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(i+1),0===this._getActivePartProp("text").toLowerCase().indexOf(n))return void(this._searchValue=n);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue:function(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior:function(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo:function(){this._regExpInfo=(0,m.getRegExpInfo)(this._getFormatPattern(),f.default);var t=this._regExpInfo.regexp.flags,e=y.default.convertDigits(this._regExpInfo.regexp.source,!1);this._regExpInfo.regexp=RegExp(e,t)},_initMaskState:function(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts:function(){if(this._useMaskBehavior()){var text=this.option("text")||this._getDisplayedText(this._maskValue);text&&(this._dateParts=(0,_.renderDateParts)(text,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents:function(){c.default.off(this._input(),".dateBoxMask")},_attachMaskEvents:function(){var t=this;c.default.on(this._input(),(0,o.addNamespace)("dxclick",B),this._maskClickHandler.bind(this)),c.default.on(this._input(),(0,o.addNamespace)("paste",B),this._maskPasteHandler.bind(this)),c.default.on(this._input(),(0,o.addNamespace)("drop",B),(function(){t._renderSelectedPart()})),c.default.on(this._input(),(0,o.addNamespace)("compositionend",B),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&c.default.on(this._input(),(0,o.addNamespace)("beforeinput",B),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart:function(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart:function(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(V))},_selectFirstPart:function(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(1))},_onMouseWheel:function(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?1:V,t)},_selectNextPart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){t&&(this._initialMaskValue=new Date(this._maskValue));var e=(0,h.fitIntoRange)(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var n=0===e&&t<0||e===this._dateParts.length-1&&t>0;if(!n)return void this._selectNextPart(t>=0?t+1:t-1);e=this._activePartIndex}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern:function(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits:function(t){return this._getActivePartProp("limits")(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue:function(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return(0,r.isFunction)(e)?e(t):t[e]()},_addLeadingZeroes:function(t){var e=this._searchValue.match(/^0+/),n=this._getActivePartLimits(),o=String(n.max).length;return((e&&e[0]||"")+String(t)).substr(-o)},_setActivePartValue:function(t,e){e=e||this._maskValue;var n=this._getActivePartProp("setter"),o=this._getActivePartLimits();t=(0,h.inRange)(t,o.min,o.max)?t:t%10,t=this._addLeadingZeroes((0,h.fitIntoRange)(t,o.min,o.max)),(0,r.isFunction)(n)?n(e,t):e[n](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp:function(t){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][t]},_loadMaskValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue:function(){var t=this._maskValue&&new Date(this._maskValue);t&&"date"===this.option("type")&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges:function(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText:function(text){this.callBase(text),this._useMaskBehavior()&&this.option("text",text)},_partIncrease:function(t,e){this._setNewDateIfEmpty();var n=this._getActivePartLimits(e),o=n.max,r=n.min,l=o-r;1===l&&l++;var d=t+this._getActivePartValue();d>o?d=this._applyLimits(d,{limitBase:r,limitClosest:o,limitDelta:l}):d<r&&(d=this._applyLimits(d,{limitBase:o,limitClosest:r,limitDelta:l})),this._setActivePartValue(d)},_applyLimits:function(t,e){var n=e.limitBase,o=e.limitClosest,r=(t-o)%e.limitDelta;return r?n+r-1*(0,h.sign)(r):o},_maskClickHandler:function(){this.option("text")&&(this._activePartIndex=(0,_.getDatePartIndexByPosition)(this._dateParts,this._caret().start),(0,r.isDefined)(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart())},_maskCompositionEndHandler:function(t){var e=this;if(w.default.msie&&this._isSingleDigitKey(t)){var n=t.originalEvent.data;this._processInputKey(n)}else this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=function(){e._renderSelectedPart()}},_maskPasteHandler:function(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),(0,l.clipboardText)(t)),n=f.default.parse(e,this._getFormatPattern());n&&this._isDateValid(n)&&(this._maskValue=n,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:function(t){return(0,r.isDate)(t)&&!isNaN(t)},_isValueDirty:function(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent:function(){this._clearSearchValue(),this._isValueDirty()&&c.default.trigger(this._input(),"change")},_enterHandler:function(t){this._fireChangeEvent(),this._selectNextPart(1),t.preventDefault()},_focusOutHandler:function(t){this.callBase(t),this._useMaskBehavior()&&!t.isDefaultPrevented()&&(this._fireChangeEvent(),this._selectFirstPart(t))},_valueChangeEventHandler:function(t){var text=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),text?null===this._maskValue&&this._loadMaskValue(text):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged:function(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState:function(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset:function(){this.callBase(),this._clearMaskState(),this._activePartIndex=0},_clean:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});t.exports=I},1754:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderDateParts=e.getDatePartIndexByPosition=void 0;var o=n(646),r=n(1),l=n(105),d=n(6),h=function(t){return t.getMonth()+1},c=function(t,e){var n=t.getDate(),o=v("M",t),r=(0,l.fitIntoRange)(parseInt(e),o.min,o.max);t.setMonth(r-1,1);var d=v("dM",t),h=d.min,c=d.max,_=(0,l.fitIntoRange)(n,h,c);t.setDate(_)},_={a:function(t){return t.getHours()<12?0:1},E:"getDay",y:"getFullYear",M:h,L:h,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},f=(0,r.extend)({},(0,o.getPatternSetters)(),{a:function(t,e){var n=t.getHours();n>=12!==!!parseInt(e)&&t.setHours((n+12)%24)},d:function(t,e){e>v("dM",t).max&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:function(t,e){var n=t.getHours()>=12;t.setHours(+e%12+(n?12:0))},M:c,L:c,E:function(t,e){e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:function(t,e){var n=t.getFullYear(),o=String(e).length,r=String(v("y",t).max).length,l=parseInt(String(n).substr(0,r-o)+e);t.setFullYear(l)}}),m=function(t){return _[t]||function(){return t}},v=function(pattern,t,e){var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return n[e||pattern]||n.getAmPm};e.getDatePartIndexByPosition=function(t,e){for(var i=0;i<t.length;i++){var n=t[i].caret.end>=e;if(!t[i].isStub&&n)return i}return null},e.renderDateParts=function(text,t){for(var e=t.regexp.exec(text),n=0,o=0,r=[],i=1;i<e.length;i++){o=(n=o)+e[i].length;var pattern=t.patterns[i-1].replace(/^'|'$/g,""),l=m(pattern[0]);r.push({index:i-1,isStub:pattern===e[i],caret:{start:n,end:o},pattern:pattern,text:e[i],limits:v.bind(undefined,pattern[0]),setter:f[pattern[0]]||d.noop,getter:l})}return r}},1755:function(t,e,n){"use strict";var o=n(20),r=o.getWindow(),l=n(26),d=n(2),h=n(34),c=n(10).each,_=n(338).compare,f=n(1).extend,m=n(127),v=n(29),x=n(97),y=n(194),D=n(218),w=n(170),C=n(644),B=n(117),V=n(30),I="dx-datebox",M="dx-datebox-wrapper",P={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},S={date:"date",datetime:"datetime",time:"time"},k="Calendar",T="DateView",O="Native",A="CalendarWithTime",F="List",H={Calendar:n(1114),DateView:n(1761),Native:n(1764),CalendarWithTime:n(1765),List:n(1767)},E=C.inherit({_supportedKeys:function(){return f(this.callBase(),this._strategy.supportedKeys())},_setDeprecatedOptions:function(){this.callBase(),f(this._deprecatedOptions,{maxZoomLevel:{since:"18.1",alias:"calendarOptions.maxZoomLevel"},minZoomLevel:{since:"18.1",alias:"calendarOptions.minZoomLevel"}})},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return f(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,maxZoomLevel:"month",minZoomLevel:"century",pickerType:P.calendar,invalidDateMessage:V.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:V.format("validation-range"),applyButtonText:V.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=v.real().platform;return"ios"===t||"android"===t},options:{pickerType:P.native}},{device:function(t){var e=v.real(),n=e.platform,o=e.version;return"generic"===n&&"desktop"!==t.deviceType||"android"===n&&_(o,[4,4])<0},options:{pickerType:P.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=f({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t!==P.list||e!==S.datetime&&e!==S.date||(t=P.calendar),e===S.time&&t===P.calendar&&(t=P.list),this.option("showDropDownButton","generic"!==v.real().platform||t!==P.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option(f({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=H[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),n="";return/d|M|Y/g.test(t)&&(n+=S.date),e&&(n+=S.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===P.rollers?T:e===P.native?O:t===S.date?k:t===S.datetime?A:F},_initMarkup:function(){this.$element().addClass(I),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._dimensionChanged()},_dimensionChanged:function(){var t,e;(this.callBase(arguments),this._popup)&&(null===(t=(e=this._strategy)._updatePopupHeight)||void 0===t||t.call(e))},_refreshFormatClass:function(){var t=this.$element();c(S,(function(e,n){t.removeClass("dx-datebox-"+n)})),t.addClass("dx-datebox-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();c(P,(function(e,n){t.removeClass("dx-datebox-"+n)})),t.addClass("dx-datebox-"+this._pickerType)},_formatValidationIcon:function(){if(o.hasWindow()){var t=this._input().get(0),e=this.option("rtlEnabled"),n=this._getClearButtonWidth(),l=this._getLongestElementDimensions(),d=parseFloat(r.getComputedStyle(t).width)-n,h=l.width>d,style=t.style;this.$element().toggleClass("dx-show-invalid-badge",!h),h?(void 0===this._storedPadding&&(this._storedPadding=e?l.leftPadding:l.rightPadding),e?style.paddingLeft=0:style.paddingRight=0):e?style.paddingLeft=this._storedPadding+"px":style.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&""===this._input().val()){var e=this.$element().find(".dx-clear-button-area").get(0);t=parseFloat(r.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=B.format(D.getLongestDate(t,B.getMonthNames(),B.getDayNames()),t),n=this._input(),o=n.get(0),l=h.createTextElementHiddenCopy(n,e),d=void 0!==this._storedPadding?this._storedPadding:0;l.appendTo(this.$element());var c=parseFloat(r.getComputedStyle(l.get(0)).width),_=parseFloat(r.getComputedStyle(o).paddingRight),f=parseFloat(r.getComputedStyle(o).paddingLeft),m=c+f+_+d;return l.remove(),{width:m,leftPadding:f,rightPadding:_}},_getKeyboardListeners:function(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup._wrapper().addClass(M),this._renderPopupWrapper()},_popupConfig:function(){var t=this.callBase();return f(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=f({},S,P);c(e,function(e,n){t.removeClass("dx-datebox-wrapper-"+n)}.bind(this)),this._popup._wrapper().addClass("dx-datebox-wrapper-"+this.option("type")).addClass("dx-datebox-wrapper-"+this._pickerType)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===P.rollers)return!0;var t=v.real().platform;return this._isNativeType()&&("ios"===t||"android"===t)?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),n=D.SUBMIT_FORMATS_MAP[this.option("type")],o=e?w.serializeDate(t,e):D.toStandardDateFormat(t,n);this._getSubmitElement().val(o)},_getDisplayedText:function(t){var e,n=this.option("mode");if("text"===n){var o=this._strategy.getDisplayFormat(this.option("displayFormat"));e=B.format(t,o)}else{var r=this._getFormatByMode(n);e=r?B.format(t,r):D.toStandardDateFormat(t,n)}return e},_getFormatByMode:function(t){return m.inputType(t)?null:D.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var text=this.option("text"),e=this.dateOption("value");if(text!==this._getDisplayedText(e)){var n=this._getParsedDate(text),o=null!=e?e:this._getDateByDefault(),r=this.option("type"),l=D.mergeDates(o,n,r),d=n&&"time"===r?l:n;if(this._applyInternalValidation(d).isValid){var h=this._getDisplayedText(l);o&&l&&o.getTime()===l.getTime()&&h!==text?this._renderValue():this.dateValue(l,t)}}else this._applyInternalValidation(e)},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(text){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=this._strategy.getParsedText(text,t);return null!=e?e:void 0},_applyInternalValidation:function(t){var e=!!this.option("text")&&null!==t,n=!!t&&d.isDate(t)&&!isNaN(t.getTime()),o=n&&y.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),r=!e&&!t||o,l="";return n?o||(l=this.option("dateOutOfRangeMessage")):l=this.option("invalidDateMessage"),this.option({isValid:r,validationError:r?null:{editorSpecific:!0,message:l}}),{isValid:r,isDate:n}},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value");return(e&&e.getTime())!==(t&&t.getTime())},_isTextChanged:function(t){return this.option("text")!==(t&&this._getDisplayedText(t)||"")},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===S.time?V.format("dxDateBox-simulatedDataPickerTitleTime"):e===S.date||e===S.datetime?V.format("dxDateBox-simulatedDataPickerTitleDate"):""},_renderPlaceholder:function(){this._popup&&this._popup.option("title",this._getPopupTitle()),this.callBase()},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue(),n=this._applyInternalValidation(e),o=n.isValid,r=n.isDate;if(o)this.dateValue(e,t.event);else if(r){var l=this._getDisplayedText(e);this.option("text",l),this._renderDisplayText(l)}this.callBase()},_dispose:function(){var t;this.callBase(),null===(t=this._strategy)||void 0===t||t.dispose()},_isNativeType:function(){return this._pickerType===P.native},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this._renderPlaceholder();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":case"minZoomLevel":case"maxZoomLevel":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");return this.option("dateSerializationFormat")&&x().forceIsoDateParsing?this.option("dateSerializationFormat"):d.isNumeric(t)?"number":d.isString(t)?w.getDateSerializationFormat(t):void 0},_updateValue:function(t){this.callBase(),this._applyInternalValidation(null!=t?t:this.dateOption("value"))},dateValue:function(t,e){var n=this._isValueChanged(t);return n&&e&&this._saveValueChangeEvent(e),n||(this._isTextChanged(t)?this._updateValue(t):""===this.option("text")&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(1===arguments.length)return w.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return w.serializeDate(t,e)},reset:function(){this.callBase(),this._updateValue(this.dateOption("value"))}});l("dxDateBox",E),t.exports=E},1761:function(t,e,n){"use strict";var o=n(0),r=n(20).getWindow(),l=n(1762),d=n(433),h=n(127),c=n(1).extend,_=n(218),f=n(30),m=d.inherit({NAME:"DateView",getDefaultOptions:function(){return c(this.callBase(),{openOnFieldClick:!0,applyButtonText:f.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||_.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var e=t.platform;return"generic"===e||"ios"===e},options:{width:"auto",height:"auto"}},{device:function(t){var e=t.platform,n=t.phone;return"generic"===e&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:r}}}]}},_renderWidget:function(){if(h.inputType(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var element=o("<div>").appendTo(t.$content());this._widget=this._createWidget(element)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return l},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*_.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}});t.exports=m},1762:function(t,e,n){"use strict";var o=n(0),r=n(128),l=n(1763),d=n(194),h=n(10).each,c=n(1).extend,_=n(218),f=n(26),m=n(117),v="dx-dateview",x="date",y="year",D="month",w="day",C="hours",B=r.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===x?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return c(this.callBase(),{minDate:_.MIN_DATEVIEW_DEFAULT_DATE,maxDate:_.MAX_DATEVIEW_DEFAULT_DATE,type:x,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"desktop"!==t.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(v),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass("dx-dateview-"+t),e&&this.$element().removeClass("dx-dateview-"+e)},_toggleCompactClass:function(){this.$element().toggleClass("dx-dateview-compact",this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=o("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=o("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;h(t._rollerConfigs,(function(e){var n=o("<div>").appendTo(t._$rollersContainer).addClass("dx-dateviewroller-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(n,l,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:!1,onStart:function(n){var o=n.component;o._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],o.option("selectedIndex"))},onEnd:function(t){t.component._toggleActive(!1)},onClick:function(n){var o=n.component;o._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],o.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],o.option("selectedIndex")),o._toggleActive(!1)},onSelectedIndexChanged:function(n){var o=n.component;t._setRollerState(t._rollerConfigs[e],o.option("selectedIndex"))}})})),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},m.getFormatParts(_.FORMATS_MAP[t]).forEach((function(t){e._createRollerConfig(t)}))},_createRollerConfig:function(t){for(var e=_.DATE_COMPONENTS_INFO[t],n=this._calculateRollerConfigValueRange(t),o=n.startValue,r=n.endValue,l=e.formatter,d=this._getCurrentDate(),h={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(t){return t[e.getter]()-o}},i=o;i<=r;i++)h.valueItems.push(i),h.displayItems.push(l(i,d));h.selectedIndex=h.getIndex(d),this._rollerConfigs[t]=h},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];h(this._rollers,(function(){this.toggleActiveState(this===e)}))},_updateRollersPosition:function(){var t=this;h(this._rollers,(function(e){var n=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",n)}))},_setRollerState:function(t,e){if(e!==t.selectedIndex){var n=t.valueItems[e],o=t.setValue,r=new Date(this._getCurrentDate()),l=r.getDate(),h=this.option("minDate"),c=this.option("maxDate");t.type===D?l=Math.min(l,_.getMaxMonthDay(r.getFullYear(),n)):t.type===y&&(l=Math.min(l,_.getMaxMonthDay(n,r.getMonth()))),r.setDate(l),r[o](n);var f=d.normalizeDate(r,h,c);r=_.mergeDates(f,r,"time"),r=d.normalizeDate(r,h,c),this.option("value",r),t.selectedIndex=e}t.type===y&&this._refreshRollers(),t.type===D&&(this._refreshRoller(w),this._refreshRoller(C))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var n=this._rollerConfigs[t];t!==w&&n.displayItems.toString()===e.option("items").toString()||e.option({items:n.displayItems,selectedIndex:n.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),n=this.option("maxDate");return d.normalizeDate(t,e,n)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),n=this.option("minDate"),o=this.option("maxDate"),r=d.sameYear(e,n),l=r&&e.getMonth()===n.getMonth(),h=d.sameYear(e,o),c=h&&e.getMonth()===o.getMonth(),f=l&&e.getDate()===n.getDate(),m=c&&e.getDate()===o.getDate(),v=_.DATE_COMPONENTS_INFO[t],x=v.startValue,B=v.endValue;return t===y&&(x=n.getFullYear(),B=o.getFullYear()),t===D&&(r&&(x=n.getMonth()),h&&(B=o.getMonth())),t===w&&(B=_.getMaxMonthDay(e.getFullYear(),e.getMonth()),r&&l&&(x=n.getDate()),h&&c&&(B=o.getDate())),t===C&&(x=f?n.getHours():x,B=m?o.getHours():B),{startValue:x,endValue:B}},_refreshRollers:function(){this._refreshRoller(D),this._refreshRoller(w),this._refreshRoller(C)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});f("dxDateView",B),t.exports=B},1763:function(t,e,n){"use strict";var o=n(0),r=n(14),l=n(26),d=n(1).extend,h=n(10).each,c=n(21),_=n(58),f=n(185),m=n(29),v=n(104),x=n(77),y="dx-dateview-item",D=f.inherit({_getDefaultOptions:function(){return d(this.callBase(),{showScrollbar:!1,useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{scrollByContent:!0}}])},_init:function(){this.callBase(),this._renderSelectedItemFrame()},_render:function(){this.callBase(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._wrapAction("_endAction",this._endActionHandler.bind(this)),this._renderSelectedIndexChanged()},_renderSelectedIndexChanged:function(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")},_renderWheelEvent:function(){var t=this;r.on(this._$container,"dxmousewheel",(function(e){t._isWheelScrolled=!0}))},_renderContainerClick:function(){if(this.option("showOnClick")){var t=c.addNamespace(_.name,this.NAME),e=this._createActionByOption("onClick");r.off(this._$container,t),r.on(this._$container,t,(function(t){e({event:t})}))}},_wrapAction:function(t,e){var n=this._strategy,o=n[t];n[t]=function(){return e.apply(this,arguments),o.apply(this,arguments)}},_renderItems:function(){var t=this.option("items")||[],e=o();this._$content.empty(),t.forEach((function(t){e=e.add(o("<div>").addClass(y).append(t))})),this._$content.append(e),this._$items=e,this.update()},_renderSelectedItemFrame:function(){o("<div>").addClass("dx-dateview-item-selected-frame").append(o("<div>").addClass("dx-dateview-item-selected-border")).appendTo(this._$container)},_renderSelectedValue:function(t){var e=this._fitIndex(null!=t?t:this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(e)}),this._renderActiveStateItem()},_fitIndex:function(t){var e=(this.option("items")||[]).length;return t>=e?e-1:t<0?0:t},_getItemPosition:function(t){return Math.round(this._itemHeight()*t)},_renderItemsClick:function(){var t=this._getItemSelector(),e=c.addNamespace(_.name,this.NAME);r.off(this.$element(),e,t),r.on(this.$element(),e,t,this._itemClickHandler.bind(this))},_getItemSelector:function(){return".dx-dateview-item"},_itemClickHandler:function(t){this.option("selectedIndex",this._itemElementIndex(t.currentTarget))},_itemElementIndex:function(t){return this._itemElements().index(t)},_itemElements:function(){return this.$element().find(this._getItemSelector())},_renderActiveStateItem:function(){var t=this.option("selectedIndex");h(this._$items,(function(e){o(this).toggleClass("dx-dateview-item-selected",t===e)}))},_shouldScrollToNeighborItem:function(){return"desktop"===m.real().deviceType&&this._isWheelScrolled},_moveTo:function(t){t=this._normalizeLocation(t);var e=this._location(),n={x:-(e.left-t.left),y:-(e.top-t.top)};if(this._isVisible()&&(n.x||n.y))if(this._strategy._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var o=this;v.stop(this._$content),v.animate(this._$content,{duration:200,type:"slide",to:{top:Math.floor(n.y)},complete:function(){x.resetPosition(o._$content),o._strategy.handleMove({delta:n})}}),delete this._animation}else this._strategy.handleMove({delta:n})},_validate:function(t){return this._strategy.validate(t)},_fitSelectedIndexInRange:function(t){var e=this.option("items").length;return Math.max(Math.min(t,e-1),0)},_isInNullNeighborhood:function(t){return-.1<=t&&t<=.1},_getSelectedIndexAfterScroll:function(t){var e=-this._location().top-t*this._itemHeight();if(this._isInNullNeighborhood(e))return t;var n=e>0?1:-1;return this._fitSelectedIndexInRange(t+n)},_getNewSelectedIndex:function(t){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(t);this._animation=!0;var e=-this._location().top/this._itemHeight();return Math.round(e)},_endActionHandler:function(){var t=this.option("selectedIndex"),e=this._getNewSelectedIndex(t);e===t?this._renderSelectedValue(e):this.option("selectedIndex",e),this._isWheelScrolled=!1},_itemHeight:function(){return this._$items.first().height()},_toggleActive:function(t){this.$element().toggleClass("dx-state-active",t)},_isVisible:function(){return this._$container.is(":visible")},_fireSelectedIndexChanged:function(t,e){this._selectedIndexChanged({value:t,previousValue:e,event:void 0})},_visibilityChanged:function(t){this.callBase(t),t&&this._renderSelectedValue(this.option("selectedIndex")),this.toggleActiveState(!1)},toggleActiveState:function(t){this.$element().toggleClass("dx-dateviewroller-current",t)},_refreshSelectedIndex:function(){var t=this.option("selectedIndex"),e=this._fitIndex(t);e===t?this._renderActiveStateItem():this.option("selectedIndex",e)},_optionChanged:function(t){switch(t.name){case"selectedIndex":this._fireSelectedIndexChanged(t.value,t.previousValue),this._renderSelectedValue(t.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:this.callBase(t)}}});l("dxDateViewRoller",D),t.exports=D},1764:function(t,e,n){"use strict";var o=n(6),r=m(n(433)),l=n(127),d=n(35),h=m(n(218)),c=m(n(170)),_=n(1),f=m(n(29));function m(t){return t&&t.__esModule?t:{default:t}}var v=r.default.inherit({NAME:"Native",popupConfig:function(t){return(0,_.extend)({},t,{width:"auto"})},getParsedText:function(text,t){return text?"datetime"===this.dateBox.option("type")?new Date(text.replace(/-/g,"/").replace("T"," ").split(".")[0]):this._isTextInput()?this.callBase(text,t):h.default.fromStandardDateFormat(text):null},_isTextInput:function(){return"text"===this.dateBox._input().prop("type")},renderPopupContent:o.noop,_getWidgetName:o.noop,_getWidgetOptions:o.noop,_getDateBoxType:function(){var t=this.dateBox.option("type");return-1===(0,d.inArray)(t,h.default.SUPPORTED_FORMATS)?t="date":"datetime"!==t||(0,l.inputType)(t)||(t="datetime-local"),t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");f.default.real().android&&t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||h.default.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:c.default.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:c.default.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}});t.exports=v},1765:function(t,e,n){"use strict";var o=n(0),r=n(20).getWindow(),l=n(1114),d=n(1766),h=n(117),c=n(1).extend,_=n(341),f=n(218),m=l.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return c(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return h.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(o("<div>"),d,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t._wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,void 0!==e):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();e||t||(e=new Date,f.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return o(r).width()<=573},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent(o("<div>").appendTo(t),_,{direction:"row",crossAlign:"start",items:this._getBoxItems(),itemTemplate:function(data){var t=o("<div>");switch(data.name){case"calendar":t.append(this._widget.$element()),this._isShrinkView()&&t.append(this._timeView.$element());break;case"time":t.append(this._timeView.$element())}return t}.bind(this)}),this._attachTabHandler()},popupConfig:function(t){var e=this.callBase(t);return c(e,{width:"auto",onShowing:function(){if("fallback"===this._box.option("_layoutStrategy")){var t=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",t)}}.bind(this)})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",(function(e){e.shiftKey&&(e.preventDefault(),t.focus())}))},_preventFocusOnPopup:function(t){o(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var time=this._timeView.option("value");return t.setHours(time.getHours(),time.getMinutes(),time.getSeconds(),time.getMilliseconds()),t},getValue:function(){var t=this._widget.option("value");return t=t?new Date(t):new Date,this._updateDateTime(t)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}});t.exports=m},1766:function(t,e,n){"use strict";var o=v(n(0)),r=v(n(128)),l=v(n(217)),d=v(n(296)),h=v(n(341)),c=n(1),_=v(n(26)),f=n(117),m=n(218);function v(t){return t&&t.__esModule?t:{default:t}}var x=function(t,e,n){y(t,e,n)},y=function(t,e,n){t.css("transform","rotate("+e+"deg) translate(0,"+n+"px)")},D=r.default.inherit({_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:0,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{_arrowOffset:15}},{device:{platform:"generic"},options:{_arrowOffset:5}}])},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass("dx-timeview")},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=(0,o.default)("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:50,template:this._renderField.bind(this)}),this._createComponent(t,h.default,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,n){this._$hourArrow=(0,o.default)("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=(0,o.default)("<div>").addClass("dx-timeview-minutearrow");var r=(0,o.default)(n);r.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",r)},_updateClock:function(){var time=this._getValue(),t=time.getHours()/12*360+time.getMinutes()/60*30,e=time.getMinutes()/60*360;x(this._$hourArrow,t,this.option("_arrowOffset")),x(this._$minuteArrow,e,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=this,n=[{ratio:0,shrink:0,baseSize:"auto",template:function(){return e._hourBox.$element()}},{ratio:0,shrink:0,baseSize:"auto",template:(0,o.default)("<div>").addClass("dx-timeview-time-separator").text((0,f.getTimeSeparator)())},{ratio:0,shrink:0,baseSize:"auto",template:function(){return e._minuteBox.$element()}}];return t&&n.push({ratio:0,shrink:0,baseSize:"auto",template:function(){return e._format12.$element()}}),n},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent((0,o.default)("<div>").addClass("dx-timeview-field"),h.default,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){var e=this;(this._hourBox=this._createComponent((0,o.default)("<div>"),l.default,(0,c.extend)({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:function(t){return e._keyboardHandler(t)}},this._getNumberBoxConfig()))).setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(t){var e=t.value,component=t.component,n=this._getValue(),o=new Date(n),r=this._convertMaxHourToMin(e);component.option("value",r),this._isPM()&&(r+=12),o.setHours(r),(0,m.normalizeTime)(o),this.option("value",o)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this;(this._minuteBox=this._createComponent((0,o.default)("<div>"),l.default,(0,c.extend)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:function(e){return t._keyboardHandler(e)},onValueChanged:function(e){var n=(60+e.value)%60;e.component.option("value",n);var time=new Date(t._getValue());time.setMinutes(n),(0,m.normalizeTime)(time),t.option("value",time)}},this._getNumberBoxConfig()))).setAria("label","minutes")},_createFormat12Box:function(){var t=this,e=(0,f.getPeriodNames)();(this._format12=this._createComponent((0,o.default)("<div>").addClass("dx-timeview-format12"),d.default,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:function(e){return t._keyboardHandler(e)},onValueChanged:function(e){var n=e.value,o=t._getValue().getHours(),time=new Date(t._getValue()),r=(o+12*n)%24;time.setHours(r),t.option("value",time)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")})).setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,t)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});(0,_.default)("dxTimeView",D),t.exports=D},1767:function(t,e,n){"use strict";var o=n(0),r=n(20).getWindow(),l=n(292),d=n(433),h=n(6).noop,c=n(6).ensureDefined,_=n(2).isDate,f=n(1).extend,m=n(218),v=n(117),x=n(170),y=n(1107).getSizeValue,D={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},w=d.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){this.option("opened")&&this.close()},space:h,home:h,end:h}},getDefaultOptions:function(){return f(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return l},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);-1===e?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,i=0,n=this._widgetItems.length;i<n;i++)if(this._areDatesEqual(t,this._widgetItems[i])){e=i;break}return e},_areDatesEqual:function(t,e){return _(t)&&_(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),n=this.dateBox.dateOption("value")||null,o=e-t,r=t.getMinutes()%this.dateBox.option("interval");return o<0?[]:(o>m.ONE_DAY&&(o=m.ONE_DAY),n-t<m.ONE_DAY||((t=this._getBoundaryDate("min")).setMinutes(r),n&&Math.abs(n-e)<m.ONE_DAY&&(o=(60*e.getHours()+Math.abs(e.getMinutes()-r))*m.ONE_MINUTE)),this._getRangeItems(t,new Date(t),o))},_getRangeItems:function(t,e,n){for(var o=[],r=this.dateBox.option("interval");e-t<=n;)o.push(new Date(e)),e.setMinutes(e.getMinutes()+r);return o},_getBoundaryDate:function(t){var e=D[t],n=new Date(c(this.dateBox.dateOption("value"),0));return new Date(n.getFullYear(),n.getMonth(),n.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return v.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){this.dateBox.option("opened",!1);var e=this.dateBox.option("value"),n=t.itemData,o=n.getHours(),r=n.getMinutes(),l=n.getSeconds(),d=n.getFullYear(),h=n.getMonth(),c=n.getDate();e?((e=this.dateBox.option("dateSerializationFormat")?x.deserializeDate(e):new Date(e)).setHours(o),e.setMinutes(r),e.setSeconds(l),e.setFullYear(d),e.setMonth(h),e.setDate(c)):e=new Date(d,h,c,o,r,0,0),this.dateBoxValue(e,t.event)},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=y(this.dateBox.option("dropDownOptions.height"));if(void 0===t||"auto"===t){this.dateBox._setPopupOption("height","auto");var e=this._widget.$element().outerHeight(),n=.45*o(r).height();this.dateBox._setPopupOption("height",Math.min(e,n))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(text,t){var e=this.callBase(text,t);return e&&(e=m.mergeDates(e,new Date(null),"date")),e}});t.exports=w},218:function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,l=n(0),d=n(170),h=n(2).isDate,c=n(10).each,_=n(117),f=864e5,m={SUPPORTED_FORMATS:["date","time","datetime"],DATE_COMPONENT_TEXT_FORMATTER:function(t,e){var n=l("<div>").addClass("dx-dateview-formatter-container");return l("<span>").text(t).addClass("dx-dateview-value-formatter").appendTo(n),l("<span>").text(e).addClass("dx-dateview-name-formatter").appendTo(n),n},ONE_MINUTE:6e4,ONE_DAY:f,ONE_YEAR:31536e6,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:(r=new Date,new Date(r.getFullYear()+50,r.getMonth(),r.getDate(),23,59,59)),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:["year","day","month","day"]},time:{getStandardPattern:function(){return"HH:mm"},components:["hours","minutes","seconds","milliseconds"]},datetime:{getStandardPattern:function(){var t,e;return(e=l("<input>").attr("type","datetime")).val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ"),t||(t="yyyy-MM-ddTHH:mm:ssZ"),m.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:["year","day","month","day"].concat(["hours","minutes","seconds","milliseconds"])},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:["year","day","month","day"].concat(["hours","minutes","seconds"])}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var pattern=m.FORMATS_INFO[e].getStandardPattern();return d.serializeDate(t,pattern)},fromStandardDateFormat:function(text){var t=d.dateParser(text);return h(t)?t:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,n){if(!e)return e||null;if(!t||isNaN(t.getTime())){var o=new Date(null);t=new Date(o.getFullYear(),o.getMonth(),o.getDate())}var r=new Date(t.valueOf()),l=m.FORMATS_INFO[n];return c(l.components,(function(){var t=m.DATE_COMPONENTS_INFO[this];r[t.setter](e[t.getter]())})),r},getLongestCaptionIndex:function(t){var i,e=0,n=0;for(i=0;i<t.length;++i)t[i].length>n&&(e=i,n=t[i].length);return e},formatUsesMonthName:function(t){return _.formatUsesMonthName(t)},formatUsesDayName:function(t){return _.formatUsesDayName(t)},getLongestDate:function(t,e,n){var r=function(t){var e=o(t);return"string"===e?"format":"object"===e&&void 0!==t.type?t.type:null}(t),l=9;r&&!m.formatUsesMonthName(r)||(l=m.getLongestCaptionIndex(e));var d=new Date(1888,l,21,23,59,59,999);if(!r||m.formatUsesDayName(r)){var h=d.getDate()-d.getDay()+m.getLongestCaptionIndex(n);d.setDate(h)}return d},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};m.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var n=new Date(e.getTime());return n.setFullYear(t),_.format(n,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var n=new Date(e.getTime());return n.setDate(t),_.format(n,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return _.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return _.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return _.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return _.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return _.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}},t.exports=m},432:function(t,e,n){"use strict";t.exports=n(1752),t.exports.default=t.exports},433:function(t,e,n){"use strict";var o=n(0),r=n(14),l=n(6).noop,d=n(37),h=n(117),c=d.abstract,_=d.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(element){element=element||o("<div>"),this._widget=this._createWidget(element),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(element){var t=this._getWidgetName(),e=this._getWidgetOptions();return this.dateBox._createComponent(element,t,e)},_getWidgetOptions:c,_getWidgetName:c,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:c,supportedKeys:l,getKeyboardListener:l,customizeButtons:l,getParsedText:function(text,t){var e=h.parse(text,t);return e||h.parse(text)},renderInputMinMax:l,renderOpenedState:function(){this._updateValue()},popupConfig:c,_dimensionChanged:function(){var t;null===(t=this._getPopup())||void 0===t||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();r.off(e,"mousedown"),r.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:l,getLastPopupElement:l,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:l,popupHiddenHandler:l,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:l,getDefaultDate:function(){return new Date},textChangedHandler:l,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}});t.exports=_}}]);