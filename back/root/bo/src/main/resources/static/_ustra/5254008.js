(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1077:function(e,t,n){"use strict";var o=n(37),r=n(1643),l=n(1644),d=n(1).extend,c=n(6).noop,h=n(2).isDefined,f=n(19).Deferred;e.exports=o.inherit({ctor:function(e){this.options=d(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new r(this.options):new l(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:c,key:c,keyOf:function(e){return e},load:function(){return(new f).resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:c,filter:c}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(e){if(void 0===e)return this.options.selectionFilter;var t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()},setSelection:function(e){return this.selectedItemKeys(e)},select:function(e){return this.selectedItemKeys(e,!0)},deselect:function(e){return this.selectedItemKeys(e,!0,!0)},selectedItemKeys:function(e,t,n,o){var r;return e=null!==(r=e)&&void 0!==r?r:[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,t,n,o)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(e,t){this._selectionStrategy.addSelectedItem(t,e)},_removeSelectedItem:function(e){this._selectionStrategy.removeSelectedItem(e)},_setSelectedItems:function(e,t){this._selectionStrategy.setSelectedItems(e,t)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(e,t){var n,o=this.options.plainItems(),r=o[e];if(!this.isSelectable()||!this.isDataItem(r))return!1;var l=this.options.getItemData(r),d=this.options.keyOf(l);if((t=t||{}).shift&&"multiple"===this.options.mode&&this._focusedItemIndex>=0)n=this.changeItemSelectionWhenShiftKeyPressed(e,o);else if(t.control){this._resetItemSelectionWhenShiftKeyPressed();var c=this._selectionStrategy.isItemDataSelected(l);"single"===this.options.mode&&this.clearSelectedItems(),c?this._removeSelectedItem(d):this._addSelectedItem(l,d),n=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var h=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],d);1===this.options.selectedItemKeys.length&&h||(this._setSelectedItems([d],[l]),n=!0)}return n?(this._focusedItemIndex=e,this.onSelectionChanged(),!0):void 0},isDataItem:function(e){return this.options.isSelectableItem(e)},isSelectable:function(){return"single"===this.options.mode||"multiple"===this.options.mode},isItemDataSelected:function(data){return this._selectionStrategy.isItemDataSelected(data,{checkPending:!0})},isItemSelected:function(e,t){return this._selectionStrategy.isItemKeySelected(e,t)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyPressed:function(e,t){var n,o,data,r,l=!1,d=this.options.keyOf,c=t[this._focusedItemIndex],f=this.options.getItemData(c),m=d(f),_=c&&this.isItemDataSelected(f);if(h(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex),this._shiftFocusedItemIndex!==this._focusedItemIndex)for(n=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,o=this._focusedItemIndex;o!==this._shiftFocusedItemIndex;o+=n)this.isDataItem(t[o])&&(r=d(this.options.getItemData(t[o])),this._removeSelectedItem(r),l=!0);if(e!==this._shiftFocusedItemIndex)for(n=e<this._shiftFocusedItemIndex?1:-1,o=e;o!==this._shiftFocusedItemIndex;o+=n)this.isDataItem(t[o])&&(r=d(data=this.options.getItemData(t[o])),this._addSelectedItem(data,r),l=!0);return this.isDataItem(c)&&!_&&(this._addSelectedItem(f,m),l=!0),l},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(e){for(var t=this._selectionStrategy.getSelectableItems(this.options.plainItems()),i=0;i<t.length;i++){var n=t[i];if(this.isDataItem(n)){var o=this.options.getItemData(n),r=this.options.keyOf(o),l=this.isItemSelected(r);l||e||this._addSelectedItem(o,r),l&&e&&this._removeSelectedItem(r)}}return this.onSelectionChanged(),(new f).resolve()},getSelectAllState:function(e){return this._selectionStrategy.getSelectAllState(e)}})},1078:function(e,t,n){"use strict";var o=n(153),r=n(6),l=n(2),d=r.getKeyHash,c=n(37),h=n(19).Deferred;e.exports=c.inherit({ctor:function(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:r.noop,_setOption:function(e,t){this.options[e]=t},onSelectionChanged:function(){var e=this.options.addedItemKeys,t=this.options.removedItemKeys,n=this.options.addedItems,o=this.options.removedItems,l=this.options.selectedItems,d=this.options.selectedItemKeys,c=this.options.onSelectionChanged||r.noop;this._clearItemKeys(),c({selectedItems:l,selectedItemKeys:d,addedItemKeys:e,removedItemKeys:t,addedItems:n,removedItems:o})},equalKeys:function(e,t){return this.options.equalByReference&&l.isObject(e)&&l.isObject(t)?e===t:r.equalByValue(e,t)},getSelectableItems:function(e){return e.filter((function(e){return!e.disabled}))},_clearSelection:function(e,t,n,o){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,t,n,o)},_loadFilteredData:function(e,t,select,n){var r=encodeURI(JSON.stringify(e)).length,d=this.options.maxFilterLengthInRequest&&r>this.options.maxFilterLengthInRequest,c=new h,f={filter:d?void 0:e,select:d?this.options.dataFields():select||this.options.dataFields()};return e&&0===e.length?c.resolve([]):this.options.load(f).done((function(r){var h=l.isPlainObject(r)?r.data:r;t&&!n?h=h.filter(t):d&&(h=o(h).filter(e).toArray()),c.resolve(h)})).fail(c.reject.bind(c)),c},updateSelectedItemKeyHash:function(e){for(var i=0;i<e.length;i++){var t=d(e[i]);if(!l.isObject(t))this.options.keyHashIndices[t]=this.options.keyHashIndices[t]||[],this.options.keyHashIndices[t].push(i)}},_isAnyItemSelected:function(e){for(var i=0;i<e.length;i++)if(this.options.isItemSelected(e[i]))return;return!1},_getFullSelectAllState:function(){var e=this.options.plainItems(),t=this.options.filter(),n=this.options.selectedItems;t&&(n=o(n).filter(t).toArray());var r=n.length;return r?r>=this.options.totalCount()-this.options.disabledItemKeys.length||void 0:this._isAnyItemSelected(e)},_getVisibleSelectAllState:function(){for(var e=this.getSelectableItems(this.options.plainItems()),t=!1,n=!1,i=0;i<e.length;i++){var o=e[i],r=this.options.getItemData(o),l=this.options.keyOf(r);this.options.isSelectableItem(o)&&(this.isItemKeySelected(l)?t=!0:n=!0)}return!!t&&(!n||void 0)}})},1087:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);t.default={_getSpecificDataSourceOption:function(){var e=this.option("dataSource"),t=!1,data={};return this._getGroupedOption()&&function(data){return Array.isArray(data)&&data.every((function(e){return 2===Object.keys(e).length&&"key"in e&&"items"in e&&Array.isArray(e.items)}))}(e)&&(data=e.reduce((function(e,n){var r=n.items.map((function(e){return(0,o.isObject)(e)||(e={text:e},t=!0),"key"in e||(e.key=n.key),e}));return e.concat(r)}),[]),e={store:{type:"array",data:data},group:{selector:"key",keepInitialKeyOrder:!0}},t&&(e.searchExpr="text")),e}}},1112:function(e,t,n){"use strict";var o=n(0),r=n(6).noop,l=n(14),d=n(2),c=n(211).isWrapped,h=n(70).compileGetter,f=n(50),m=n(1).extend,_=n(29),I=n(34).getPublicElement,y=n(183).normalizeDataSourceOptions,v=n(21).normalizeKeyName;n(187),n(217),n(215),n(296),n(432);var S=function(){var e=function(e,t){return m(e,{readOnly:t.readOnly,placeholder:t.placeholder,inputAttr:{id:t.id},tabIndex:t.tabIndex},t.editorOptions)},t=function(){return f.msie||f.mozilla||_.real().ios},n=function(n){var data={},r=t(),c=n.sharedData||data;return e({placeholder:n.placeholder,width:n.width,value:n.value,onValueChanged:function(e){var t="filterRow"===n.parentType||"searchPanel"===n.parentType,o=e.event&&("input"===e.event.type||"keyup"===e.event.type),r=function(e,t){n&&n.setValue(e.value,t)};clearTimeout(data.valueChangeTimeout),o&&t?c.valueChangeTimeout=data.valueChangeTimeout=setTimeout((function(){r(e,data.valueChangeTimeout!==c.valueChangeTimeout)}),d.isDefined(n.updateValueTimeout)?n.updateValueTimeout:0):r(e)},onKeyDown:function(e){r&&"enter"===v(e.event)&&l.trigger(o(e.component._input()),"change")},valueChangeEvent:"change"+("filterRow"===n.parentType?" keyup input":"")},n)},S=function(t){"filterRow"===t.parentType||"filterBuilder"===t.parentType?x(m(t,{lookup:{displayExpr:function(data){return!0===data?t.trueText||"true":!1===data?t.falseText||"false":void 0},dataSource:[!0,!1]}})):function(t){t.editorName="dxCheckBox",t.editorOptions=e({value:d.isDefined(t.value)?t.value:void 0,hoverStateEnabled:!t.readOnly,focusStateEnabled:!t.readOnly,activeStateEnabled:!1,onValueChanged:function(e){t.setValue&&t.setValue(e.value,e)}},t)}(t)};function x(t){var n,o,r,l=t.lookup,f="filterRow"===t.parentType;if(l){n=h(l.displayExpr),o=l.dataSource,d.isFunction(o)&&!c(o)&&(o=o(t.row||{}),function(e){if(e.row&&e.row.watch&&"dataRow"===e.parentType){var t,n=e.editorOptions||{};e.editorOptions=n;var o,r=n.onInitialized;n.onInitialized=function(e){r&&r.apply(this,arguments),(t=e.component).on("disposing",l)};var l=e.row.watch((function(){return(o=e.lookup.dataSource(e.row))&&o.filter}),(function(){t.option("dataSource",o)}),(function(t){e.row=t}))}}(t)),(d.isObject(o)||Array.isArray(o))&&(o=y(o),f&&(r=o.postProcess,o.postProcess=function(e){return 0===this.pageIndex()&&(e=e.slice(0)).unshift(null),r?r.call(this,e):e}));var m=Boolean(l.allowClearing&&!f);t.editorName="dxSelectBox",t.editorOptions=e({searchEnabled:!0,value:t.value,valueExpr:t.lookup.valueExpr,searchExpr:t.lookup.searchExpr||t.lookup.displayExpr,allowClearing:m,showClearButton:m,displayExpr:function(data){return null===data?t.showAllText:n(data)},dataSource:o,onValueChanged:function(e){var n=[e.value];!f&&n.push(e.component.option("text")),t.setValue.apply(this,n)}},t)}}return{createEditor:function(l,c){if(c.cancel=!1,c.editorElement=I(l),d.isDefined(c.tabIndex)||(c.tabIndex=this.option("tabIndex")),c.lookup)x(c);else switch(c.dataType){case"date":case"datetime":!function(n){n.editorName="dxDateBox",n.editorOptions=e({value:n.value,onValueChanged:function(e){n.setValue(e.value)},onKeyDown:function(e){t()&&"enter"===v(e.event)&&(e.component.blur(),e.component.focus())},displayFormat:n.format,type:n.dataType,dateSerializationFormat:null,width:"filterBuilder"===n.parentType?void 0:"auto"},n)}(c);break;case"boolean":S(c);break;case"number":!function(e){var t=n(e);t.value=d.isDefined(e.value)?e.value:null,e.editorName="dxNumberBox",e.editorOptions=t}(c);break;default:!function(e){var t,o=n(e),r="searchPanel"===e.parentType;e.editorType&&"dxTextBox"!==e.editorType?o.value=e.value:o.value=(t=e.value,d.isDefined(t)?t.toString():""),o.valueChangeEvent+=r?" keyup input search":"",o.mode=o.mode||(r?"search":"text"),e.editorName="dxTextBox",e.editorOptions=o}(c)}var h=c.editorName;this.executeAction("onEditorPreparing",c),c.cancel||("dataRow"===c.parentType&&c.editorType&&h===c.editorName&&(c.editorName=c.editorType),"dataRow"!==c.parentType||c.isOnForm||d.isDefined(c.editorOptions.showValidationMark)||(c.editorOptions.showValidationMark=!1),function(e,t){var n=o(t.editorElement);if(t.editorName&&t.editorOptions&&n[t.editorName]){if("dxCheckBox"!==t.editorName&&"dxSwitch"!==t.editorName||t.isOnForm||(n.addClass(e.addWidgetPrefix("checkbox-size")),n.parent().addClass("dx-editor-inline-block")),e._createComponent(n,t.editorName,t.editorOptions),"dxTextBox"===t.editorName&&n.dxTextBox("instance").registerKeyHandler("enter",r),"dxDateBox"===t.editorName){var l=n.dxDateBox("instance"),d=l._supportedKeys().enter;l.registerKeyHandler("enter",(function(e){return l.option("opened")&&d(e),!0}))}"dxTextArea"===t.editorName&&n.dxTextArea("instance").registerKeyHandler("enter",(function(e){"enter"!==v(e)||e.ctrlKey||e.shiftKey||e.stopPropagation()}))}}(this,c),this.executeAction("onEditorPrepared",c))}}}();e.exports=S},1643:function(e,t,n){"use strict";var o=n(2),r=n(1078),l=n(56),d=n(153),c=n(19).Deferred;e.exports=r.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var e=new c,t=this,n=this.options.key(),select=o.isString(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,select).done((function(n){var o=n.map((function(e){return t.options.keyOf(e)}));e.resolve(o)})).fail(e.reject),e.promise()},selectedItemKeys:function(e,t,n,o){if(o){var filter=this.options.filter();!filter||JSON.stringify(filter)===JSON.stringify(this.options.selectionFilter)&&n?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,filter,o)}else{t||this._setOption("selectionFilter",[]);for(var i=0;i<e.length;i++)n?this.removeSelectedItem(e[i]):this.addSelectedItem(e[i])}return this.onSelectionChanged(),(new c).resolve()},setSelectedItems:function(e){this._setOption("selectionFilter",null);for(var i=0;i<e.length;i++)this.addSelectedItem(e[i])},isItemDataSelected:function(e){return this.isItemKeySelected(e)},isItemKeySelected:function(e){var t=this.options.selectionFilter;return!t||!!d([e]).filter(t).toArray().length},_getKeyExpr:function(){var e=this.options.key();return Array.isArray(e)&&1===e.length?e[0]:e},_normalizeKey:function(e){var t=this.options.key();return Array.isArray(t)&&1===t.length?e[t[0]]:e},_getFilterByKey:function(e){var t=this._getKeyExpr(),filter=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){filter=[];for(var i=0;i<t.length;i++)filter.push([t[i],"=",e[t[i]]]),i!==t.length-1&&filter.push("and")}return filter},addSelectedItem:function(e){var filter=this._getFilterByKey(e);this._addSelectionFilter(!1,filter)},removeSelectedItem:function(e){var filter=this._getFilterByKey(e);this._addSelectionFilter(!0,filter)},validate:function(){var e=this.options.key;if(e&&void 0===e())throw l.Error("E1042","Deferred selection")},_findSubFilter:function(e,filter){if(!e)return-1;for(var t=JSON.stringify(filter),n=0;n<e.length;n++){var o=e[n];if(o&&JSON.stringify(o)===t)return n}return-1},_isLastSubFilter:function(e,filter){return!(!e||!filter)&&(this._findSubFilter(e,filter)===e.length-1||0===this._findSubFilter([e],filter))},_addFilterOperator:function(e,t){return e.length>1&&o.isString(e[1])&&e[1]!==t&&(e=[e]),e.length&&e.push(t),e},_denormalizeFilter:function(filter){return filter&&o.isString(filter[0])&&(filter=[filter]),filter},_addSelectionFilter:function(e,filter,t){var n=this,o=e?["!",filter]:filter,r=e?"and":"or",l=!0,d=n.options.selectionFilter||[];if((d=n._denormalizeFilter(d))&&d.length){n._removeSameFilter(d,filter,e,t);var c=n._removeSameFilter(d,filter,!e),h=this._isKeyFilter(filter)&&this._hasKeyFiltersOnlyStartingFromIndex(d,c);(l=filter.length&&!h)&&(d=n._addFilterOperator(d,r))}l&&d.push(o),d=n._normalizeFilter(d),n._setOption("selectionFilter",e||d.length?d:null)},_normalizeFilter:function(filter){return filter&&1===filter.length&&(filter=filter[0]),filter},_removeFilterByIndex:function(filter,e,t){var n=filter[1];e>0?filter.splice(e-1,2):filter.splice(e,2),t&&"and"===n&&filter.splice(0,filter.length)},_isSimpleKeyFilter:function(filter,e){return 3===filter.length&&filter[0]===e&&"="===filter[1]},_isKeyFilter:function(filter){if(2===filter.length&&"!"===filter[0])return this._isKeyFilter(filter[1]);var e=this._getKeyExpr();if(Array.isArray(e)){if(filter.length!==2*e.length-1)return!1;for(var i=0;i<e.length;i++){if(i>0&&"and"!==filter[2*i-1])return!1;if(!this._isSimpleKeyFilter(filter[2*i],e[i]))return!1}return!0}return this._isSimpleKeyFilter(filter,e)},_hasKeyFiltersOnlyStartingFromIndex:function(e,t){if(t>=0){for(var i=t;i<e.length;i++)if("string"!=typeof e[i]&&!this._isKeyFilter(e[i]))return!1;return!0}return!1},_removeSameFilter:function(e,filter,t,n){if(filter=t?["!",filter]:filter,JSON.stringify(filter)===JSON.stringify(e))return e.splice(0,e.length),0;var o=this._findSubFilter(e,filter);if(o>=0)return this._removeFilterByIndex(e,o,n),o;for(var i=0;i<e.length;i++)if(Array.isArray(e[i])&&e[i].length>2){var r=this._removeSameFilter(e[i],filter,!1,n);if(r>=0)return e[i].length?1===e[i].length&&(e[i]=e[i][0]):this._removeFilterByIndex(e,i,n),r}return-1},getSelectAllState:function(){var filter=this.options.filter(),e=this.options.selectionFilter;return!e||!!e.length&&(filter&&filter.length?(e=this._denormalizeFilter(e),!!this._isLastSubFilter(e,filter)||!this._isLastSubFilter(e,["!",filter])&&void 0):void 0)}})},1644:function(e,t,n){"use strict";var o=n(6),r=n(2),l=r.isDefined,d=n(35),c=n(634).isKeysEqual,h=o.getKeyHash,f=n(153),m=n(19),_=n(1079).SelectionFilterCreator,I=m.when,y=m.Deferred,v=n(56),S=n(1078);e.exports=S.inherit({ctor:function(e){this.callBase(e),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(e,t){var n,o,i,r=this.options.keyOf;if(r){var l=t&&e.length>1&&!this.options.equalByReference;for(l&&(n={}),i=0;i<e.length;i++){var d=e[i],c=r(d);t?(o=this.removeSelectedItem(c,n),n&&o>=0&&(n[o]=!0)):this.addSelectedItem(c,d)}l&&this._batchRemoveSelectedItems(n)}},_batchRemoveSelectedItems:function(e){var t=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var i=0;i<t.length;i++)e[i]||(this.options.selectedItemKeys.push(t[i]),this.options.selectedItems.push(n[i]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(e,t,n){var o=new y,r=this.options.key();if(!e.length&&!n)return o.resolve([]),o;var filter=this.options.filter();if(n&&t&&!filter)return o.resolve(this.getSelectedItems()),o;var l=new _(e,n),d=l.getCombinedFilter(r,filter),c=[];t&&(c=d?f(this.options.selectedItems).filter(d).toArray():this.options.selectedItems.slice(0));var h=c.length?c:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),m=l.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,r);return h=h.filter(m),c.length||!n&&h.length===e.length?o.resolve(h):o=this._loadFilteredData(d,m,null,n),o},_replaceSelectionUpdate:function(e){var t=[],n=this.options.keyOf;if(n){for(var i=0;i<e.length;i++){var o=n(e[i]);t.push(o)}this.setSelectedItems(t,e)}},_warnOnIncorrectKeys:function(e){for(var t=this.options.allowNullValue,i=0;i<e.length;i++){var n=e[i];t&&null===n||this.isItemKeySelected(n)||v.log("W1002",n)}},_isMultiSelectEnabled:function(){var e=this.options.mode;return"all"===e||"multiple"===e},_requestInProgress:function(){var e;return"pending"===(null===(e=this._lastLoadDeferred)||void 0===e?void 0:e.state())},_concatRequestsItems:function(e,t,n){var o=t?e:[];return{addedItems:n.added.concat(d.removeDuplicates(e,this.options.selectedItemKeys)),removedItems:n.removed.concat(o),keys:e}},_collectLastRequestData:function(e,t,n){var o=t&&n,r={added:[],removed:[]},l=this._isMultiSelectEnabled(),d=l?this._lastRequestData:{};return l&&(this._requestInProgress()&&(o?(this._lastLoadDeferred.reject(),d={}):c(e,this.options.selectedItemKeys)?d={}:(r.added=d.addedItems,r.removed=d.removedItems,t||this._lastLoadDeferred.reject())),d=this._concatRequestsItems(e,t,r)),d},_updateKeysByLastRequestData:function(e,t,n){var o,r,l=e;!this._isMultiSelectEnabled()||t||n||(l=d.removeDuplicates(e.concat(null===(o=this._lastRequestData)||void 0===o?void 0:o.addedItems),null===(r=this._lastRequestData)||void 0===r?void 0:r.removedItems),l=d.uniqueValues(l));return l},_loadSelectedItems:function(e,t,n){var o=this,r=new y;return this._lastRequestData=this._collectLastRequestData(e,t,n),I(o._lastLoadDeferred).always((function(){var l=o._updateKeysByLastRequestData(e,t,n);o._loadSelectedItemsCore(l,t,n).done(r.resolve).fail(r.reject)})),o._lastLoadDeferred=r,r},selectedItemKeys:function(e,t,n,o){var r=this,l=r._loadSelectedItems(e,n,o);return l.done((function(e){t?r._preserveSelectionUpdate(e,n):r._replaceSelectionUpdate(e),r.onSelectionChanged()})),l},addSelectedItem:function(e,t){if(l(t)&&t.disabled)-1===this.options.disabledItemKeys.indexOf(e)&&this.options.disabledItemKeys.push(e);else{var n=this._getKeyHash(e);-1===this._indexOfSelectedItemKey(n)&&(!r.isObject(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))}},_getSelectedIndexByKey:function(e,t){for(var n=this.options.selectedItemKeys,o=0;o<n.length;o++)if((!t||!t[o])&&this.equalKeys(n[o],e))return o;return-1},_getSelectedIndexByHash:function(e,t){var n=this.options.keyHashIndices[e];return n&&n.length>1&&t&&(n=n.filter((function(e){return!t[e]}))),n&&n[0]>=0?n[0]:-1},_indexOfSelectedItemKey:function(e,t){return this.options.equalByReference?this.options.selectedItemKeys.indexOf(e):r.isObject(e)?this._getSelectedIndexByKey(e,t):this._getSelectedIndexByHash(e,t)},_shiftSelectedKeyIndices:function(e){for(var t=e;t<this.options.selectedItemKeys.length;t++){var n=this.options.selectedItemKeys[t],o=h(n),r=this.options.keyHashIndices[o];if(r)for(var i=0;i<r.length;i++)r[i]>e&&r[i]--}},removeSelectedItem:function(e,t){var n=this._getKeyHash(e),o=!!t,l=this._indexOfSelectedItemKey(n,t);if(l<0)return l;if(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[l]),o)return l;if(this.options.selectedItemKeys.splice(l,1),this.options.selectedItems.splice(l,1),r.isObject(n)||!this.options.keyHashIndices)return l;var d=this.options.keyHashIndices[n];return d?(d.shift(),d.length||delete this.options.keyHashIndices[n],this._shiftSelectedKeyIndices(l),l):l},_updateAddedItemKeys:function(e,t){for(var i=0;i<e.length;i++)this.isItemKeySelected(e[i])||(this.options.addedItemKeys.push(e[i]),this.options.addedItems.push(t[i]))},_updateRemovedItemKeys:function(e,t,n){for(var i=0;i<t.length;i++)this.isItemKeySelected(t[i])||(this.options.removedItemKeys.push(t[i]),this.options.removedItems.push(n[i]))},_isItemSelectionInProgress:function(e,t){return!!(t&&this._lastRequestData&&this._requestInProgress())&&(this._lastRequestData.addedItems&&-1!==this._lastRequestData.addedItems.indexOf(e))},_getKeyHash:function(e){return this.options.equalByReference?e:h(e)},setSelectedItems:function(e,t){this._updateAddedItemKeys(e,t);var n=this.options.selectedItemKeys,o=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,n,o)},isItemDataSelected:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.options.keyOf(e);return this.isItemKeySelected(n,t)},isItemKeySelected:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._isItemSelectionInProgress(e,t.checkPending);if(!n){var o=this._getKeyHash(e),r=this._indexOfSelectedItemKey(o);n=-1!==r}return n},getSelectAllState:function(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}})},188:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=m(n(0)),l=m(n(14)),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var desc=r?Object.getOwnPropertyDescriptor(e,l):null;desc&&(desc.get||desc.set)?Object.defineProperty(n,l,desc):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(21)),c=n(1),h=m(n(27));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}var _="dx-state-focused",I=".dx-datagrid-rowsview .dx-row",y="".concat(I," > td"),v=".dx-treelist-rowsview .dx-row",S="".concat(v," > td"),x={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(".dx-row-focused"),"".concat(I,"[tabindex]"),"".concat(y,"[tabindex]"),"".concat(y),"".concat(v,"[tabindex]"),"".concat(S,"[tabindex]"),"".concat(S)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},w=!1,C=!1,K=null;function D(t,n,o,l,h,f){if(!function(e,t,n){var o={event:t,handled:!1};n?n(o):e._createActionByOption("onKeyDown")(o);return o.handled}(n,o.originalEvent,f)){var m=d.normalizeKeyName(o);"enter"===m||"space"===m?(!function(e,t){var n=(0,r.default)(e),o=n.attr("aria-label"),l=F(o,t.element()).index(n);K=(0,c.extend)({},{ariaLabel:o,index:l},{viewInstance:t})}(o.target,n),l&&l({event:o})):"tab"===m?h.addClass(_):e.exports.selectView(t,n,o)}}function F(e,t){var n=(0,r.default)(t);return e?n.find('[aria-label="'.concat(e,'"][tabindex]')):n.find("[tabindex]")}function O(e){for(var t in e){var n=e[t],o=(0,r.default)(n).first();if(o.length)return o}}function V(){C="visible"===h.default.getDocument().visibilityState}e.exports={subscribeVisibilityChange:function(){l.default.on(h.default.getDocument(),"visibilitychange",V)},unsubscribeVisibilityChange:function(){l.default.off(h.default.getDocument(),"visibilitychange",V)},hiddenFocus:function(element){C=!0,element.focus(),C=!1},registerKeyboardAction:function(e,t,n,o,d,c){if(!t.option("useLegacyKeyboardNavigation")){var h=(0,r.default)(t.element());l.default.on(n,"keydown",o,(function(n){return D(e,t,n,d,h,c)})),l.default.on(n,"mousedown",o,(function(){w=!0,h.removeClass(_)})),l.default.on(n,"focusin",o,(function(){!w&&!C&&h.addClass(_),w=!1}))}},restoreFocus:function(e){if(!e.option("useLegacyKeyboardNavigation")&&K){var t=K.viewInstance;if(t){var n=F(K.ariaLabel,t.element()).eq(K.index);K=null,l.default.trigger(n,"focus")}}},selectView:function(e,t,n){var o=d.normalizeKeyName(n);if(n.ctrlKey&&("upArrow"===o||"downArrow"===o))for(var r=Object.keys(x),c=r.indexOf(e);c>=0&&c<r.length;){var h=r[c="upArrow"===o?--c:++c],f=O(x[h]);if(f&&f.length){f.attr("tabindex",t.option("tabindex")||0),l.default.trigger(f,"focus"),f.removeClass("dx-cell-focus-disabled");break}}},setTabIndex:function(e,t){e.option("useLegacyKeyboardnavigation")||t.attr("tabindex",e.option("tabindex")||0)}}},296:function(e,t,n){"use strict";var o=n(0),r=n(6),l=n(2),d=l.isDefined,c=l.isPromise,h=n(1).extend,f=n(35).inArray,m=n(10).each,_=n(19),I=n(34).getPublicElement,y=_.Deferred,v=n(73),S=n(27),x=n(181),w=n(30),C=n(26),K=n(1751),D=n(21).normalizeKeyName,F="dx-selectbox-popup-wrapper",O=K.inherit({_supportedKeys:function(){var e=this,t=this.callBase(),n=function(e){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(e.preventDefault(),this.reset()),this._savedTextRemoveEvent=e,this._preventSubstitution=!0},o=function(){e.option("searchEnabled")&&e._valueSubstituted()&&e._searchHandler()};return h({},t,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._resetCaretPosition(!0),t.tab&&t.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(e){if(t.upArrow&&t.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(e),!0},downArrow:function(e){if(t.downArrow&&t.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(e),!0},leftArrow:function(){o(),t.leftArrow&&t.leftArrow.apply(this,arguments)},rightArrow:function(){o(),t.rightArrow&&t.rightArrow.apply(this,arguments)},home:function(){o(),t.home&&t.home.apply(this,arguments)},end:function(){o(),t.end&&t.end.apply(this,arguments)},escape:function(){var e=t.escape&&t.escape.apply(this,arguments);return this._cancelEditing(),null==e||e},enter:function(e){var n=this.option("opened"),o=this._input().val().trim(),r=o&&this._list&&!this._list.option("focusedElement");if(!o&&d(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(e),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return e.preventDefault(),r&&(n&&this._toggleOpenState(),this._valueChangeEventHandler(e)),n;if(t.enter&&t.enter.apply(this,arguments))return n}},space:function(e){var t=this.option("opened"),n=this.option("searchEnabled"),o=this.option("acceptCustomValue");if(t&&!n&&!o)return e.preventDefault(),this._valueChangeEventHandler(e),!0},backspace:n,del:n})},_getDefaultOptions:function(){return h(this.callBase(),{placeholder:w.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(e){d(e.customItem)||(e.customItem=e.text)},showSelectionControls:!1,autocompletionEnabled:!0,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,_isAdaptablePopupPosition:!1,useInkRipple:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),this.option("useInkRipple")&&this._renderInkRipple(),this.callBase(),this._$container.addClass("dx-selectbox-container")},_renderInkRipple:function(){this._inkRipple=x.render()},_toggleActiveState:function(e,t,n){if(this.callBase.apply(this,arguments),this._inkRipple&&!this._isEditable()){var o={element:this._inputWrapper(),event:n};t?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}},_createPopup:function(){this.callBase(),this._popup.$element().addClass("dx-selectbox-popup"),this._popup.overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+F},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){if(this._searchValue()){var e=this._list._itemElements(),t=f(this.option("selectedItem"),this.option("items")),n=t>=0&&!this._isCustomItemSelected()?e.eq(t):null;this._focusListElement(n)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list)if(this._searchValue()&&!this.option("acceptCustomValue")){var e=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(e)}else this._focusListElement(null)},_focusListElement:function(element){this._preventInputValueRender=!0,this._list.option("focusedElement",I(element)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase(),this._dataSource&&this._dataSource.paginate()&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new y).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new y).resolve()},_setNextItem:function(e){var t=this._calcNextItem(e),n=this._valueGetter(t);this._setValue(n)},_setNextValue:function(e){(this._dataSource.isLoaded()?(new y).resolve():this._dataSource.load()).done(function(){var t=this._getSelectedIndex(),n=this._dataSource.pageSize(),o=this._dataSource.isLastPage(),r=t===this._items().length-1;this._saveValueChangeEvent(e);var l="downArrow"===D(e)?1:-1;n&&!o&&r&&l>0?(this._popup||this._createPopup(),this._dataSource.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,l))):this._setNextItem(l)}.bind(this))},_setSelectedItem:function(e){var t=!this._isCustomValueAllowed()&&void 0===e;this.callBase(t?null:e),t||this._isEditable()&&!this._isCustomItemSelected()||this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(e){return e=!d(e)&&this._isCustomValueAllowed()?this.option("value"):e,this.callBase(e)},_listConfig:function(){var e=h(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&h(e,{showSelectionControls:!0,selectionByClick:!0}),e},_listFocusedItemChangeHandler:function(e){if(!this._preventInputValueRender){var t=e.component,n=o(t.option("focusedElement")),r=t._getItemData(n);this._updateField(r)}},_updateField:function(e){if(!this._getTemplateByOption("fieldTemplate")||!this.option("fieldTemplate")){var text=this._displayGetter(e);return this.option("text",text),void this._renderDisplayText(text)}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):r.noop},_selectionChangeHandler:function(e){m(e.addedItems||[],function(e,t){this._setValue(this._valueGetter(t))}.bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(e){if(!this.option("disabled")){if((e=arguments.length?e:!this.option("opened"))||this._shouldClearFilter()||this._restoreInputText(!0),this._wasSearch()&&e){this._wasSearch(!1);var t=this.option("showDataBeforeSearch")||0===this.option("minSearchLength");if(t&&this._dataSource){if(this._searchTimer)return;var n=this._getActualSearchValue();n&&this._wasSearch(!0),this._filterDataSource(n||null)}else this._setListOption("items",[])}e&&this._scrollToSelectedItem(),this.callBase(e)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var e=this.option("selectedItem");if(null===e)return!1;var t=this._displayGetter(e);return(t?String(t):"")===this._searchValue()},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(e){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var t=this.option("selectedItem");this.option("acceptCustomValue")?e||(this._updateField(t),this._clearFilter()):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(e){var n=r.ensureDefined(e,t);this._setSelectedItem(n),this._updateField(n),this._clearFilter()}.bind(this))}.bind(this))},_focusOutHandler:function(e){this._preventNestedFocusEvent(e)||(this._isOverlayNestedTarget(e.relatedTarget)||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(e));e.target=this._input().get(0),this.callBase(e)},_cancelSearchIfNeed:function(e){var t,n=this.option().searchEnabled,o=this._isOverlayNestedTarget(null==e?void 0:e.relatedTarget);this._wasSearch()&&n&&!o&&((null===(t=this._popup)||void 0===t?void 0:t._hideAnimationProcessing)?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled()))},_shouldCancelSearch:function(e){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=e},_isOverlayNestedTarget:function(e){return!!o(e).closest(".".concat(F)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var e=S.getActiveElement();return this.callBase()&&o(e).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var e=this._list&&this.option("opened")&&o(this._list.option("focusedElement"));return e&&e.length?this._list._getItemData(e):this.option("selectedItem")},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(e){var t=this._getCurrentValue();this._focusListElement(o(e.itemElement)),this._saveValueChangeEvent(e.event),this._completeSelection(this._valueGetter(e.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&t===this._valueGetter(e.itemData)&&this._updateField(e.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(e){this._setValue(e)},_loadItem:function(e,t){var n=this,o=new y;return this.callBase(e,t).done(function(e){o.resolve(e)}.bind(this)).fail(function(){var t=n.option("selectedItem");n.option("acceptCustomValue")&&e===n._valueGetter(t)?o.resolve(t):o.reject()}.bind(this)),o.promise()},_loadInputValue:function(e,t){return this._loadItemDeferred=this._loadItem(e).always(t),this._loadItemDeferred},_isCustomItemSelected:function(){var e=this.option("selectedItem"),t=this._searchValue(),n=this._displayGetter(e);return!n||t!==n.toString()},_valueChangeEventHandler:function(e){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(e),this._isValueChanging=!1)},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(text){var e={text:text},t=this._customItemCreatingAction(e),n=r.ensureDefined(t,e.customItem);return d(t)&&v.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(e){var t=this._searchValue(),n=this._createCustomItem(t);if(this._saveValueChangeEvent(e),void 0===n)throw this._renderValue(),v.Error("E0121");c(n)?_.fromPromise(n).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(n)},_setCustomItem:function(e){this._disposed||(e=e||null,this.option("selectedItem",e),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(e)),this._renderDisplayText(this._displayGetter(e)))},_clearValueHandler:function(e){return this.callBase(e),!1},_wasSearch:function(e){if(!arguments.length)return this._wasSearchValue;this._wasSearchValue=e},_searchHandler:function(e){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(e))},_dataSourceFiltered:function(e){this.callBase(),null!==e&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var input=this._input().get(0),e=0===input.selectionStart&&input.selectionEnd===this._searchValue().length,t=input.selectionStart!==input.selectionEnd;return this._wasSearch()&&t&&!e},_shouldSubstitutionBeRendered:function(){return this.option("autocompletionEnabled")&&!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var e=this._list&&this._getPlainItems(this._list.option("items"))[0];if(e){var t=this._input(),n=t.val().length;if(0!==n){var o=t.get(0),r=this._displayGetter(e).toString();o.value=r,this._caret({start:n,end:r.length})}}}else delete this._preventSubstitution},_dispose:function(){this._renderInputValueAsync=r.noop,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(e){switch(e.name){case"_isAdaptablePopupPosition":case"autocompletionEnabled":break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":case"useInkRipple":this._invalidate();break;case"allowClearing":break;default:this.callBase(e)}},_clean:function(){delete this._inkRipple,this.callBase()}});C("dxSelectBox",O),e.exports=O,e.exports.default=e.exports},342:function(e,t,n){"use strict";var o,r,l,d,c,h=n(2),f=n(35).inArray,m=n(10),_=["year","month","day"],I=["year","month","day","hour","minute"];e.exports=(o=function(e,t){var n=e.dataField||e.selector;return"search"===t&&(n=e.displayField||e.calculateDisplayValue||n),n},r=function(e){return"date"===e||"datetime"===e},l=function(e,t){var n,l,d,c,f=this,m=o(f,t);if(Array.isArray(e)&&h.isDefined(e[0])&&h.isDefined(e[1]))return l=[m,">=",e[0]],d=[m,"<=",e[1]],r(f.dataType)&&(c=e[1]).getHours()+c.getMinutes()+c.getSeconds()+c.getMilliseconds()<1&&(n=new Date(e[1].getTime()),"date"===f.dataType&&n.setDate(e[1].getDate()+1),d=[m,"<",n]),[l,"and",d]},d=function(t,n,r){var l,d,c,f,_=this,I=(f=t,h.isDate(f)?[f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()]:m.map((""+f).split("/"),(function(e,t){return 1===t?Number(e)-1:Number(e)}))),y=o(_,r);switch("headerFilter"===r?c=e.exports.getGroupInterval(_)[I.length-1]:"datetime"===_.dataType&&(c="minute"),c){case"year":l=new Date(I[0],0,1),d=new Date(I[0]+1,0,1);break;case"month":l=new Date(I[0],I[1],1),d=new Date(I[0],I[1]+1,1);break;case"quarter":l=new Date(I[0],3*I[1],1),d=new Date(I[0],3*I[1]+3,1);break;case"hour":l=new Date(I[0],I[1],I[2],I[3]),d=new Date(I[0],I[1],I[2],I[3]+1);break;case"minute":l=new Date(I[0],I[1],I[2],I[3],I[4]),d=new Date(I[0],I[1],I[2],I[3],I[4]+1);break;case"second":l=new Date(I[0],I[1],I[2],I[3],I[4],I[5]),d=new Date(I[0],I[1],I[2],I[3],I[4],I[5]+1);break;default:l=new Date(I[0],I[1],I[2]),d=new Date(I[0],I[1],I[2]+1)}switch(n){case"<":return[y,"<",l];case"<=":return[y,"<",d];case">":return[y,">=",d];case">=":return[y,">=",l];case"<>":return[[y,"<",l],"or",[y,">=",d]];default:return[[y,">=",l],"and",[y,"<",d]]}},c=function(t,n,r){var l=o(this,r),d=e.exports.getGroupInterval(this);if("headerFilter"===r&&d&&h.isDefined(t)){var c=(""+t).split("/"),f=Number(c[c.length-1]);return[[l,">=",f],"and",[l,"<",f+d[c.length-1]]]}return[l,n||"=",t]},{defaultCalculateFilterExpression:function(e,t,n){var f=this,m=o(f,n),_=f.calculateDisplayValue&&"search"===n,I=_&&f.lookup&&f.lookup.dataType||f.dataType,filter=null;if("headerFilter"!==n&&"filterBuilder"!==n||null!==e)if("string"!==I||f.lookup&&!_){if("between"===t)return l.apply(f,[e,n]);if(r(I)&&h.isDefined(e))return d.apply(f,arguments);if("number"===I)return c.apply(f,arguments);"object"!==I&&(filter=[m,t||"=",e])}else filter=[m,t||"contains",e];else filter=[m,t||"=",null],"string"===I&&(filter=[filter,"="===t?"or":"and",[m,t||"=",""]]);return filter},getGroupInterval:function(e){var t,n=[],o=["year","month","day","hour","minute","second"],l=e.headerFilter&&e.headerFilter.groupInterval,d="quarter"===l?"month":l;return r(e.dataType)&&null!==l?(n="datetime"===e.dataType?I:_,(t=f(d,o))>=0?((n=o.slice(0,t)).push(l),n):n):h.isDefined(l)?Array.isArray(l)?l:[l]:void 0}})}}]);